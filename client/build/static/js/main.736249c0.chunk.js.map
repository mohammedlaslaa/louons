{"version":3,"sources":["context/ListCategoryContext.js","components/general/Logo.jsx","components/general/SearchBar.jsx","context/TogglerContext.js","components/front/Header/MenuList.jsx","components/front/Header/Nav.jsx","components/general/Bar.jsx","context/AuthContext.js","components/front/Header/RightSide.jsx","components/front/Header/index.jsx","components/front/Footer/PartOfFooter.jsx","components/front/Footer/index.jsx","Classes/Api/Api.js","components/front/ListProduct.jsx","components/front/Home/index.jsx","components/general/NotFound.jsx","components/general/Form/LiForm.jsx","components/front/Product.jsx","components/front/Category.jsx","components/front/AllProduct.jsx","components/front/TableRental.jsx","components/front/Rental.jsx","components/general/Login.jsx","components/general/Logout.jsx","components/general/PrivateRoute.js","components/general/Form/DivInputForm.jsx","components/front/Profile/TitleSection.jsx","components/front/Profile/Informations.jsx","components/front/Profile/InformationsLogic.jsx","components/front/Profile/TableProfil.jsx","components/front/Profile/MyAnnounces.jsx","components/general/Form/SubmitButton.jsx","components/general/Form/Form.jsx","components/general/Form/AutoCompleteField.jsx","components/general/Form/AddressForm.jsx","components/general/Form/AddressFormLogic.js","components/front/Profile/MyAddresses.jsx","components/front/Profile/Rental.jsx","components/front/Profile/MyRentals.jsx","components/front/Profile/Profile.jsx","components/general/Form/InputFileForm.jsx","components/general/Form/UserForm.jsx","components/general/Form/UserFormLogic.js","components/general/Form/TextAreaInputForm.jsx","components/general/Form/ArticleForm.jsx","components/general/Form/ArticleFormLogic.js","components/front/index.jsx","components/admin/Home.jsx","components/general/SwitchButton.jsx","context/PopupAddContext.js","components/admin/PageTableList.jsx","components/admin/Users/ListUser.jsx","components/admin/Users/PrivateUser.jsx","components/general/PopupAdmin.jsx","components/admin/Categories/CategoryForm.jsx","components/admin/Categories/CategoryFormLogic.js","components/admin/Categories/ListCategory.jsx","components/admin/Categories/PrivateCategory.jsx","components/admin/Articles/ListArticle.jsx","components/admin/Articles/PrivateArticle.jsx","components/admin/Rentals/ListRental.jsx","components/admin/Rentals/RentalForm.jsx","components/admin/Rentals/RentalFormLogic.js","components/admin/Rentals/PrivateRental.jsx","components/admin/Addresses/ListAddress.jsx","components/admin/Addresses/PrivateAddress.jsx","components/admin/Payments/ListPayment.jsx","components/admin/Payments/PaymentForm.jsx","components/admin/Payments/PaymentFormLogic.js","components/admin/Payments/PrivatePayment.jsx","components/admin/Deliveries/ListDelivery.jsx","components/admin/Deliveries/DeliveryForm.jsx","components/admin/Deliveries/DeliveryFormLogic.js","components/admin/Deliveries/PrivateDelivery.jsx","components/admin/Admins/ListAdmin.jsx","components/admin/PrivateAccessSuperAdmin.jsx","components/admin/Admins/AdminForm.jsx","components/admin/Admins/AdminFormLogic.js","components/admin/Admins/PrivateAdmin.jsx","components/admin/Header/RightHeaderPart.jsx","components/admin/Header/index.jsx","components/admin/Menu.jsx","components/admin/Footer.jsx","components/admin/MyProfile.jsx","components/admin/index.jsx","App/App.js","serviceWorker.js","index.js"],"names":["ListCategoryContext","React","createContext","ListCategoryProvider","state","listCat","componentDidMount","fetch","credentials","then","res","json","result","setState","data","this","Provider","value","props","children","Component","Logo","className","specificclassname","to","src","alt","SearchBar","TransitionGroup","isShown","CSSTransition","classNames","timeout","action","type","placeholder","name","defaultProps","TogglerContext","TogglerProvider","useState","isToggle","setIsToggle","setToggle","arg","MenuList","displayCategory","setDisplayCategory","useContext","menuList","map","currElt","index","link","key","onMouseEnter","onMouseLeave","title","unmountOnExit","in","Consumer","e","_id","pathname","id","description","onClick","replace","normalize","Nav","listOfMenu","forceRender","bind","context","window","addEventListener","contextType","Bar","AuthContext","AuthProvider","isAuth","setIsAuth","isLoading","setIsLoading","Cookies","get","cookieToken","setCookieToken","dataUser","setDataUser","linkAuth","setLinkAuth","useEffect","error","user","RightSide","isShownSearchBar","setIsShownSearchBar","setIsShown","innerWidth","Header","PartOfFooter","list","dataToDisplay","elt","pathlink","setIsDisplay","isDisplay","classDisplay","Footer","partAccount","partSociety","Api","ListProduct","ApiLinkImage","endPointImage","divClass","productClass","pictures","path_picture","length","slice","price","Home","ApiLink","endPoint","article","setArticle","message","text","prevState","NotFound","LiForm","setCurrLi","setDateStart","setDateEnd","moment","dateStart","format","dateEnd","Product","useParams","mainpicture","isFetched","isShownButton","prevNumberDay","numberDay","listDate","currDateLi","isActive","set","Category","location","idLocationUndefined","isNotFound","listArticle","setListarticle","linkCat","AllProduct","TableRental","checked","isChecked","onChange","target","setRental","propertyvalue","Rental","getJSON","currentStep","selectedDelivery","selectedPayment","delivery","payment","registered","rental","body","JSON","stringify","id_payment","id_carrier","id_article","id_user","total_price","start_date","end_date","method","headers","remove","setTimeout","history","push","handleCreateRental","Login","linkapi","redirect","errorMessage","setErrorMessage","email","setEmail","password","setPassword","onSubmit","preventDefault","response","Logout","PrivateRoute","component","rest","document","cookie","pageifnotauth","render","DivInputForm","containerClass","errorcondition","errormessage","labelClass","htmlFor","label","inputClass","change","disabled","min","max","autoComplete","errorCondition","TitleSection","isMediumWindow","Informations","dataCurrentUser","isDisabled","isDisabledForm","isSuccess","isFailed","handleSubmit","errorPicture","isSubmit","multiple","handleChangeForm","gender","errorLastName","lastName","errorFirstName","firstName","errorMail","errorDate","date_birth","isSubscribe","date_register","setDataCurrentUser","testPassword","errorTestPassword","confirmationTestPassword","errorConfirmationTestPassword","newPassword","errorNewPassword","confirmationNewPassword","errorConfirmationNewPassword","InformationsLogic","picture","numberErrorForm","errorForm","dataform","FormData","regexName","RegExp","regexMail","regexPassword","Object","keys","i","append","Date","getFullYear","test","files","val","parse","TableProfil","values","datatodisplay","ind","eltdatatodisplay","linkdetail","handleIdParams","setAddresses","MyAnnounces","announces","setAnnounces","seemore","SubmitButton","Form","class","titlepage","successMessage","failMessage","AutoCompleteField","setData","isShow","setIsShow","divclass","errorGrasp","idParams","titleLabel","grasp","occ","setGrasp","setId","setErrorGrasp","setSpec","clientId","articleId","AddressForm","adminLevel","setOwner","form","statusMessageForm","goBack","onlabel","offlabel","size","width","setIsActive","setTitle","errorTitle","address","setAddress","errorAddress","zipCode","setZipCode","errorZipCode","city","setCity","country","setCountry","errorCountry","AddressFormLogic","setStatusMessageForm","setErrorForm","setNumberErrorForm","setIsFetched","numberError","setForm","owner","setErrorTitle","setErrorAddress","setErrorZipCode","setErrorCountry","setIsSubmit","setMethod","regexp","regexpCountryCity","isCancelled","useRef","current","zipcode","url","prev","prevNumber","String","MyAddresses","addresses","delete","datarental","rentalId","MyRentals","dataRental","rentals","setRentals","Profile","setIsMediumWindow","valueSelect","setValueSelect","useHistory","handleIsMedium","handleChangeSelect","exact","path","InputFileForm","errorFile","reset","isMultiple","setPicture","anme","UserForm","pictureDisplay","undefined","setGender","handleName","errorDateBirth","dateBirth","setDateBirth","errorPassword","confirmationPassword","setConfirmationPassword","errorConfirmation","setIsSubscribe","UserFormLogic","setLastName","setFirstName","setErrorDateBirth","setPictureDisplay","setErrorPicture","setErrorLastName","setErrorFirstName","setErrorMail","setErrorPassword","setErrorConfirmation","setIsSuccess","setIsFailed","toLowerCase","getLink","TextAreaInputForm","errorDescription","rows","setDescription","ArticleForm","errorCategory","idCategory","setIdCategory","category","errorPrice","setPrice","ArticleFormLogic","isFetchedCategory","setIsFetchedCategory","isFetchedArticle","setIsFetchedArticle","setCategory","setErrorCategory","setErrorPrice","setErrorDescription","setErrorFile","id_category","countError","Front","SwitchButton","PopupAddContext","PopupAddProvider","PageTableList","getList","_isMounted","listOfData","handleRequestFetch","isLoadingUpdate","linkupdate","linkputapi","errorMessageAdminLevel","listOfTh","th","titlebutton","linkbutton","eltData","indexData","eltTh","subTh","subData","handleIsActive","isTop","ListUser","seeMore","PrivateUser","PopupAdmin","PopupContext","CategoryForm","reload","handleFetchPut","dateRegister","setLink","errorLink","CategoryFormLogic","setDateRegister","setErrorLink","setRedirect","stringRegex","linkRegex","dataForm","handleFetchPost","ListCategory","popupcontext","categoryId","PrivateCategory","ListArticle","PrivateArticle","ListRental","RentalForm","currLi","idArticle","errorGraspArticle","graspArticle","setGraspArticle","setIdArticle","setErrorGraspArticle","pricePerDay","totalPrice","numberListDate","setNumberListDate","parseInt","errorNumberListDate","errorSameUser","errorGraspTenant","graspTenant","setGraspTenant","setIdTenant","setErrorGraspTenant","errorDelivery","idDelivery","setIdDelivery","deliveries","errorPayment","idPayment","setIdPayment","payments","RentalFormLogic","setIssuccess","setListDate","idTenant","idOwnerArticle","setIdOwnerArticle","setPricePerDay","setTotalPrice","setDeliveries","setPayments","setErrorDate","setErrorSameUser","setErrorDelivery","setErrorPayment","setErrorNumberListDate","isIdValid","setIsIdValid","isFetchedDeliveries","setIsFetchedDeliveries","isFetchedPayments","setIsFetchedPayments","isFetchedRental","setIsFetchedRental","catch","console","log","PrivateRental","ListAddress","addressId","PrivateAddress","ListPayment","paymentId","PaymentForm","PaymentFormLogic","PrivatePayment","ListDelivery","carrierId","delay_delivery","DeliveryForm","delay","setDelay","errorDelay","DeliveryFormLogic","setErrorDelay","PrivateDelivery","ListAdmin","adminId","AdminForm","errorAdminLevel","setAdminLevel","AdminFormLogic","setErrorAdminLevel","PrivateAdmin","PrivateAccessSuperAdmin","RightHeaderPart","Menu","listMenu","listNav","MyProfile","Admin","App","Boolean","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.736249c0.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\n// initialize the context. this context return all the category\r\n\r\nconst ListCategoryContext = React.createContext();\r\n\r\nclass ListCategoryProvider extends React.Component {\r\n  state = {\r\n    listCat: [],\r\n  };\r\n\r\n  // Fetch the list of category\r\n\r\n  componentDidMount = () => {\r\n    fetch(\"https://louonsapptest.herokuapp.com/louons/api/v1/category/all\", {\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        this.setState({\r\n          listCat: result.data,\r\n        });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { listCat } = this.state;\r\n    // Render the provider and give the access of the listSubCat to his children\r\n\r\n    return (\r\n      <ListCategoryContext.Provider value={{ listCat }}>\r\n        {this.props.children}\r\n      </ListCategoryContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\n// Export the provider and the context in order to have access wherever it's needed\r\n\r\nexport { ListCategoryProvider, ListCategoryContext };\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Logo(props) {\r\n  return (\r\n    // Just render an image logo with specific class setting in props\r\n\r\n    <div className={props.specificclassname}>\r\n      <Link to=\"/\">\r\n        <img\r\n          src=\"/assets/img/louons.png\"\r\n          alt=\"logo_louons\"\r\n          className=\"w-100 img-fluid logoimg mx-0 mx-sm-2 mx-md-0\"\r\n        />\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Logo;\r\n","import React from \"react\";\r\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\r\n\r\nfunction SearchBar(props) {\r\n  \r\n  return (\r\n    // Render an input search bar with animation.\r\n\r\n    <TransitionGroup >\r\n      {props.isShown && (\r\n        <CSSTransition classNames=\"searchanimation\" timeout={1000}>\r\n          <div\r\n            className={`${props.specificclassname} my-2 mx-auto`}\r\n          >\r\n            <form action=\"\" className=\"form-group has-search w-75 m-auto\">\r\n              <i className=\"ri-search-line form-control-feedback\"></i>\r\n              <input\r\n                className=\"w-100 form-control\"\r\n                type=\"text\"\r\n                placeholder=\"Rechercher\"\r\n                name=\"search\"\r\n              />\r\n            </form>\r\n          </div>\r\n        </CSSTransition>\r\n      )}\r\n    </TransitionGroup>\r\n  );\r\n}\r\n\r\nSearchBar.defaultProps = {\r\n  isShown: true,\r\n  specificclassname : \"\"\r\n};\r\n\r\nexport default SearchBar;\r\n","import React, { useState } from \"react\";\r\n\r\n// Initialize the context. This context return a toggler and his state \r\n\r\nconst TogglerContext = React.createContext();\r\n\r\nfunction TogglerProvider(props) {\r\n  const [isToggle, setIsToggle] = useState(false);\r\n\r\n  // Set the isToggle state to its opposite. The default value is false.\r\n\r\n  const setToggle = (arg = !isToggle) => {\r\n    setIsToggle(arg);\r\n  };\r\n\r\n  return (\r\n    // Render the provider and give the access of the isToggle and the setToggled to his children\r\n\r\n    <TogglerContext.Provider value={{ isToggle, setToggle }}>\r\n      {props.children}\r\n    </TogglerContext.Provider>\r\n  );\r\n}\r\n\r\n// Export the provider and the context in order to have access wherever it's needed\r\n\r\nexport {TogglerProvider, TogglerContext};\r\n","import React, { useState, useContext } from \"react\";\r\nimport { ListCategoryContext } from \"../../../context/ListCategoryContext\";\r\nimport SearchBar from \"../../general/SearchBar\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { TogglerContext } from \"../../../context/TogglerContext\";\r\n\r\nfunction MenuList(props) {\r\n  // Set state displaySubCategory to false\r\n\r\n  const [displayCategory, setDisplayCategory] = useState(false);\r\n\r\n  // Get the toggler context to set the isToggle to false on click in the menu link\r\n\r\n  const { setToggle } = useContext(TogglerContext);\r\n\r\n  // Map over the menuList prop and render a list of category. When the element of the menuList is equal to \"catégories\", provide a new ul list from the ListSubCategory Consumer in order to display a submenu of category\r\n\r\n  const menuList = props.menuList.map((currElt, index) => {\r\n    const regex = /\\s/gi;\r\n    if (currElt.link === \"categories\") {\r\n      return (\r\n        <li\r\n          key={index}\r\n          className=\"p-2 my-3 menuelement\"\r\n          onMouseEnter={() => {\r\n            setDisplayCategory(true);\r\n          }}\r\n          onMouseLeave={() => {\r\n            setDisplayCategory(false);\r\n          }}\r\n        >\r\n          {currElt.title}\r\n          <CSSTransition\r\n            classNames=\"submenuelt\"\r\n            unmountOnExit\r\n            timeout={600}\r\n            in={displayCategory}\r\n          >\r\n            <ul className={`list-unstyled listcategory px-2`}>\r\n              <ListCategoryContext.Consumer>\r\n                {({ listCat }) =>\r\n                  listCat.map((e) => {\r\n                    return (\r\n                      <Link\r\n                        key={e._id}\r\n                        className=\"submenuelement text-decoration-none\"\r\n                        to={{\r\n                          pathname: `/categories/${e.link}`,\r\n                          id: e._id,\r\n                          title: e.title,\r\n                          description: e.description,\r\n                        }}\r\n                      >\r\n                        <li\r\n                          className=\"p-1 my-3 font-italic submenuelement\"\r\n                          onClick={() => {\r\n                            setToggle(false);\r\n                            setDisplayCategory(false);\r\n                          }}\r\n                        >\r\n                          {e.title}\r\n                        </li>\r\n                      </Link>\r\n                    );\r\n                  })\r\n                }\r\n              </ListCategoryContext.Consumer>\r\n            </ul>\r\n          </CSSTransition>\r\n        </li>\r\n      );\r\n    } else {\r\n      return (\r\n        <Link\r\n          key={index}\r\n          className=\"menuelement text-decoration-none\"\r\n          to={`/${currElt.link.replace(regex, \"_\").normalize(\"NFC\")}`}\r\n        >\r\n          <li key={index} className=\"p-2 my-3\" onClick={() => setToggle(false)}>\r\n            {currElt.title}\r\n          </li>\r\n        </Link>\r\n      );\r\n    }\r\n  });\r\n\r\n  const isShown = props.isShown && \"d-flex\";\r\n\r\n  return (\r\n    // Render the ul of the menuList depending the isShown\r\n\r\n    <CSSTransition classNames=\"menuanimation\" timeout={600} in={props.isShown}>\r\n      <ul\r\n        className={`my-auto ${isShown} d-lg-flex flex-column flex-lg-row justify-content-lg-around list-unstyled listmenucontainer`}\r\n      >\r\n        {menuList}\r\n        <SearchBar isShown={true} specificclassname=\"d-md-none\" />\r\n      </ul>\r\n    </CSSTransition>\r\n  );\r\n}\r\n\r\nexport default MenuList;\r\n","import React, { Component } from \"react\";\r\nimport MenuList from \"./MenuList\";\r\nimport { TogglerContext } from \"../../../context/TogglerContext\";\r\n\r\nclass Nav extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      listOfMenu: [\r\n        { link: \"announces\", title: \"Annonces\" },\r\n        { link: \"categories\", title: \"Catégories\" },\r\n        { link: \"post_announce\", title: \"Déposer une annonce\" },\r\n      ],\r\n    };\r\n    // Bind the method to the context of the class.\r\n\r\n    this.forceRender = this.forceRender.bind(this);\r\n  }\r\n\r\n  forceRender() {\r\n    this.context.setToggle(false);\r\n  }\r\n\r\n  // Add an event listener resize to the window in order to reset the istoggle.\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"resize\", this.forceRender);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={`p-0 h-100 navmenu d-block d-lg-flex align-items-center justify-content-lg-center`}\r\n      >\r\n        <MenuList\r\n          isShown={this.context.isToggle}\r\n          menuList={this.state.listOfMenu}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Add the context to the class component.\r\n\r\nNav.contextType = TogglerContext;\r\n\r\nexport default Nav;\r\n","import React, { useContext } from \"react\";\r\nimport { TogglerContext } from \"../../context/TogglerContext\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\n\r\nfunction Bar() {\r\n  // Get the setToggle method from the TogglerContext\r\n\r\n  const { isToggle, setToggle } = useContext(TogglerContext);\r\n\r\n  return (\r\n    // Render the bars and add an event listener, which set the toggle to its opposite state on click.\r\n\r\n    <div\r\n      className=\"barcontainer mx-1 mx-sm-3 d-flex flex-column d-lg-none align-items-end justify-content-center\"\r\n      onClick={(e) => setToggle()}\r\n    >\r\n      <CSSTransition classNames=\"bar1\" timeout={800} in={isToggle}>\r\n        <div className=\"bar bar1\"></div>\r\n      </CSSTransition>\r\n      <CSSTransition classNames=\"bar2\" timeout={800} in={isToggle}>\r\n        <div className=\"bar bar2\"></div>\r\n      </CSSTransition>\r\n      <CSSTransition classNames=\"bar3\" timeout={800} in={isToggle}>\r\n        <div className=\"bar bar3\"></div>\r\n      </CSSTransition>\r\n    </div>\r\n  );\r\n}\r\nexport default Bar;\r\n","import React, { createContext, useState, useEffect } from \"react\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\nconst AuthProvider = (props) => {\r\n  const [isAuth, setIsAuth] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [cookieToken, setCookieToken] = useState(Cookies.get(\"x-auth-token\"));\r\n  const [dataUser, setDataUser] = useState({});\r\n  const [linkAuth, setLinkAuth] = useState(\"\");\r\n\r\n  // if the cookie token is existing fetch to the api to ensure that the client has a valid cookie token else set the isAuth value to false.\r\n\r\n  useEffect(() => {\r\n    if (cookieToken && linkAuth) {\r\n      fetch(linkAuth, {\r\n        credentials: \"include\", // ensure that the header can include cookie.\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setIsAuth(true);\r\n            setDataUser(result.user);\r\n          } else if (result.error) {\r\n            setIsAuth(false);\r\n            setCookieToken(\"\");\r\n          }\r\n          setIsLoading(false);\r\n        });\r\n    } else if (!cookieToken) {\r\n      setIsAuth(false);\r\n      setIsLoading(false);\r\n    }\r\n\r\n  }, [cookieToken, linkAuth]);\r\n\r\n  // return the authcontext provider component\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        isAuth,\r\n        setIsAuth,\r\n        cookieToken,\r\n        isLoading,\r\n        setIsLoading,\r\n        setCookieToken,\r\n        dataUser,\r\n        setLinkAuth,\r\n        linkAuth,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthProvider;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport Bar from \"../../general/Bar\";\r\nimport SearchBar from \"../../general/SearchBar\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\n\r\nfunction RightSide() {\r\n  const [isShownSearchBar, setIsShownSearchBar] = useState(false);\r\n  const { isAuth } = useContext(AuthContext);\r\n\r\n  // set the isshown searchbar to false when the window is resizing\r\n  const setIsShown = () => {\r\n    if (window.innerWidth < 576) {\r\n      setIsShownSearchBar(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", setIsShown);\r\n  }, []);\r\n\r\n  const handleIsShownSearchBar = () => setIsShownSearchBar(!isShownSearchBar);\r\n  return (\r\n    // Render two icons. The mail icon and the user profile icon.\r\n\r\n    <div className=\"col-7 col-sm-6 col-lg-2 p-0 d-flex justify-content-end justify-content-lg-around\">\r\n      <i\r\n        className=\"ri-search-line mx-2 d-none d-sm-block icon-font22 color3c8ce4\"\r\n        onClick={() => handleIsShownSearchBar()}\r\n      ></i>\r\n      <Link key=\"rightside2\" className=\"text-decoration-none\" to=\"/message\">\r\n        <i className=\"mx-1 mx-sm-2 ri-mail-fill icon-font22 color3c8ce4\"></i>\r\n      </Link>\r\n      <Link key=\"rightside1\" className=\"text-decoration-none\" to=\"/my_account\">\r\n        <i className=\"mx-1 mx-sm-2 ri-user-3-fill icon-font22 color3c8ce4\"></i>\r\n      </Link>\r\n      {isAuth && (\r\n        <Link key=\"rightside3\" className=\"text-decoration-none\" to=\"/logout\">\r\n          <i className=\"mx-1 mx-sm-2 ri-logout-circle-r-line icon-font22 text-danger\"></i>\r\n        </Link>\r\n      )}\r\n      <SearchBar\r\n        specificclassname={\"position-absolute searchbar\"}\r\n        isShown={isShownSearchBar}\r\n      />\r\n      <Bar />\r\n    </div>\r\n  );\r\n}\r\nexport default RightSide;\r\n","import React from \"react\";\r\nimport \"../../../styles/front/header.css\";\r\nimport Logo from \"../../general/Logo\";\r\nimport Nav from \"./Nav\";\r\nimport RightSide from \"./RightSide\";\r\nimport { TogglerProvider } from \"../../../context/TogglerContext\";\r\n\r\nfunction Header() {\r\n  return (\r\n    // Return all components of the header and provide the toggle menu context to the nav and the rightside\r\n\r\n    <header className=\"headercontainer row m-0 d-flex justify-content-center align-items-center mx-auto p-2\">\r\n      <Logo specificclassname=\"col-5 col-sm-6 col-lg-3 p-0 text-sm-left text-md-center logo\" />\r\n      <TogglerProvider>\r\n        <Nav />\r\n        <RightSide />\r\n      </TogglerProvider>\r\n    </header>\r\n  );\r\n}\r\nexport default Header;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\n\r\n\r\nfunction PartOfFooter(props) {\r\n  const { isAuth } = useContext(\r\n    AuthContext\r\n  );\r\n\r\n  // map over the dataToDisplay prop in order to display them in list\r\n\r\n  const list = props.dataToDisplay.map((elt, index) => {\r\n    if(elt.link ===\"login\" && isAuth){\r\n      return (\r\n        <Link\r\n          key={elt._id || index}\r\n          className=\"text-white\"\r\n          to={{\r\n            pathname: `${props.pathlink}/logout`,\r\n            id: elt._id || index\r\n          }}\r\n        >\r\n          <li\r\n            key={`title${index}`}\r\n            className=\"footerli p-2\"\r\n            onClick={() => setIsDisplay(false)}\r\n          >\r\n            {\"Déconnexion\"}\r\n          </li>\r\n        </Link>\r\n      )\r\n    }\r\n    return (\r\n      <Link\r\n        key={elt._id || index}\r\n        className=\"text-white\"\r\n        to={{\r\n          pathname: `${props.pathlink}/${elt.link}`,\r\n          id: elt._id || index,\r\n          title: elt.title,\r\n          description: elt.description,\r\n        }}\r\n      >\r\n        <li\r\n          key={`title${index}`}\r\n          className=\"footerli p-2\"\r\n          onClick={() => setIsDisplay(false)}\r\n        >\r\n          {elt.title}\r\n        </li>\r\n      </Link>\r\n    );\r\n  });\r\n\r\n  const [isDisplay, setIsDisplay] = useState(false);\r\n  const classDisplay = isDisplay ? \"d-block\" : \"d-none d-md-block\";\r\n\r\n  return (\r\n    // Return each part of the footer\r\n\r\n    <div className=\"col-md-4 text-center my-2\">\r\n      <div className=\"d-flex align-items-center justify-content-between justify-content-sm-around flex-row flex-md-column\">\r\n        <h4 className=\"text-white p-2 m-0 titlefooter\">{props.title}</h4>\r\n        <i\r\n          className=\"ri-menu-4-fill text-white ri-2x d-md-none\"\r\n          onClick={() => setIsDisplay(!isDisplay)}\r\n        ></i>\r\n      </div>\r\n      <CSSTransition classNames=\"listfooter\" timeout={600} in={isDisplay}>\r\n        <ul className={`${classDisplay} list-unstyled text-white`}>{list}</ul>\r\n      </CSSTransition>\r\n    </div>\r\n  );\r\n}\r\nexport default PartOfFooter;\r\n","import React, { useState, useContext } from \"react\";\r\nimport \"../../../styles/front/footer.css\";\r\nimport { ListCategoryContext } from \"../../../context/ListCategoryContext\";\r\nimport PartOfFooter from \"./PartOfFooter\";\r\n\r\nfunction Footer() {\r\n  // define the list to display for each part of the footer\r\n\r\n  const [partAccount] = useState([\r\n    { link: \"my_account\", title: \"Infos personnelles\" },\r\n    { link: \"my_account/rentals\", title: \"Locations\" },\r\n    { link: \"my_account/announces\", title: \"Mes annonces\" },\r\n    { link: \"message\", title: \"Message\" },\r\n    { link: \"login\", title: \"Connexion\" }\r\n  ]);\r\n\r\n  const [partSociety] = useState([\r\n    { link: \"aboutus\", title: \"Qui sommes nous ?\" },\r\n    { link: \"legalmention\", title: \"Mentions Légales\" },\r\n    { link: \"cgv\", title: \"CGV\" },\r\n    { link: \"contactus\", title: \"Nous contacter\" }\r\n  ]);\r\n\r\n  // get the context of listCat\r\n\r\n  const {listCat} = useContext(ListCategoryContext);\r\n\r\n  return (\r\n    // Return all components of the footer\r\n    <footer className=\"bgcolor144c84 d-flex flex-column flex-md-row w-100\">\r\n        <PartOfFooter dataToDisplay={partAccount} pathlink=\"\" title=\"Mon compte\" />\r\n        <PartOfFooter dataToDisplay={listCat} pathlink=\"/categories\" title=\"Catégories\" />\r\n        <PartOfFooter dataToDisplay={partSociety} pathlink=\"\" title=\"Informations\" />\r\n    </footer>\r\n  );\r\n}\r\nexport default Footer;\r\n","export default class Api {\r\n  static get endPoint() {\r\n    return 'https://louonsapptest.herokuapp.com/louons/api/v1';\r\n    // return 'http://localhost:5000/louons/api/v1';\r\n  }\r\n\r\n  static get endPointImage() {\r\n    return 'https://louonsapptest.herokuapp.com/uploads/img';\r\n    // return 'http://localhost:5000/uploads/img';\r\n  }\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Api from '../../Classes/Api/Api.js';\r\n\r\n\r\nfunction ListProduct(props) {\r\n  const ApiLinkImage = Api.endPointImage;\r\n\r\n  // Component that simply return a list of product depending the props that it receives\r\n  return (\r\n    <div className={props.divClass}>\r\n      {props.data.map((elt, index) => {\r\n        return (\r\n          <div key={index} className={props.productClass}>\r\n            <img\r\n              src={`${ApiLinkImage}/${elt.pictures[0].path_picture}`}\r\n              alt=\"\"\r\n              className=\"w-100 img-fluid thumbnail-img mx-auto\"\r\n            />\r\n            <div className=\"d-flex flex-column flex-xl-row p-1 justify-content-center align-items-center text-center\">\r\n              <p className=\"p-1 text-center titleannounce mx-md-3\">\r\n                {elt.title.length > 12\r\n                  ? `${elt.title.slice(0, 12)}...`\r\n                  : elt.title}\r\n              </p>\r\n              <p className=\"mb-1 m-sm-0 font-weight-bold mx-md-3\">\r\n                {elt.price} €/jr\r\n              </p>\r\n            </div>\r\n            <Link to={`/announce/${elt._id}`} className=\"text-center\">\r\n              <button className=\"btn btn-outline-dark p-1 listproduct-btn mx-auto\">\r\n                Voir l'article\r\n              </button>\r\n            </Link>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nListProduct.defaultProps = {\r\n  divClass:\r\n    \"row col-12 col-lg-10 mx-auto m-0 p-0 d-flex justify-content-center justify-content-lg-between\",\r\n  productClass:\r\n    \"col-8 col-sm-6 col-lg-3 p-2 my-2 my-lg-4 product-container d-flex flex-column justify-content-end\",\r\n};\r\n\r\nexport default ListProduct;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ListProduct from \"../ListProduct\";\r\nimport \"../../../styles/front/home.css\";\r\nimport Api from \"../../../Classes/Api/Api\";\r\n\r\nfunction Home() {\r\n  const ApiLink = Api.endPoint;\r\n  const [article, setArticle] = useState({\r\n    data: [],\r\n  });\r\n\r\n  const [text] = useState([\r\n    {\r\n      message: \"Publiez vos articles et recevez des offres de locations\",\r\n    },\r\n    {\r\n      message: \"Louez auprès de personnes évalués\",\r\n    },\r\n    {\r\n      message: \"Donnez une seconde vie à vos articles et pensez écolo\",\r\n    },\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    fetch(`${ApiLink}/article/lastactive`, {\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (!result.error) {\r\n          setArticle((prevState) => ({ ...prevState, data: result.data }));\r\n        }\r\n      });\r\n  }, [ApiLink]);\r\n\r\n  return (\r\n    <>\r\n      <h1 className=\"color144c84 p-2 my-3 col-12 text-center\">\r\n        Bienvenue sur louons.fr\r\n      </h1>\r\n      <div className=\"row col-12 mx-0 my-2 my-md-5 p-0 d-flex mx-auto\">\r\n        {text.map((e, index) => (\r\n          <div\r\n            key={index}\r\n            className=\"col-11 col-sm-8 col-md-5 col-lg-3 border border-white mx-auto hometext bgcolor9cd1ff text-white p-1 my-2 text-center\"\r\n          >\r\n            {index === 0 ? (\r\n              <i className=\"ri-edit-line ri-3x\"></i>\r\n            ) : index === 1 ? (\r\n              <i className=\"ri-service-line ri-3x\"></i>\r\n            ) : (\r\n                  <i className=\"ri-time-line ri-3x\"></i>\r\n                )}\r\n            <p className=\"text-center m-0 mx-auto\">{e.message}</p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <h2 className=\"bgcolor144c84 p-2 my-3 col-12 col-lg-10 mx-auto text-center text-white font-italic\">\r\n        Derniers articles publiés\r\n      </h2>\r\n      <ListProduct data={article.data} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\n\r\nfunction NotFound() {\r\n  return (\r\n    // Return an image\r\n\r\n    <div className=\"imgnotfound mx-auto\">\r\n      <img\r\n        alt=\"404_not_found\"\r\n        className=\"w-100\"\r\n        src=\"/assets/img/404_notfound.jpg\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NotFound;\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\n\r\nfunction LiForm(props) {\r\n  return (\r\n    <li\r\n      className={`listcomplete p-2 ${props.className}`}\r\n      onClick={() => {\r\n        props.setCurrLi();\r\n        props.setDateStart();\r\n        props.setDateEnd();\r\n      }}\r\n    >{`Du ${moment(props.dateStart).format(\"DD/MM/YYYY\")} au ${moment(\r\n      props.dateEnd\r\n    ).format(\"DD/MM/YYYY\")}`}</li>\r\n  );\r\n}\r\n\r\nexport default LiForm;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport NotFound from \"../general/NotFound\";\r\nimport LiForm from \"../general/Form/LiForm\";\r\nimport moment from \"moment\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport Cookies from \"js-cookie\";\r\nimport Api from '../../Classes/Api/Api';\r\n\r\nfunction Product() {\r\n  const ApiLink = Api.endPoint;\r\n  const ApiLinkImage = Api.endPointImage;\r\n\r\n  // get the id params of the link\r\n  const id = useParams().id;\r\n\r\n  // get the context from the authcontext\r\n  const { isAuth } = useContext(AuthContext);\r\n\r\n  // initialize the state of the article\r\n  const [article, setArticle] = useState({\r\n    mainpicture: \"\",\r\n    data: {},\r\n    isFetched: false,\r\n    error: false,\r\n    isShownButton: true,\r\n    prevNumberDay: 0,\r\n    numberDay: 1,\r\n    listDate: [],\r\n    currDateLi: \"\",\r\n    dateStart: \"\",\r\n    dateEnd: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    // fetch the data of the article only if the isfetched is settled to false. If there are not error, set the data in the article state, otherwise set the error in the article state to true\r\n    if (!article.isFetched) {\r\n      fetch(`${ApiLink}/article/detail/${id}`)\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error && result.data.isActive) {\r\n            setArticle((prevState) => ({\r\n              ...prevState,\r\n              data: result.data,\r\n              isFetched: true,\r\n              mainpicture: result.data.pictures[0].path_picture,\r\n            }));\r\n          } else {\r\n            setArticle((prevState) => ({\r\n              ...prevState,\r\n              error: true,\r\n              isFetched: true,\r\n            }));\r\n          }\r\n        });\r\n    }\r\n  }, [id, article, ApiLink]);\r\n\r\n  const handleFetchDate = () => {\r\n    // Fetch the date only if numberday and the prevnumberday are not equal\r\n    if (article.numberDay !== article.prevNumberDay && article.numberDay > 0) {\r\n      fetch(\r\n        `${ApiLink}/rental/date/${id}/${article.numberDay}`,\r\n        {\r\n          credentials: \"include\",\r\n        }\r\n      )\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setArticle((prevState) => ({\r\n              ...prevState,\r\n              currDateLi: \"\",\r\n              listDate: result.data,\r\n            }));\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  return article.error ? (\r\n    // if there are an error (wrong params id for example) send the not found page\r\n    <NotFound />\r\n  ) : (\r\n      <div className=\"col-12 col-sm-11 col-lg-10 col-xl-9 mx-auto product-detail-container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12 col-md-7 col-lg-8 picture-container\">\r\n            {article.isFetched && (\r\n              <div className=\"row\">\r\n                <div className=\"col-12 col-md-2 order-1 order-md-0 my-3\">\r\n                  <div className=\"row h-100 d-flex align-items-center justify-content-around\">\r\n                    {article.data.pictures.map((elt, index) => {\r\n                      return (\r\n                        <div\r\n                          key={index}\r\n                          className=\"p-0 col-2 col-md-8 thumbnail-img-product\"\r\n                        >\r\n                          <img\r\n                            className=\"img-fluid w-100\"\r\n                            src={`${ApiLinkImage}/${elt.path_picture}`}\r\n                            alt=\"\"\r\n                            onClick={() =>\r\n                              setArticle((prevState) => ({\r\n                                ...prevState,\r\n                                mainpicture: elt.path_picture,\r\n                              }))\r\n                            }\r\n                          />\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-12 col-md-10 main-picture-container d-flex align-items-center\">\r\n                  <img\r\n                    className=\"img-fluid main-picture mx-auto\"\r\n                    src={`${ApiLinkImage}/${article.mainpicture}`}\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"col-12 col-md-5 col-lg-4 text-center d-flex flex-column justify-content-center\">\r\n            <h3 className=\"mt-3\">{article.data.title}</h3>\r\n            <div>\r\n              <p className=\"mt-2 mt-md-3 font-weight-bold\">Description :</p>\r\n              <p className=\"my-3\">{article.data.description}</p>\r\n              <p className=\"my-3 font-weight-bold\">Prix de location :</p>\r\n              <p className=\"my-3\">{article.data.price} €/jr</p>\r\n              {!isAuth ? (\r\n                <p>Veuillez vous connecter pour voir les disponibilités</p>\r\n              ) : article.isShownButton ? (\r\n                <button\r\n                  className=\"btn btn-outline-dark my-3\"\r\n                  onClick={() =>\r\n                    setArticle((prevState) => ({\r\n                      ...prevState,\r\n                      isShownButton: false,\r\n                    }))\r\n                  }\r\n                >\r\n                  Disponibilités\r\n                </button>\r\n              ) : (\r\n                    <>\r\n                      <p>Nbr de jour :</p>\r\n                      <div className=\"d-flex justify-content-center align-items-center\">\r\n                        <i\r\n                          className=\"ri-indeterminate-circle-line ri-2x\"\r\n                          onClick={() =>\r\n                            article.numberDay > 1 &&\r\n                            setArticle((prevState) => ({\r\n                              ...prevState,\r\n                              prevNumberDay: prevState.numberDay,\r\n                              numberDay: prevState.numberDay - 1,\r\n                            }))\r\n                          }\r\n                        ></i>\r\n                        <p className=\"number-day mx-2 my-0\">{article.numberDay}</p>\r\n                        <i\r\n                          className=\"ri-add-circle-line ri-2x\"\r\n                          onClick={() =>\r\n                            setArticle((prevState) => ({\r\n                              ...prevState,\r\n                              prevNumberDay: prevState.numberDay,\r\n                              numberDay: prevState.numberDay + 1,\r\n                            }))\r\n                          }\r\n                        ></i>\r\n                        <button\r\n                          className=\"btn btn-outline-primary ml-3\"\r\n                          onClick={() => {\r\n                            setArticle((prevState) => ({\r\n                              ...prevState,\r\n                              prevNumberDay: prevState.numberDay,\r\n                            }));\r\n                            handleFetchDate();\r\n                          }}\r\n                        >\r\n                          Ok\r\n                  </button>\r\n                        {article.listDate.length > 0 && (\r\n                          <button\r\n                            className=\"btn btn-outline-danger mx-1\"\r\n                            onClick={() =>\r\n                              setArticle((prevState) => ({\r\n                                ...prevState,\r\n                                listDate: [],\r\n                                currDateLi: \"\",\r\n                                dateStart: \"\",\r\n                                dateEnd: \"\",\r\n                                prevNumberDay: 0,\r\n                                numberDay: 1,\r\n                              }))\r\n                            }\r\n                          >\r\n                            Reset\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                      {article.listDate.length > 0 && (\r\n                        <ul className=\"list-unstyled my-3\">\r\n                          {article.listDate.map((elt, index) => {\r\n                            return (\r\n                              <LiForm\r\n                                key={index}\r\n                                index={index}\r\n                                className={\r\n                                  article.currDateLi === index\r\n                                    ? \"p-1 list-date bg-secondary text-white\"\r\n                                    : \"p-1 list-date\"\r\n                                }\r\n                                setCurrLi={() =>\r\n                                  setArticle((prevState) => ({\r\n                                    ...prevState,\r\n                                    currDateLi: index,\r\n                                  }))\r\n                                }\r\n                                dateStart={elt.dateStart}\r\n                                dateEnd={elt.dateEnd}\r\n                                setDateStart={() =>\r\n                                  setArticle((prevState) => ({\r\n                                    ...prevState,\r\n                                    dateStart: moment(elt.dateStart).format(\r\n                                      \"YYYY-MM-DD\"\r\n                                    ),\r\n                                  }))\r\n                                }\r\n                                setDateEnd={() =>\r\n                                  setArticle((prevState) => ({\r\n                                    ...prevState,\r\n                                    dateEnd: moment(elt.dateEnd).format(\"YYYY-MM-DD\"),\r\n                                  }))\r\n                                }\r\n                              />\r\n                            );\r\n                          })}\r\n                        </ul>\r\n                      )}\r\n                      {article.dateStart && (\r\n                        <Link to=\"/order\">\r\n                          <button\r\n                            className=\"btn btn-outline-primary m-3\"\r\n                            onClick={() =>\r\n                              Cookies.set(\"article\", {\r\n                                article: article.data,\r\n                                dateStart: article.dateStart,\r\n                                dateEnd: article.dateEnd,\r\n                                numberDay: article.numberDay,\r\n                              })\r\n                            }\r\n                          >\r\n                            Réserver à cette date\r\n                    </button>\r\n                        </Link>\r\n                      )}\r\n                    </>\r\n                  )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Product;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport ListProduct from \"./ListProduct\";\r\nimport NotFound from \"../general/NotFound\";\r\nimport Api from '../../Classes/Api/Api';\r\n\r\nfunction Category(props) {\r\n  // initialize the state listArticle (get the id provided by the link)\r\n\r\n  const [listArticle, setListarticle] = useState({\r\n    id: props.location.id,\r\n    isFetched: false,\r\n    title: props.location.title,\r\n    description: props.location.description,\r\n    data: [],\r\n    idLocationUndefined: true,\r\n    isNotFound: false,\r\n  });\r\n\r\n  const ApiLink = Api.endPoint;\r\n\r\n  // get the title of the category\r\n\r\n  const linkCat = useParams().title;\r\n\r\n  useEffect(() => {\r\n    // if the location.id is not equal to the current article and location.id is not undefined change the id the title and the description, finally set the isfetched to false in order to fetch the data to the api\r\n\r\n    if (props.location.id !== listArticle.id && props.location.id) {\r\n      setListarticle((prevState) => ({\r\n        ...prevState,\r\n        id: props.location.id,\r\n        title: props.location.title,\r\n        description: props.location.description,\r\n        isFetched: false,\r\n      }));\r\n    }\r\n\r\n    // if the listarticle.id is undefined, and if idLocationUndefined is settled to true, and the isnotfound is settled to false, get the id, the title and the description from the api\r\n\r\n    if (\r\n      !listArticle.id &&\r\n      listArticle.idLocationUndefined &&\r\n      !listArticle.isNotFound\r\n    ) {\r\n      fetch(\r\n        `${ApiLink}/category/detail?title=${linkCat}`,\r\n        {\r\n          credentials: \"include\",\r\n        }\r\n      )\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setListarticle((prevState) => ({\r\n              ...prevState,\r\n              id: result.data[0]._id,\r\n              title: result.data[0].title,\r\n              description: result.data[0].description,\r\n              idLocationUndefined: false,\r\n            }));\r\n          } else {\r\n            setListarticle((prevState) => ({\r\n              ...prevState,\r\n              isNotFound: true,\r\n            }));\r\n          }\r\n        });\r\n    }\r\n\r\n    // if isFetched is settled to false and there are a listarticle.id, and the isnotfound is settled to false, fetch the article from the api and set the isfetched value to true\r\n\r\n    if (!listArticle.isFetched && listArticle.id && !listArticle.isNotFound) {\r\n      fetch(\r\n        `${ApiLink}/article/searcharticle/${listArticle.id}`,\r\n        {\r\n          credentials: \"include\",\r\n        }\r\n      )\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setListarticle((prevState) => ({\r\n              ...prevState,\r\n              data: result.data,\r\n              isFetched: true,\r\n            }));\r\n          }\r\n        });\r\n    }\r\n  }, [listArticle, props.location, linkCat, ApiLink]);\r\n\r\n  return listArticle.isNotFound ? (\r\n    <NotFound />\r\n  ) : (\r\n    <>\r\n      <h2 className=\"col-12 m-auto text-center category-title\">\r\n        {listArticle.title}\r\n      </h2>\r\n      <p className=\"col-12 col-lg-10 m-0 m-auto mt-md-3 p-2 text-center text-white font-italic bgcolor3c8ce4\">\r\n        {listArticle.description}\r\n      </p>\r\n      <ListProduct\r\n        divClass=\"col-12 col-lg-10 mx-auto m-0 p-0 d-md-flex justify-content-center justify-content-md-start\"\r\n        productClass=\"col-6 col-sm-4 col-lg-3 p-2 my-2 my-lg-4 product-container d-flex flex-column justify-content-end\"\r\n        data={listArticle.data}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Category;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ListProduct from \"./ListProduct\";\r\nimport Api from '../../Classes/Api/Api';\r\n\r\nfunction AllProduct() {\r\n  // initialize the state listArticle\r\n  const ApiLink = Api.endPoint;\r\n  const [listArticle, setListarticle] = useState({\r\n    isFetched: false,\r\n    title: \"Toutes les annonces\",\r\n    description: \"Retrouvez ici toutes les annonces\",\r\n    data: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    // if isFetched is settled to false and there are a listarticle.id fetch the article from the api and set the isfetched value to true\r\n\r\n    if (!listArticle.isFetched) {\r\n      fetch(\r\n        `${ApiLink}/article`,\r\n        {\r\n          credentials: \"include\",\r\n        }\r\n      )\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setListarticle((prevState) => ({\r\n              ...prevState,\r\n              data: result.data,\r\n              isFetched: true,\r\n            }));\r\n          }\r\n        });\r\n    }\r\n  }, [listArticle, ApiLink]);\r\n\r\n  return (\r\n    <>\r\n      <h2 className=\"col-12 m-auto text-center category-title\">\r\n        {listArticle.title}\r\n      </h2>\r\n      <p className=\"col-12 col-lg-10 m-0 m-auto mt-md-3 p-2 text-center text-white font-italic bgcolor3c8ce4\">\r\n        {listArticle.description}\r\n      </p>\r\n      <ListProduct\r\n        divClass=\"row col-12 col-lg-10 mx-auto m-0 p-0 d-md-flex justify-content-center justify-content-md-start\"\r\n        productClass=\"col-6 col-sm-4 col-lg-3 p-2 my-2 my-lg-4 product-container d-flex flex-column justify-content-end\"\r\n        data={listArticle.data}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AllProduct;\r\n","import React from \"react\";\r\nimport Api from \"../../Classes/Api/Api\";\r\n\r\nfunction TableRental(props) {\r\n  const ApiLinkImage = Api.endPointImage;\r\n\r\n  return (\r\n    <div className=\"table-responsive mt-5\">\r\n      <table className=\"text-center table-rental w-100 border border-black\">\r\n        <thead>\r\n          <tr>\r\n            <th></th>\r\n            <th className=\"p-3\">Nom</th>\r\n            <th className=\"p-3\">Description</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {props.data.map((e, index) => (\r\n            <tr key={index} className=\"border border-black\">\r\n              <td>\r\n                <div className=\"d-flex align-items-center h-100\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"delivery\"\r\n                    className=\"mx-auto\"\r\n                    value={e._id}\r\n                    checked={e._id === props.isChecked}\r\n                    onChange={(e) => {\r\n                      const { value } = e.target;\r\n                      props.setRental((prevState) => ({\r\n                        ...prevState,\r\n                        [props.propertyvalue]: value,\r\n                      }));\r\n                    }}\r\n                  />\r\n                </div>\r\n              </td>\r\n              <td>\r\n                {e.title}\r\n                <img\r\n                  className=\"img-fluid thumbnail-delivery-payment\"\r\n                  src={`${ApiLinkImage}/${e.path_picture}`}\r\n                  alt=\"picture_delivery\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <div className=\"d-flex align-items-center justify-content-center h-100\">\r\n                  <p className=\"text-center\">{e.description}</p>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TableRental;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\nimport Cookies from \"js-cookie\";\r\nimport TableRental from \"./TableRental\";\r\nimport Api from \"../../Classes/Api/Api\";\r\n\r\nfunction Rental(props) {\r\n  const data = Cookies.getJSON(\"article\");\r\n  const ApiLink = Api.endPoint;\r\n  const ApiLinkImage = Api.endPointImage;\r\n\r\n  const [rental, setRental] = useState({\r\n    currentStep: 1,\r\n    selectedDelivery: \"\",\r\n    selectedPayment: \"\",\r\n    delivery: [],\r\n    payment: [],\r\n    registered: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (rental.currentStep === 2 && rental.delivery.length === 0) {\r\n      fetch(`${ApiLink}/carrier/all`)\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setRental((prevState) => ({ ...prevState, delivery: result.data }));\r\n          }\r\n        });\r\n    }\r\n\r\n    if (rental.currentStep === 3 && rental.payment.length === 0) {\r\n      fetch(`${ApiLink}/payment/all`)\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setRental((prevState) => ({ ...prevState, payment: result.data }));\r\n          }\r\n        });\r\n    }\r\n  }, [rental, ApiLink]);\r\n\r\n  const handleCreateRental = () => {\r\n    const body = JSON.stringify({\r\n      id_payment: rental.selectedPayment,\r\n      id_carrier: rental.selectedDelivery,\r\n      id_article: data.article._id,\r\n      id_user: data.id_user,\r\n      total_price: data.numberDay * data.article.price,\r\n      start_date: data.dateStart,\r\n      end_date: data.dateEnd,\r\n    });\r\n\r\n    fetch(`${ApiLink}/rental`, {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (!result.error) {\r\n          Cookies.remove(\"article\");\r\n          setRental({\r\n            currentStep: 1,\r\n            selectedDelivery: \"\",\r\n            selectedPayment: \"\",\r\n            delivery: [],\r\n            payment: [],\r\n            registered: true,\r\n          });\r\n          setTimeout(() => {\r\n            setRental((prevState) => ({ ...prevState, registered: false }));\r\n            props.history.push(\"/my_account/rentals\");\r\n          }, 2500);\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h2 className=\"col-12 text-center my-2 my-md-3\">Tunnel de commande</h2>\r\n      <div className=\"col-12 col-lg-10 mx-auto\">\r\n        <div className=\"row d-flex justify-content-center col-12 col-md-10 col-lg-12 mx-auto\">\r\n          <div\r\n            className={`col-12 col-md-4 ${\r\n              rental.currentStep === 1 && \"bgcolor144c84 text-white\"\r\n              }`}\r\n          >\r\n            <p className=\"step-title text-center m-0 p-2\">1/ Récapitulatif</p>\r\n          </div>\r\n          <div\r\n            className={`col-12 col-md-4 ${\r\n              rental.currentStep === 2 && \"bgcolor144c84 text-white\"\r\n              }`}\r\n          >\r\n            <p className=\"step-title text-center m-0 p-2\">2/ Livraison</p>\r\n          </div>\r\n          <div\r\n            className={`col-12 col-md-4 ${\r\n              rental.currentStep === 3 && \"bgcolor144c84 text-white\"\r\n              }`}\r\n          >\r\n            <p className=\"step-title text-center m-0 p-2\">3/ Paiement</p>\r\n          </div>\r\n          <div className=\"col-12 content-rental p-0\">\r\n            {rental.registered ? (\r\n              <p className=\"text-white text-center bg-success p-3 mt-3\">\r\n                Location enregistré avec succés !\r\n              </p>\r\n            ) : rental.currentStep === 1 ? (\r\n              data && data.article ? (\r\n                <>\r\n                  <div className=\"d-flex flex-wrap\">\r\n                    <h5 className=\"col-12 font-weight-bold text-center my-3 title-part-rental-step\">\r\n                      Article\r\n                    </h5>\r\n                    <div className=\"col-12 d-flex flex-wrap justify-content-center align-items-center\">\r\n                      <p className=\"col-12 col-sm-6 col-md-5 col-lg-3 text-center text-lg-right\">\r\n                        Nom de l'article :\r\n                      </p>\r\n                      <p className=\"col-12 col-sm-6 col-md-5 col-lg-3 text-center text-lg-left\">\r\n                        {data.article.title}\r\n                      </p>\r\n                      <p className=\"col-12 col-sm-6 col-md-5 col-lg-3 text-center text-lg-right\">\r\n                        Prix :\r\n                      </p>\r\n                      <p className=\"col-12 col-sm-6 col-md-5 col-lg-3 text-center text-lg-left\">{`${data.article.price} €/jr`}</p>\r\n                    </div>\r\n                    <div className=\"col-12 d-flex justify-content-center align-items-center\">\r\n                      <img\r\n                        className=\"img-fluid thumbnail-article-rental\"\r\n                        src={`${ApiLinkImage}/${data.article.pictures[0].path_picture}`}\r\n                        alt=\"main_picture_article\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"d-flex flex-wrap\">\r\n                    <h5 className=\"col-12 font-weight-bold text-center title-part-rental-step\">\r\n                      Réservation\r\n                    </h5>\r\n                    <div className=\"col-12 d-flex flex-wrap justify-content-center align-items-center\">\r\n                      <p className=\"col-12 col-sm-6 col-md-5 col-lg-3 text-center text-lg-right\">\r\n                        Nombre de jour :\r\n                      </p>\r\n                      <p className=\"col-12 col-sm-6 col-md-5 col-lg-3 text-center text-lg-left\">\r\n                        {data.numberDay}\r\n                      </p>\r\n                      <p className=\"col-12 col-sm-6 col-md-5 col-lg-3 text-center text-lg-right\">\r\n                        Prix total :\r\n                      </p>\r\n                      <p className=\"col-12 col-sm-6 col-md-5 col-lg-3 text-center text-lg-left\">{`${\r\n                        data.numberDay * data.article.price\r\n                        } €`}</p>\r\n                      <p className=\"col-12 col-sm-6 col-md-5 col-lg-3 text-center text-lg-right\">\r\n                        Date de début :\r\n                      </p>\r\n                      <p className=\"col-12 col-sm-6 col-md-5 col-lg-3 text-center text-lg-left\">\r\n                        {moment(data.dateStart).format(\"DD/MM/YYYY\")}\r\n                      </p>\r\n                      <p className=\"col-12 col-sm-6 col-md-5 col-lg-3 text-center text-lg-right\">\r\n                        Date de fin :\r\n                      </p>\r\n                      <p className=\"col-12 col-sm-6 col-md-5 col-lg-3 text-center text-lg-left\">\r\n                        {moment(data.dateEnd).format(\"DD/MM/YYYY\")}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                  <p className=\"text-center my-4\">Aucun article choisi</p>\r\n                )\r\n            ) : rental.currentStep === 2 ? (\r\n              <TableRental\r\n                setRental={setRental}\r\n                data={rental.delivery}\r\n                propertyvalue=\"selectedDelivery\"\r\n                isChecked={rental.selectedDelivery}\r\n              />\r\n            ) : rental.currentStep === 3 ? (\r\n              <TableRental\r\n                setRental={setRental}\r\n                data={rental.payment}\r\n                propertyvalue=\"selectedPayment\"\r\n                isChecked={rental.selectedPayment}\r\n              />\r\n            ) : (\r\n                      <p>Page introuvable</p>\r\n                    )}\r\n          </div>\r\n          {data && data.article && (\r\n            <div className=\"col-12 d-flex justify-content-center justify-content-md-end my-3\">\r\n              {rental.currentStep > 1 && (\r\n                <button\r\n                  className=\"btn bgcolor144c84 text-white mx-3\"\r\n                  onClick={() => {\r\n                    setRental((prevState) => ({\r\n                      ...prevState,\r\n                      currentStep: prevState.currentStep - 1,\r\n                    }));\r\n                  }}\r\n                >\r\n                  {rental.currentStep === 2\r\n                    ? \"<< Récapitulatif\"\r\n                    : \"<< Livraison\"}\r\n                </button>\r\n              )}\r\n              {rental.currentStep < 3 && (\r\n                <button\r\n                  className=\"btn bgcolor144c84 text-white mx-3\"\r\n                  onClick={() => {\r\n                    if (rental.currentStep === 1 || rental.selectedDelivery) {\r\n                      setRental((prevState) => ({\r\n                        ...prevState,\r\n                        currentStep: prevState.currentStep + 1,\r\n                      }));\r\n                    }\r\n                  }}\r\n                >\r\n                  {rental.currentStep === 1 ? \"Livraison >>\" : \"Paiement >>\"}\r\n                </button>\r\n              )}\r\n              {rental.currentStep === 3 && rental.selectedPayment && (\r\n                <button\r\n                  className=\"btn bgcolor144c84 text-white mx-3\"\r\n                  onClick={() => handleCreateRental()}\r\n                >\r\n                  Valider\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Rental;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nfunction Login({ linkapi, redirect, history, location }) {\r\n  // Display the login page with the login form\r\n  // initialize state and set them when the input email and password change\r\n\r\n  const {\r\n    isAuth,\r\n    setIsAuth,\r\n    setIsLoading,\r\n    cookieToken,\r\n    setCookieToken,\r\n  } = useContext(AuthContext);\r\n  const [errorMessage, setErrorMessage] = useState(false);\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  // automatic redirection, when the user try to display the login page if he is logged in\r\n\r\n  useEffect(() => {\r\n    if (isAuth || cookieToken) {\r\n      history.replace(redirect);\r\n    }\r\n  });\r\n\r\n  // when the form is submitted, fetch them to the api in order to login the user\r\n  // If the api respond with an error settled to false, set the isAuth to true, the isLoading to false and set the cookieToken with the new token received\r\n  // otherwise display an error message to the client\r\n\r\n  const onFormSubmit = (e) => {\r\n    e.preventDefault();\r\n    fetch(linkapi, {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ email: email, password: password }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((result) => {\r\n        if (!result.error) {\r\n          setIsAuth(true);\r\n          setIsLoading(false);\r\n          setCookieToken(Cookies.get(\"x-auth-token\"));\r\n          history.replace(redirect);\r\n        } else if (result.error) {\r\n          setErrorMessage(true);\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {location.pathname === \"/adminlogin\" && (\r\n        <header className=\"header row d-flex align-items-center\">\r\n          <div className=\"col-12 col-md-6 text-center p-3 order-md-1\">\r\n            <img\r\n              src=\"../assets/img/louons.png\"\r\n              alt=\"logo_louons\"\r\n              className=\"img-fluid logoimg\"\r\n            />\r\n          </div>\r\n          <div className=\"col-12 col-md-6 text-center p-3\">\r\n            <h1 className=\"titlelogin color3c8ce4\">Connexion au Panel Admin</h1>\r\n          </div>\r\n        </header>\r\n      )}\r\n\r\n      <main className=\"row flex-grow-1\">\r\n        <form\r\n          className=\"mt-5 form-group mx-auto d-flex flex-column col-12 col-sm-6 col-md-5 col-lg-4 col-xl-3 align-items-center\"\r\n          onSubmit={onFormSubmit}\r\n        >\r\n          {errorMessage && (\r\n            <p className=\"messagesize text-danger\">\r\n              Email ou mot de passe erroné\r\n            </p>\r\n          )}\r\n          <label className=\"p-2 w-100\">\r\n            Email :\r\n            <input\r\n              className=\"form-control mt-3\"\r\n              type=\"email\"\r\n              onChange={(e) => {\r\n                setEmail(e.target.value);\r\n                setErrorMessage(false);\r\n              }}\r\n            />\r\n          </label>\r\n          <label className=\"p-2 w-100\">\r\n            Mot de passe :\r\n            <input\r\n              className=\"form-control mt-3\"\r\n              type=\"password\"\r\n              onChange={(e) => {\r\n                setPassword(e.target.value);\r\n                setErrorMessage(false);\r\n              }}\r\n            />\r\n          </label>\r\n          {location.pathname === \"/login\" && (\r\n            <Link to=\"/inscription\">\r\n              <p className=\"text-danger mb-2 notregistered-login\">\r\n                Pas encore de compte ? Inscrivez-vous{\" \"}\r\n              </p>\r\n            </Link>\r\n          )}\r\n\r\n          <input\r\n            className=\"bgcolor3c8ce4 text-white btn btnlogin\"\r\n            type=\"submit\"\r\n            value=\"Connexion\"\r\n          />\r\n        </form>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nfunction Logout(props) {\r\n  // When this component is called, it will set the isAuth to false, the cookie will also bee removed and the client will be redirected to the login page\r\n\r\n  const { setIsAuth, setCookieToken } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    Cookies.remove(\"x-auth-token\");\r\n    setCookieToken(\"\");\r\n    setIsAuth(false);\r\n  });\r\n\r\n  return <Redirect to={props.redirect} />;\r\n}\r\n\r\nexport default Logout;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport Api from '../../Classes/Api/Api.js';\r\n\r\nfunction PrivateRoute({ linkAuth, component: Component, ...rest }) {\r\n  // This route will render a component specify in props with the header and footer of the admin panel\r\n  // get the auth context to ensure that the client is authenticated\r\n  const { isLoading, isAuth, setCookieToken, setLinkAuth } = useContext(\r\n    AuthContext\r\n  );\r\n\r\n  if (document.cookie === \"\") {\r\n    setCookieToken(\"\");\r\n  }\r\n  // get the page to redirect to if the client is not authenticated\r\n  const { pageifnotauth } = { ...rest };\r\n  useEffect(() => {\r\n    // if the cookie is expired or inexisting, set the cookie token to an empty string, that will trigger automatically a logout\r\n    setLinkAuth(linkAuth);\r\n  }, [linkAuth, setLinkAuth]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={() => {\r\n          return (\r\n            <p className=\"text-white message-loading text-center bg-success p-3 w-100\">\r\n              Loading ...\r\n            </p>\r\n          );\r\n        }}\r\n      />\r\n    );\r\n  } else {\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={(props) => {\r\n          return isAuth ? (\r\n            <Component {...props} {...rest} />\r\n          ) : (\r\n              <Redirect to={pageifnotauth} />\r\n            );\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst ApiLink = Api.endPoint;\r\n\r\nPrivateRoute.defaultProps = {\r\n  linkAuth: `${ApiLink}/authenticationadmin`,\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from \"react\";\r\n\r\nfunction DivInputForm(props) {\r\n  return (\r\n    <>\r\n      <div className={props.containerClass}>\r\n        {props.errorcondition && (\r\n          <span className=\"text-danger w-100 errormessage text-center mx-auto p-2\">\r\n            {props.errormessage}\r\n          </span>\r\n        )}\r\n        <label className={props.labelClass} htmlFor={props.name}>\r\n          {props.label}\r\n        </label>\r\n        <input\r\n          type={props.type}\r\n          name={props.name}\r\n          value={props.value}\r\n          className={props.inputClass}\r\n          onChange={props.change}\r\n          id={props.name}\r\n          disabled={props.disabled}\r\n          min={props.min}\r\n          max={props.max}\r\n          autoComplete={props.autoComplete}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nDivInputForm.defaultProps = {\r\n  containerClass:\r\n    \"row form-group my-md-3 d-flex justify-content-center align-items-center col-12 mx-auto text-center\",\r\n  inputClass: \"form-control col-9 col-sm-6 col-md-5\",\r\n  labelClass: \"col-9 col-sm-6 mt-2\",\r\n  disabled: false,\r\n  htmlFor: \"\",\r\n  min: \"\",\r\n  max: \"\",\r\n  errorCondition: false,\r\n  autoComplete: \"on\",\r\n};\r\n\r\nexport default DivInputForm;\r\n","import React from \"react\";\r\n\r\nfunction TitleSection(props) {\r\n  // Simple component that render a title depending the isMediumWindow props\r\n  return (\r\n    !props.isMediumWindow && (\r\n      <h3 className=\"title-profil text-center mb-4\">{props.title}</h3>\r\n    )\r\n  );\r\n}\r\n\r\nexport default TitleSection;\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport DivInputForm from \"../../general/Form/DivInputForm\";\r\nimport TitleSection from \"./TitleSection\";\r\nimport Api from '../../../Classes/Api/Api.js';\r\n\r\nfunction Informations(props) {\r\n  const ApiLinkImage = Api.endPointImage;\r\n  \r\n  const { data, isDisabledForm, isLoading } = props.dataCurrentUser;\r\n\r\n  const isDisabled = isDisabledForm ? \"disabled\" : \"\";\r\n\r\n  return isLoading ? (\r\n    <p className=\"p-2 text-white bg-success\">Chargement...</p>\r\n  ) : (\r\n    <>\r\n      <TitleSection\r\n        isMediumWindow={props.isMediumWindow}\r\n        title=\"Mes Informations\"\r\n      />\r\n      {props.dataCurrentUser.isSuccess ? (\r\n        <p className=\"bg-success text-white text-center p-2 w-100\">\r\n          Information mis à jour avec succés\r\n        </p>\r\n      ) : props.dataCurrentUser.isFailed ? (\r\n        <p className=\"bg-danger text-white text-center p-2 w-100\">\r\n          Mot de passe incorrect ou erreur formulaire\r\n        </p>\r\n      ) : (\r\n        true\r\n      )}\r\n      <form\r\n        className=\"row form-group mx-auto d-flex justify-content-center\"\r\n        autoComplete=\"off\"\r\n        onSubmit={(e) => props.handleSubmit(e)}\r\n      >\r\n        {props.dataCurrentUser.errorPicture &&\r\n          props.dataCurrentUser.isSubmit && (\r\n            <span className=\"text-danger errormessage text-center mx-auto\">\r\n              Seule une image sous le format png ou jpg/jpeg est accepté\r\n            </span>\r\n          )}\r\n        <div className=\"col-12 m-0 p-0 row d-flex justify-content-between\">\r\n          <div className=\"col-4 col-sm-2 p-2 mx-auto d-flex align-items-center\">\r\n            <img\r\n              src={\r\n                data.path_picture && `${ApiLinkImage}/${data.path_picture}`\r\n                  ? `${ApiLinkImage}/${data.path_picture}`\r\n                  : `${ApiLinkImage}/default-avatar.png`\r\n              }\r\n              className=\"w-100 rounded-circle\"\r\n              alt=\"avatar_image_profil\"\r\n            />\r\n            {!isDisabled && (\r\n              <div className=\"file-picture-profil\">\r\n                <i className=\"ri-edit-line ri-2x text-white\"></i>\r\n                <span className=\"input-profil\">\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"picture\"\r\n                    multiple={true}\r\n                    onChange={(e) => props.handleChangeForm(e)}\r\n                  />\r\n                </span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"row my-3 col-12 col-sm-8 col-lg-7 d-flex justify-content-center\">\r\n          <label className=\"col-12 col-sm-4 mt-2 text-center\">Titre :</label>\r\n          <label className=\"col-5 col-sm-4 mt-2 text-center\">\r\n            Mr\r\n            <input\r\n              type=\"radio\"\r\n              name=\"gender\"\r\n              disabled={isDisabled}\r\n              className=\"mx-1\"\r\n              checked={data.gender === \"mr\"}\r\n              id=\"mr\"\r\n              key=\"mr\"\r\n              onChange={(e) => props.handleChangeForm(e, \"mr\")}\r\n            />\r\n          </label>\r\n          <label className=\"col-5 col-sm-4 mt-2 text-center\">\r\n            Mrs\r\n            <input\r\n              type=\"radio\"\r\n              name=\"gender\"\r\n              className=\"mx-1\"\r\n              disabled={isDisabled}\r\n              id=\"mrs\"\r\n              key=\"mrs\"\r\n              checked={data.gender === \"mrs\"}\r\n              onChange={(e) => props.handleChangeForm(e, \"mrs\")}\r\n            />\r\n          </label>\r\n        </div>\r\n        <DivInputForm\r\n          label=\"Nom :\"\r\n          containerClass=\"row mr-xl-2 col-12 col-xl-6 my-2 d-flex flex-row justify-content-center justify-content-sm-between align-items-center\"\r\n          labelClass=\"text-center my-2 m-md-0\"\r\n          inputClass=\"form-control col-12 col-sm-6 col-md-7 text-center\"\r\n          name=\"lastName\"\r\n          type=\"text\"\r\n          errorcondition={props.dataCurrentUser.errorLastName}\r\n          disabled={isDisabled}\r\n          value={\"lastName\" in data && data.lastName}\r\n          change={(e) => {\r\n            props.handleChangeForm(e);\r\n          }}\r\n          errormessage=\"Le nom ne peut pas contenir de chiffre ou de caractères spéciaux et ne doit pas être vide\"\r\n        />\r\n        <DivInputForm\r\n          label={\"Prénom :\"}\r\n          containerClass=\"row col-12 col-xl-6 my-2 d-flex flex-row justify-content-center justify-content-sm-between align-items-center\"\r\n          labelClass=\"text-center my-2 m-md-0\"\r\n          inputClass=\"form-control col-12 col-sm-6 col-md-7 text-center\"\r\n          name=\"firstName\"\r\n          type=\"text\"\r\n          errorcondition={props.dataCurrentUser.errorFirstName}\r\n          disabled={isDisabled}\r\n          value={\"firstName\" in data && data.firstName}\r\n          change={(e) => {\r\n            props.handleChangeForm(e);\r\n          }}\r\n          errormessage=\"Le prénom ne peut pas contenir de chiffre ou de caractères spéciaux et ne doit pas être vide\"\r\n        />\r\n        <DivInputForm\r\n          label={\"Email :\"}\r\n          containerClass=\"row mr-xl-2 col-12 col-xl-6 my-2 d-flex flex-row justify-content-center justify-content-sm-between align-items-center\"\r\n          labelClass=\"text-center my-2 m-md-0\"\r\n          inputClass=\"form-control col-12 col-sm-6 col-md-9 text-center\"\r\n          name=\"email\"\r\n          type=\"text\"\r\n          disabled={isDisabled}\r\n          errorcondition={props.dataCurrentUser.errorMail}\r\n          value={\"email\" in data && data.email}\r\n          change={(e) => {\r\n            props.handleChangeForm(e);\r\n          }}\r\n          errormessage=\"L'email doit être au format johndoe@louons.fr\"\r\n        />\r\n        <DivInputForm\r\n          label={\"Date de naissance :\"}\r\n          containerClass=\"row col-12 col-xl-6 my-2 d-flex flex-row justify-content-center justify-content-sm-between align-items-center\"\r\n          labelClass=\"text-center my-2 m-md-0\"\r\n          inputClass=\"form-control date-size col-12 col-sm-6 p-0 col-md-5 text-center\"\r\n          name=\"date_birth\"\r\n          type=\"date\"\r\n          min=\"1940-01-01\"\r\n          max=\"2010-01-01\"\r\n          errormessage=\"Date incorrect\"\r\n          errorcondition={props.dataCurrentUser.errorDate}\r\n          disabled={isDisabled}\r\n          value={\r\n            data.date_birth && moment(data.date_birth).format(\"YYYY-MM-DD\")\r\n          }\r\n          change={(e) => {\r\n            props.handleChangeForm(e);\r\n          }}\r\n        />\r\n        <div className=\"row mr-xl-2 col-12 col-xl-6 my-2 d-flex flex-row justify-content-center justify-content-sm-between align-items-center\">\r\n          <label className=\"text-center my-2 m-md-0\">Newsletter :</label>\r\n          <select\r\n            name=\"isSubscribe\"\r\n            id=\"category\"\r\n            disabled={isDisabled}\r\n            className=\"form-control col-12 col-sm-6 p-0 col-md-5 text-center\"\r\n            value={data.isSubscribe}\r\n            onChange={(e) => props.handleChangeForm(e)}\r\n          >\r\n            <option value={\"true\"}>Oui</option>\r\n            <option value={\"false\"}>Non</option>\r\n          </select>\r\n        </div>\r\n        <DivInputForm\r\n          label={\"Date d'inscription :\"}\r\n          containerClass=\"row col-12 col-xl-6 my-2 d-flex flex-row justify-content-center justify-content-sm-between align-items-center\"\r\n          labelClass=\"text-center my-2 m-md-0\"\r\n          inputClass=\"form-control date-size col-12 col-sm-6 p-0 col-md-5 text-center\"\r\n          name=\"date_register\"\r\n          type=\"date\"\r\n          disabled=\"disabled\"\r\n          value={\r\n            data.date_register &&\r\n            moment(data.date_register).format(\"YYYY-MM-DD\")\r\n          }\r\n        />\r\n        {isDisabled ? (\r\n          <button\r\n            className=\"mx-auto my-3 btn btn-info\"\r\n            onClick={() =>\r\n              props.setDataCurrentUser((prevState) => ({\r\n                ...prevState,\r\n                isDisabledForm: false,\r\n                method: \"PUT\",\r\n              }))\r\n            }\r\n          >\r\n            Modifier\r\n          </button>\r\n        ) : (\r\n          <>\r\n            <p className=\"text-secondary text-center p-2 w-100 mb-0\">\r\n              Pour toute modification, veuillez confirmer votre mot de passe.\r\n            </p>\r\n            <DivInputForm\r\n              containerClass=\"row mr-xl-2 col-12 col-xl-6 my-2 d-flex flex-row justify-content-center justify-content-sm-between align-items-center\"\r\n              labelClass=\"text-center my-2 m-md-0\"\r\n              inputClass=\"form-control col-12 col-sm-6 p-0 col-md-5 text-center\"\r\n              label={\"Mot de passe Actuel :\"}\r\n              name=\"testPassword\"\r\n              type=\"password\"\r\n              autoComplete=\"new-password\"\r\n              value={data.testPassword}\r\n              change={(e) => {\r\n                props.handleChangeForm(e);\r\n              }}\r\n              errorcondition={\r\n                props.dataCurrentUser.errorTestPassword &&\r\n                props.dataCurrentUser.isSubmit\r\n              }\r\n              errormessage=\" Le mot de passe doit contenir au moins 8 charactères, une majuscule\r\n          un chiffre et un caractère spécial\"\r\n            />\r\n            <DivInputForm\r\n              containerClass=\"row col-12 col-xl-6 my-2 d-flex flex-row justify-content-center justify-content-sm-between align-items-center\"\r\n              labelClass=\"text-center my-2 m-md-0\"\r\n              inputClass=\"form-control col-12 col-sm-6 p-0 col-md-5 text-center\"\r\n              label={\"Confirmation :\"}\r\n              name=\"confirmationTestPassword\"\r\n              type=\"password\"\r\n              value={data.confirmationTestPassword}\r\n              change={(e) => {\r\n                props.handleChangeForm(e);\r\n              }}\r\n              errorcondition={\r\n                props.dataCurrentUser.errorConfirmationTestPassword\r\n              }\r\n              errormessage=\"Le mot de passe de confirmation doit être identique\"\r\n            />\r\n            <DivInputForm\r\n              containerClass=\"row mr-xl-2 col-12 col-xl-6 my-2 d-flex flex-row justify-content-center justify-content-sm-between align-items-center\"\r\n              labelClass=\"text-center my-2 m-md-0\"\r\n              inputClass=\"form-control col-12 col-sm-6 p-0 col-md-5 text-center\"\r\n              label={\"Nouveau mdp :\"}\r\n              name=\"newPassword\"\r\n              type=\"password\"\r\n              autoComplete=\"new-password\"\r\n              value={data.newPassword}\r\n              change={(e) => {\r\n                props.handleChangeForm(e);\r\n              }}\r\n              errorcondition={\r\n                props.dataCurrentUser.errorNewPassword &&\r\n                props.dataCurrentUser.isSubmit\r\n              }\r\n              errormessage=\" Le mot de passe doit contenir au moins 8 charactères, une majuscule\r\n          un chiffre et un caractère spécial\"\r\n            />\r\n            <DivInputForm\r\n              containerClass=\"row col-12 col-xl-6 my-2 d-flex flex-row justify-content-center justify-content-sm-between align-items-center\"\r\n              labelClass=\"text-center my-2 m-md-0\"\r\n              inputClass=\"form-control col-12 col-sm-6 p-0 col-md-5 text-center\"\r\n              label={\"Confirmation :\"}\r\n              name=\"confirmationNewPassword\"\r\n              type=\"password\"\r\n              value={data.confirmationNewPassword}\r\n              change={(e) => {\r\n                props.handleChangeForm(e);\r\n              }}\r\n              errorcondition={\r\n                props.dataCurrentUser.errorConfirmationNewPassword\r\n              }\r\n              errormessage=\"Le mot de passe de confirmation doit être identique\"\r\n            />\r\n            <input\r\n              type=\"submit\"\r\n              className=\"mx-auto my-3 btn btn-info\"\r\n              value=\"Envoyer\"\r\n            />\r\n          </>\r\n        )}\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Informations;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Informations from \"./Informations\";\r\nimport Api from '../../../Classes/Api/Api.js';\r\n\r\nfunction InformationsLogic(props) {\r\n  // Initialize the state with the data of the current user\r\n  const ApiLink = Api.endPoint;\r\n  const [dataCurrentUser, setDataCurrentUser] = useState({\r\n    method: \"GET\",\r\n    data: {\r\n      date_birth: \"\",\r\n      picture: [],\r\n      testPassword: \"\",\r\n      confirmationTestPassword: \"\",\r\n      newPassword: \"\",\r\n      confirmationNewPassword: \"\",\r\n    },\r\n    isFetched: false,\r\n    isLoading: true,\r\n    isSubmit: false,\r\n    isDisabledForm: true,\r\n    numberErrorForm: 0,\r\n    errorForm: false,\r\n    errorPicture: false,\r\n    errorDate: false,\r\n    errorLastName: false,\r\n    errorFirstName: false,\r\n    errorMail: false,\r\n    errorTestPassword: false,\r\n    errorConfirmationTestPassword: false,\r\n    errorNewPassword: false,\r\n    errorConfirmationNewPassword: false,\r\n    isSuccess: false,\r\n    isFailed: false,\r\n  });\r\n  const dataform = new FormData();\r\n\r\n  const {\r\n    lastName,\r\n    firstName,\r\n    date_birth,\r\n    gender,\r\n    email,\r\n    isSubscribe,\r\n    picture,\r\n    testPassword,\r\n    confirmationTestPassword,\r\n    newPassword,\r\n    confirmationNewPassword,\r\n  } = dataCurrentUser.data;\r\n\r\n  const {\r\n    method,\r\n    isFetched,\r\n    errorForm,\r\n    errorPicture,\r\n    errorDate,\r\n    errorLastName,\r\n    errorFirstName,\r\n    errorMail,\r\n    errorTestPassword,\r\n    errorConfirmationTestPassword,\r\n    errorNewPassword,\r\n    errorConfirmationNewPassword,\r\n  } = dataCurrentUser;\r\n\r\n  // initialize the regex\r\n\r\n  const regexName = new RegExp(/^[a-zA-Z\\séùàüäîçïèêôö-]+$/);\r\n  const regexMail = new RegExp(\r\n    /^\\w*([.|-]){0,1}\\w*([.|-]){0,1}\\w*[@][a-z]*[.]\\w{2,5}/\r\n  );\r\n  const regexPassword = new RegExp(\r\n    /((?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[#$%^&*()+=!?\\-';,./{}|:<>?~]).{8,20})/\r\n  );\r\n\r\n  useEffect(() => {\r\n    // fetch the users information from the api\r\n\r\n    if (!isFetched) {\r\n      fetch(`${ApiLink}/user/me`, {\r\n        method: method,\r\n        credentials: \"include\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      })\r\n        .then((response) => response.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setDataCurrentUser((prevState) => ({\r\n              ...prevState,\r\n              data: { ...prevState.data, ...result.data },\r\n              isFetched: true,\r\n              isLoading: false,\r\n            }));\r\n          }\r\n        });\r\n    }\r\n\r\n    if (isFetched && method === \"PUT\") {\r\n      // Add picture and test the type mime\r\n      if (Object.keys(picture).length === 1) {\r\n        for (let i = 0; i < picture.length; i++) {\r\n          if (\r\n            picture[i].type !== \"image/png\" &&\r\n            picture[i].type !== \"image/jpeg\" &&\r\n            !errorPicture\r\n          ) {\r\n            setDataCurrentUser((prevState) => ({\r\n              ...prevState,\r\n              errorPicture: true,\r\n            }));\r\n          } else if (\r\n            picture[i].type === \"image/png\" ||\r\n            picture[i].type === \"image/jpeg\"\r\n          ) {\r\n            if (errorPicture) {\r\n              setDataCurrentUser((prevState) => ({\r\n                ...prevState,\r\n                errorPicture: false,\r\n              }));\r\n            }\r\n            dataform.append(`file${i}`, picture[i]);\r\n          }\r\n        }\r\n      } else if (Object.keys(picture).length > 1 && !errorPicture) {\r\n        setDataCurrentUser((prevState) => ({\r\n          ...prevState,\r\n          errorPicture: true,\r\n        }));\r\n      }\r\n\r\n      // set the error depending the value of the fields\r\n      if (\r\n        (new Date(date_birth).getFullYear() < 1940 ||\r\n          new Date(date_birth).getFullYear() > 2010) &&\r\n        !errorDate\r\n      ) {\r\n        setDataCurrentUser((prevState) => ({\r\n          ...prevState,\r\n          errorDate: true,\r\n        }));\r\n      } else if (\r\n        new Date(date_birth).getFullYear() > 1940 &&\r\n        new Date(date_birth).getFullYear() < 2010 &&\r\n        errorDate\r\n      ) {\r\n        setDataCurrentUser((prevState) => ({\r\n          ...prevState,\r\n          errorDate: false,\r\n        }));\r\n      }\r\n\r\n      if (regexName.test(lastName) && lastName !== \"\" && errorLastName) {\r\n        setDataCurrentUser((prevState) => ({\r\n          ...prevState,\r\n          errorLastName: false,\r\n        }));\r\n      } else if (\r\n        (!regexName.test(lastName) || lastName === \"\") &&\r\n        !errorLastName\r\n      ) {\r\n        setDataCurrentUser((prevState) => ({\r\n          ...prevState,\r\n          errorLastName: true,\r\n        }));\r\n      }\r\n\r\n      if (regexName.test(firstName) && firstName !== \"\" && errorFirstName) {\r\n        setDataCurrentUser((prevState) => ({\r\n          ...prevState,\r\n          errorFirstName: false,\r\n        }));\r\n      } else if (!regexName.test(firstName) && !errorFirstName) {\r\n        setDataCurrentUser((prevState) => ({\r\n          ...prevState,\r\n          errorFirstName: true,\r\n        }));\r\n      }\r\n\r\n      if (regexMail.test(email) && email !== \"\" && errorMail) {\r\n        setDataCurrentUser((prevState) => ({\r\n          ...prevState,\r\n          errorMail: false,\r\n        }));\r\n      } else if (!regexMail.test(email) && !errorMail) {\r\n        setDataCurrentUser((prevState) => ({\r\n          ...prevState,\r\n          errorMail: true,\r\n        }));\r\n      }\r\n\r\n      if (\r\n        regexPassword.test(testPassword) &&\r\n        testPassword !== \"\" &&\r\n        errorTestPassword\r\n      ) {\r\n        setDataCurrentUser((prevState) => ({\r\n          ...prevState,\r\n          errorTestPassword: false,\r\n        }));\r\n      } else if (\r\n        (!regexPassword.test(testPassword) || testPassword === \"\") &&\r\n        !errorTestPassword\r\n      ) {\r\n        setDataCurrentUser((prevState) => ({\r\n          ...prevState,\r\n          errorTestPassword: true,\r\n        }));\r\n      }\r\n\r\n      if (\r\n        testPassword === confirmationTestPassword &&\r\n        errorConfirmationTestPassword\r\n      ) {\r\n        setDataCurrentUser((prevState) => ({\r\n          ...prevState,\r\n          errorConfirmationTestPassword: false,\r\n        }));\r\n      } else if (\r\n        testPassword !== confirmationTestPassword &&\r\n        !errorConfirmationTestPassword\r\n      ) {\r\n        setDataCurrentUser((prevState) => ({\r\n          ...prevState,\r\n          errorConfirmationTestPassword: true,\r\n        }));\r\n      }\r\n\r\n      if (\r\n        (newPassword === \"\" || regexPassword.test(newPassword)) &&\r\n        errorNewPassword\r\n      ) {\r\n        setDataCurrentUser((prevState) => ({\r\n          ...prevState,\r\n          errorNewPassword: false,\r\n        }));\r\n      } else if (\r\n        newPassword !== \"\" &&\r\n        !regexPassword.test(newPassword) &&\r\n        !errorNewPassword\r\n      ) {\r\n        setDataCurrentUser((prevState) => ({\r\n          ...prevState,\r\n          errorNewPassword: true,\r\n        }));\r\n      }\r\n\r\n      if (\r\n        newPassword === confirmationNewPassword &&\r\n        errorConfirmationNewPassword\r\n      ) {\r\n        setDataCurrentUser((prevState) => ({\r\n          ...prevState,\r\n          errorConfirmationNewPassword: false,\r\n        }));\r\n      } else if (\r\n        newPassword !== confirmationNewPassword &&\r\n        !errorConfirmationNewPassword\r\n      ) {\r\n        setDataCurrentUser((prevState) => ({\r\n          ...prevState,\r\n          errorConfirmationNewPassword: true,\r\n        }));\r\n      }\r\n\r\n      if (\r\n        (errorPicture ||\r\n          errorDate ||\r\n          errorLastName ||\r\n          errorFirstName ||\r\n          errorMail ||\r\n          errorTestPassword ||\r\n          errorConfirmationTestPassword ||\r\n          errorNewPassword ||\r\n          errorConfirmationNewPassword) &&\r\n        !errorForm\r\n      ) {\r\n        setDataCurrentUser((prevState) => ({\r\n          ...prevState,\r\n          errorForm: true,\r\n        }));\r\n      } else if (\r\n        errorForm &&\r\n        !errorPicture &&\r\n        !errorDate &&\r\n        !errorLastName &&\r\n        !errorFirstName &&\r\n        !errorMail &&\r\n        !errorTestPassword &&\r\n        !errorConfirmationTestPassword &&\r\n        !errorNewPassword &&\r\n        !errorConfirmationNewPassword\r\n      ) {\r\n        setDataCurrentUser((prevState) => ({\r\n          ...prevState,\r\n          errorForm: false,\r\n        }));\r\n      }\r\n    }\r\n  }, [\r\n    method,\r\n    isFetched,\r\n    regexMail,\r\n    regexName,\r\n    regexPassword,\r\n    dataform,\r\n    lastName,\r\n    firstName,\r\n    date_birth,\r\n    email,\r\n    picture,\r\n    testPassword,\r\n    confirmationTestPassword,\r\n    errorForm,\r\n    errorPicture,\r\n    errorDate,\r\n    errorLastName,\r\n    errorFirstName,\r\n    errorMail,\r\n    errorTestPassword,\r\n    errorConfirmationTestPassword,\r\n    newPassword,\r\n    confirmationNewPassword,\r\n    errorNewPassword,\r\n    errorConfirmationNewPassword,\r\n    ApiLink\r\n  ]);\r\n\r\n  const handleChangeForm = (e, arg = \"\") => {\r\n    // manage the controlled input depending the value and the name\r\n\r\n    const { value, name, files } = e.target;\r\n    let val = arg === \"\" ? value : arg;\r\n    val = val === \"true\" || val === \"false\" ? JSON.parse(val) : val;\r\n\r\n    setDataCurrentUser((prevState) => {\r\n      if (name === \"picture\") {\r\n        return {\r\n          ...prevState,\r\n          data: { ...prevState.data, [name]: files },\r\n        };\r\n      } else {\r\n        return {\r\n          ...prevState,\r\n          data: { ...prevState.data, [name]: val },\r\n        };\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    // set issubmit to true when this function is called (onSubmit form)\r\n    setDataCurrentUser((prevState) => ({\r\n      ...prevState,\r\n      isSubmit: true,\r\n    }));\r\n\r\n    // append the value to the data form\r\n    dataform.append(\"lastName\", lastName);\r\n    dataform.append(\"firstName\", firstName);\r\n    dataform.append(\"date_birth\", date_birth);\r\n    dataform.append(\"gender\", gender);\r\n    dataform.append(\"email\", email);\r\n    dataform.append(\"isSubscribe\", isSubscribe);\r\n    dataform.append(\"testPassword\", testPassword);\r\n    newPassword !== \"\" && dataform.append(\"password\", newPassword);\r\n\r\n    // if there are not error put the data to the api\r\n    if (!errorForm) {\r\n      fetch(`${ApiLink}/user/me`, {\r\n        method: method,\r\n        credentials: \"include\",\r\n        body: dataform,\r\n      })\r\n        .then((response) => response.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            // set issuccess to true and change the path_picture if there are not error\r\n            setDataCurrentUser((prevState) => {\r\n              if (result.picture) {\r\n                return {\r\n                  ...prevState,\r\n                  isSuccess: true,\r\n                  isSubmit: false,\r\n                  isDisabledForm: true,\r\n                  data: {\r\n                    ...prevState.data,\r\n                    path_picture: result.picture,\r\n                  },\r\n                };\r\n              } else {\r\n                return {\r\n                  ...prevState,\r\n                  isSuccess: true,\r\n                  isSubmit: false,\r\n                  isDisabledForm: true,\r\n                };\r\n              }\r\n            });\r\n            // reset the field when there not error\r\n            setTimeout(() => {\r\n              setDataCurrentUser((prevState) => ({\r\n                ...prevState,\r\n                isSuccess: false,\r\n                data: {\r\n                  ...prevState.data,\r\n                  testPassword: \"\",\r\n                  confirmationTestPassword: \"\",\r\n                  newPassword: \"\",\r\n                  confirmationNewPassword: \"\",\r\n                },\r\n              }));\r\n            }, 1000);\r\n          } else if (result.error) {\r\n            // set isfailed to false if there are an error\r\n            setDataCurrentUser((prevState) => ({\r\n              ...prevState,\r\n              isFailed: true,\r\n            }));\r\n            setTimeout(() => {\r\n              setDataCurrentUser((prevState) => ({\r\n                ...prevState,\r\n                isFailed: false,\r\n              }));\r\n            }, 1000);\r\n          }\r\n        });\r\n    }\r\n  };\r\n  return (\r\n    <Informations\r\n      dataCurrentUser={dataCurrentUser}\r\n      setDataCurrentUser={setDataCurrentUser}\r\n      handleChangeForm={handleChangeForm}\r\n      handleSubmit={handleSubmit}\r\n      isMediumWindow={props.isMediumWindow}\r\n    />\r\n  );\r\n}\r\n\r\nexport default InformationsLogic;\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction TableProfil(props) {\r\n  // Function that send a request to the api in order to delete a document\r\n  const handleDelete = (id) => {\r\n    fetch(`${props.linkapi}/${id}`, {\r\n      method: \"DELETE\",\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (!result.error) {\r\n          props.setAddresses((prevState) => ({\r\n            ...prevState,\r\n            isFetched: false,\r\n          }));\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-striped table-announce\">\r\n        <thead>\r\n          <tr>\r\n            {Object.values(props.datatodisplay).map((elt, index) => (\r\n              <th key={index}>{elt}</th>\r\n            ))}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {props.data.map((e, ind) => (\r\n            <tr key={ind}>\r\n              {Object.keys(props.datatodisplay).map(\r\n                (eltdatatodisplay, index) => {\r\n                  if (e[eltdatatodisplay]) {\r\n                    if (eltdatatodisplay === \"date_register\") {\r\n                      return (\r\n                        <td key={index}>\r\n                          {moment(e[eltdatatodisplay]).format(\"DD/MM/YYYY\")}\r\n                        </td>\r\n                      );\r\n                    } else if (eltdatatodisplay === \"price\") {\r\n                      return (\r\n                        <td key={index}>{`${e[eltdatatodisplay]}€/jr`}</td>\r\n                      );\r\n                    } else if (eltdatatodisplay === \"total_price\") {\r\n                      return <td key={index}>{`${e[eltdatatodisplay]}€`}</td>;\r\n                    } else if (\r\n                      eltdatatodisplay === \"id_article\" ||\r\n                      eltdatatodisplay === \"id_carrier\" ||\r\n                      eltdatatodisplay === \"id_payment\"\r\n                    ) {\r\n                      return <td key={index}>{e[eltdatatodisplay].title}</td>;\r\n                    } else {\r\n                      return <td key={index}>{e[eltdatatodisplay]}</td>;\r\n                    }\r\n                  } else {\r\n                    if (eltdatatodisplay === \"seemore\") {\r\n                      return (\r\n                        <td key={index}>\r\n                          <Link\r\n                            to={`${props.linkdetail}/${e._id}`}\r\n                            onClick={() =>\r\n                              props.handleIdParams &&\r\n                              props.handleIdParams(e._id)\r\n                            }\r\n                          >\r\n                            <i className=\"ri-eye-line\"></i>\r\n                          </Link>\r\n                        </td>\r\n                      );\r\n                    } else if (eltdatatodisplay === \"delete\") {\r\n                      return (\r\n                        <td key={index}>\r\n                          <i\r\n                            className=\"ri-delete-bin-6-fill\"\r\n                            onClick={() => handleDelete(e._id)}\r\n                          ></i>\r\n                        </td>\r\n                      );\r\n                    } else {\r\n                      return true;\r\n                    }\r\n                  }\r\n                }\r\n              )}\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TableProfil;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport TitleSection from \"./TitleSection\";\r\nimport TableProfil from \"./TableProfil\";\r\nimport Api from \"../../../Classes/Api/Api\";\r\n\r\nfunction MyAnnounces(props) {\r\n  // Initialize the announces state\r\n  const [announces, setAnnounces] = useState({\r\n    data: [],\r\n    isFetched: false,\r\n  });\r\n\r\n  const ApiLink = Api.endPoint;\r\n\r\n  useEffect(() => {\r\n    // fetch all the announces of the user, then store them in the announces state\r\n    if (!announces.isFetched) {\r\n      fetch(`${ApiLink}/article/owner`, {\r\n        credentials: \"include\",\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setAnnounces((prevState) => ({\r\n              ...prevState,\r\n              data: result.data,\r\n              isFetched: true,\r\n            }));\r\n          } else if (result.error) {\r\n          }\r\n        });\r\n    }\r\n  }, [announces, ApiLink]);\r\n\r\n  return (\r\n    <>\r\n      <TitleSection\r\n        isMediumWindow={props.isMediumWindow}\r\n        title=\"Mes Annonces\"\r\n      />\r\n      {announces.data.length > 0 ? (\r\n        <TableProfil\r\n          data={announces.data}\r\n          linkdetail=\"/announce\"\r\n          datatodisplay={{\r\n            title: \"Titre\",\r\n            date_register: \"Date d'enregistrement\",\r\n            price: \"Tarif\",\r\n            seemore: \"Voir\",\r\n          }}\r\n        />\r\n      ) : (\r\n          <p>Vous n'avez pas encore d'annonces publiés</p>\r\n        )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MyAnnounces;\r\n","import React from \"react\";\r\n\r\nfunction SubmitButton(props) {\r\n  return (\r\n    <div className={props.divClass}>\r\n      <input type=\"submit\" value=\"Envoyer\" className={props.inputClass} />\r\n    </div>\r\n  );\r\n}\r\n\r\nSubmitButton.defaultProps = {\r\n  divClass: \"col-12 form-group my-3\",\r\n  inputClass: \"btn text-white bgcolor3c8ce4\",\r\n};\r\n\r\nexport default SubmitButton;\r\n","import React from \"react\";\r\nimport SubmitButton from \"./SubmitButton\";\r\n\r\nfunction Form(props) {\r\n  return (\r\n    <form className={props.class} onSubmit={props.handleSubmit} autoComplete=\"off\">\r\n      {props.titlepage && <h4 className=\"titlepage col-12\">{props.titlepage}</h4>}\r\n      {props.isSuccess ? (\r\n        <p className=\"bg-success text-white text-center p-2 w-100\">\r\n          {props.successMessage}\r\n        </p>\r\n      ) : props.isFailed ? (\r\n        <p className=\"bg-danger text-white text-center p-2 w-100\">\r\n          {props.failMessage}\r\n        </p>\r\n      ) : (\r\n        true\r\n      )}\r\n      {props.children}\r\n      <SubmitButton />\r\n    </form>\r\n  );\r\n}\r\n\r\nForm.defaultProps={\r\n    class: \"row mx-auto text-center widthform py-md-2\"\r\n}\r\n\r\nexport default Form;\r\n","import React, { useState } from \"react\";\r\nimport DivInputForm from \"./DivInputForm\";\r\n\r\nfunction AutoCompleteField(props) {\r\n  const [data, setData] = useState([]);\r\n  const [isShow, setIsShow] = useState(false);\r\n\r\n  // get the list of user depending the parameter sended by the client\r\n\r\n  const getList = (occ) => {\r\n    fetch(`${props.link}/${occ}`, {\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (!result.error) {\r\n          setData(result.data);\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className={props.divclass}>\r\n      {props.errorGrasp && (\r\n        <span className=\"text-danger errormessage text-center\">\r\n          Veuillez saisir votre recherche en un mot en toute lettre puis\r\n          sélectionner une proposition sur la liste déroulante\r\n        </span>\r\n      )}\r\n      <div className=\"position-relative\">\r\n        {props.idParams ? (\r\n          <div className=\"row form-group my-3 d-flex justify-content-center align-items-center\">\r\n            <label className=\"col-9 col-sm-4 mt-2\">{props.titleLabel} :</label>\r\n            <p className=\"col-9 col-sm-6 col-md-5 m-0\">{props.grasp}</p>\r\n          </div>\r\n        ) : (\r\n          <DivInputForm\r\n            label={`${props.titleLabel} :`}\r\n            name=\"owner\"\r\n            type=\"text\"\r\n            labelClass={props.labelClass}\r\n            inputClass=\"form-control col-9 col-sm-6 col-md-5\"\r\n            value={props.grasp}\r\n            change={(e) => {\r\n              props.setGrasp(e.target.value);\r\n              getList(e.target.value);\r\n              setIsShow(true);\r\n              props.setId(\"\");\r\n              props.setErrorGrasp(true);\r\n              if (props.setSpec) {\r\n                props.setSpec();\r\n              }\r\n            }}\r\n          />\r\n        )}\r\n        {isShow && props.grasp !== \"\" && (\r\n          <ul className=\"list-unstyled bg-secondary text-white autocomplete\">\r\n            {data.map((e) => {\r\n              if (e.clientId) {\r\n                return (\r\n                  <li\r\n                    className=\"p-1 border-black listcomplete\"\r\n                    key={e._id}\r\n                    onClick={() => {\r\n                      props.setGrasp(`${e.lastName} ${e.firstName}`);\r\n                      setIsShow(false);\r\n                      props.setId(e._id);\r\n                      props.setErrorGrasp(false);\r\n                    }}\r\n                  >{`${e.clientId} ${e.lastName} ${e.firstName}`}</li>\r\n                );\r\n              } else if (e.articleId) {\r\n                return (\r\n                  <li\r\n                    className=\"p-1 border-black listcomplete\"\r\n                    key={e._id}\r\n                    onClick={() => {\r\n                      props.setGrasp(`${e.title}`);\r\n                      setIsShow(false);\r\n                      props.setId(e._id);\r\n                      props.setErrorGrasp(false);\r\n                    }}\r\n                  >{`${e.articleId} ${e.title}`}</li>\r\n                );\r\n              } else {\r\n                return true;\r\n              }\r\n            })}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nAutoCompleteField.defaultProps = {\r\n  divclass: \"col-12\",\r\n};\r\n\r\nexport default AutoCompleteField;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport Form from \"../../general/Form/Form\";\r\nimport DivInputForm from \"../../general/Form/DivInputForm\";\r\nimport BootstrapSwitchButton from \"bootstrap-switch-button-react\";\r\nimport AutoCompleteField from \"../../general/Form/AutoCompleteField\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport Api from \"../../../Classes/Api/Api\";\r\n\r\nfunction AddressForm(props) {\r\n  const { dataUser } = useContext(AuthContext);\r\n  const ApiLink = Api.endPoint;\r\n\r\n  useEffect(() => {\r\n    if (!dataUser.adminLevel) {\r\n      props.setErrorGrasp(false);\r\n      props.setOwner(dataUser.id);\r\n    }\r\n  }, [dataUser, props]);\r\n\r\n  return (\r\n    <Form\r\n      handleSubmit={props.handleSubmit}\r\n      titlepage={props.titlepage && `${props.titlepage} une adresse`}\r\n      isFailed={props.form.isFailed}\r\n      isSuccess={props.form.isSuccess}\r\n      successMessage={`Adresse ${props.form.statusMessageForm} avec succés`}\r\n      failMessage=\"Erreur de duplication ou champs vide, veuillez vérifier votre formulaire\"\r\n    >\r\n      {props.history && <i\r\n        className=\"ri-arrow-go-back-line go-back-my-account ri-lg position-absolute\"\r\n        onClick={() => props.history.goBack()}\r\n      ></i>}\r\n      {dataUser.adminLevel && (\r\n        <>\r\n          <div className=\"row form-group my-3 d-flex justify-content-center align-items-center w-100 mx-auto\">\r\n            <label className=\"col-4 mt-2\">Etat :</label>\r\n            <BootstrapSwitchButton\r\n              checked={props.isActive}\r\n              onlabel=\"Actif\"\r\n              offlabel=\"Inactif\"\r\n              size=\"xs\"\r\n              width=\"70\"\r\n              onChange={() => {\r\n                props.setIsActive(!props.isActive);\r\n              }}\r\n            />\r\n          </div>\r\n          <AutoCompleteField\r\n            errorGrasp={props.errorGrasp}\r\n            idParams={props.idParams}\r\n            grasp={props.grasp}\r\n            titleLabel=\"Propriétaire\"\r\n            setGrasp={props.setGrasp}\r\n            setId={props.setOwner}\r\n            setErrorGrasp={props.setErrorGrasp}\r\n            link={`${ApiLink}/user/all`}\r\n          />\r\n        </>\r\n      )}\r\n      <DivInputForm\r\n        label={\"Titre de l'adresse :\"}\r\n        name=\"title\"\r\n        type=\"text\"\r\n        containerClass=\"row form-group my-md-3 d-flex justify-content-center align-items-center col-12 mx-auto mt-5\"\r\n        value={props.title}\r\n        change={(e) => {\r\n          props.setTitle(e.target.value);\r\n        }}\r\n        errorcondition={props.errorTitle && props.isSubmit}\r\n        errormessage=\"Ce champ doit contenir entre 5 et 30 caractères, et sans caractères spéciaux\"\r\n      />\r\n      <DivInputForm\r\n        label={\"Adresse :\"}\r\n        name=\"address\"\r\n        type=\"text\"\r\n        value={props.address}\r\n        change={(e) => {\r\n          props.setAddress(e.target.value);\r\n        }}\r\n        errorcondition={props.errorAddress && props.isSubmit}\r\n        errormessage=\"Ce champ doit contenir entre 10 et 80 caractères, et sans caractères spéciaux\"\r\n      />\r\n      <DivInputForm\r\n        label={\"Code postal :\"}\r\n        name=\"zipcode\"\r\n        type=\"number\"\r\n        value={props.zipCode}\r\n        change={(e) => {\r\n          props.setZipCode(e.target.value);\r\n        }}\r\n        errorcondition={props.errorZipCode && props.isSubmit}\r\n        errormessage=\"Ce champ doit contenir entre 4 et 5 caractères numériques\"\r\n      />\r\n      <DivInputForm\r\n        label={\"Ville :\"}\r\n        name=\"city\"\r\n        type=\"text\"\r\n        value={props.city.value}\r\n        change={(e) => {\r\n          props.setCity({ value: e.target.value });\r\n        }}\r\n        errorcondition={props.city.error && props.isSubmit}\r\n        errormessage=\"Ce champ doit contenir entre 3 et 50 caractères, et sans caractères spéciaux ni chiffre\"\r\n      />\r\n      <DivInputForm\r\n        label={\"Pays :\"}\r\n        name=\"country\"\r\n        type=\"text\"\r\n        value={props.country}\r\n        change={(e) => {\r\n          props.setCountry(e.target.value);\r\n        }}\r\n        errorcondition={props.errorCountry && props.isSubmit}\r\n        errormessage=\"Ce champ doit contenir entre 3 et 20 caractères, et sans caractères spéciaux ni chiffre\"\r\n      />\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default AddressForm;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport AddressForm from \"./AddressForm\";\r\nimport Api from \"../../../Classes/Api/Api\";\r\n\r\n\r\nfunction AddressFormLogic(props) {\r\n  // change of states in progress\r\n  const ApiLink = Api.endPoint;\r\n  const [statusMessageForm, setStatusMessageForm] = useState(\"enregistrée\");\r\n  const [errorForm, setErrorForm] = useState(false);\r\n  const [numberErrorForm, setNumberErrorForm] = useState(0);\r\n  const [isFetched, setIsFetched] = useState(false);\r\n  const [form, setForm] = useState({\r\n    isSuccess: false,\r\n    isFailed: false,\r\n    error: false,\r\n    statusMessageForm: \"enregistrée\",\r\n    numberError: 0,\r\n  });\r\n  const [owner, setOwner] = useState(\"\");\r\n  const [title, setTitle] = useState(\"\");\r\n  const [errorTitle, setErrorTitle] = useState(false);\r\n  const [address, setAddress] = useState(\"\");\r\n  const [errorAddress, setErrorAddress] = useState(false);\r\n  const [zipCode, setZipCode] = useState(\"\");\r\n  const [errorZipCode, setErrorZipCode] = useState(false);\r\n  const [city, setCity] = useState({\r\n    value: \"\",\r\n    error: false,\r\n  });\r\n  const [country, setCountry] = useState(\"\");\r\n  const [errorCountry, setErrorCountry] = useState(false);\r\n  const [isShow, setIsShow] = useState(false);\r\n  const [errorGrasp, setErrorGrasp] = useState(true);\r\n  const [isActive, setIsActive] = useState(true);\r\n  const [isSubmit, setIsSubmit] = useState(false);\r\n  const [grasp, setGrasp] = useState(\"\");\r\n  const [method, setMethod] = useState(\"POST\");\r\n  const [idParams] = useState(useParams().id);\r\n  const regexp = new RegExp(/^[\\w\\d\\séùàüäîçïèêôö]*$/);\r\n  const regexpCountryCity = new RegExp(/^[a-zA-Z\\s-éùàüäîçïèêôö]*$/);\r\n  let isCancelled = useRef(null);\r\n\r\n  useEffect(() => {\r\n    isCancelled.current = false;\r\n    // initialize the number of error form\r\n    setNumberErrorForm(0);\r\n\r\n    if ((!form.error || !errorForm) && isSubmit) {\r\n      const body = JSON.stringify({\r\n        isActive,\r\n        id_user: owner,\r\n        title,\r\n        address,\r\n        zipcode: zipCode,\r\n        city: city.value,\r\n        country,\r\n      });\r\n\r\n      const url =\r\n        method === \"POST\"\r\n          ? `${ApiLink}/address`\r\n          : `${ApiLink}/address/${idParams}`;\r\n      fetch(url, {\r\n        method,\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        credentials: \"include\",\r\n        body,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          setIsSubmit(false);\r\n          if (!result.error) {\r\n            setForm((prevState) => ({ ...prevState, isSuccess: true }));\r\n\r\n            setTimeout(() => {\r\n              !isCancelled.current &&\r\n                setForm((prevState) => ({ ...prevState, isSuccess: false }));\r\n            }, 800);\r\n\r\n            if (method === \"POST\") {\r\n              setTitle(\"\");\r\n              setAddress(\"\");\r\n              setZipCode(\"\");\r\n              setCity({ value: \"\" });\r\n              setCountry(\"\");\r\n              setGrasp(\"\");\r\n            }\r\n            if (props.setAddresses) {\r\n              props.setAddresses((prevState) => ({\r\n                ...prevState,\r\n                isFetched: false,\r\n              }));\r\n            }\r\n          } else {\r\n            setForm((prevState) => ({ ...prevState, isFailed: true }));\r\n            setTimeout(() => {\r\n              !isCancelled.current &&\r\n                setForm((prevState) => ({ ...prevState, isFailed: false }));\r\n            }, 800);\r\n          }\r\n        });\r\n    }\r\n    // get the data depending if the isFetched state is settled to false and if there are an idParams\r\n\r\n    if (idParams && !isFetched && idParams !== \"add\") {\r\n      setMethod(\"PUT\");\r\n      setStatusMessageForm(\"modifiée\");\r\n      fetch(`${ApiLink}/address/detail/${idParams}`, {\r\n        credentials: \"include\",\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setIsFetched(true);\r\n            setErrorGrasp(false);\r\n            setGrasp(\r\n              `${result.data.id_user.firstName} ${result.data.id_user.lastName}`\r\n            );\r\n            setAddress(result.data.address);\r\n            setTitle(result.data.title);\r\n            setZipCode(result.data.zipcode);\r\n            setCity({ value: result.data.city });\r\n            setCountry(result.data.country);\r\n            setIsActive(result.data.isActive);\r\n            setOwner(result.data.id_user._id);\r\n          } else if (result.error && props.history) {\r\n            return props.history.push(\"/admin/addresses\");\r\n          }\r\n        });\r\n    }\r\n\r\n    if (errorGrasp) {\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    }\r\n\r\n    if (\r\n      !regexp.test(title) ||\r\n      title === \"\" ||\r\n      title.length < 5 ||\r\n      title.length > 30\r\n    ) {\r\n      setErrorTitle(true);\r\n      setNumberErrorForm((prevNumber) => prevNumber + 1);\r\n    } else {\r\n      setErrorTitle(false);\r\n    }\r\n\r\n    if (\r\n      !regexp.test(address) ||\r\n      address === \"\" ||\r\n      address.length < 10 ||\r\n      address.length > 80\r\n    ) {\r\n      setErrorAddress(true);\r\n      setNumberErrorForm((prevNumber) => prevNumber + 1);\r\n    } else {\r\n      setErrorAddress(false);\r\n    }\r\n\r\n    if (\r\n      !regexpCountryCity.test(city.value) ||\r\n      city.value === \"\" ||\r\n      city.value.length < 3 ||\r\n      city.value.length > 50\r\n    ) {\r\n      if (!city.error) {\r\n        setCity((prevState) => ({ ...prevState, error: true }));\r\n      }\r\n      setNumberErrorForm((prevNumber) => prevNumber + 1);\r\n    } else {\r\n      if (city.error) {\r\n        setCity((prevState) => ({ ...prevState, error: false }));\r\n      }\r\n    }\r\n\r\n    if (\r\n      !regexpCountryCity.test(country) ||\r\n      country === \"\" ||\r\n      country.length < 3 ||\r\n      country.length > 20\r\n    ) {\r\n      setErrorCountry(true);\r\n      setNumberErrorForm((prevNumber) => prevNumber + 1);\r\n    } else {\r\n      setErrorCountry(false);\r\n    }\r\n\r\n    if (\r\n      zipCode === 0 ||\r\n      zipCode === \"\" ||\r\n      typeof zipCode === String ||\r\n      zipCode > 99999 ||\r\n      zipCode < 0 ||\r\n      zipCode.length < 4 ||\r\n      zipCode.length > 5\r\n    ) {\r\n      setErrorZipCode(true);\r\n      setNumberErrorForm((prevNumber) => prevNumber + 1);\r\n    } else {\r\n      setErrorZipCode(false);\r\n    }\r\n\r\n    if (numberErrorForm > 0) {\r\n      if (!form.error) {\r\n        setForm((prevState) => ({ ...prevState, error: true }));\r\n      }\r\n      setErrorForm(true);\r\n    } else {\r\n      if (form.error) {\r\n        setForm((prevState) => ({ ...prevState, error: false }));\r\n      }\r\n      setErrorForm(false);\r\n    }\r\n\r\n    return () => {\r\n      isCancelled.current = true;\r\n    };\r\n  }, [\r\n    idParams,\r\n    numberErrorForm,\r\n    regexp,\r\n    regexpCountryCity,\r\n    title,\r\n    address,\r\n    city,\r\n    country,\r\n    zipCode,\r\n    errorGrasp,\r\n    isFetched,\r\n    form,\r\n    props.history,\r\n    owner,\r\n    errorForm,\r\n    isActive,\r\n    isSubmit,\r\n    method,\r\n    props,\r\n    ApiLink\r\n  ]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setIsSubmit(true);\r\n  };\r\n\r\n  return (\r\n    <AddressForm\r\n      history={props.history}\r\n      form={form}\r\n      titlepage={props.title}\r\n      errorGrasp={errorGrasp}\r\n      isActive={isActive}\r\n      isShow={isShow}\r\n      setIsShow={setIsShow}\r\n      setIsActive={setIsActive}\r\n      handleSubmit={handleSubmit}\r\n      isSubmit={isSubmit}\r\n      idParams={idParams}\r\n      statusMessageForm={statusMessageForm}\r\n      grasp={grasp}\r\n      setGrasp={setGrasp}\r\n      setOwner={setOwner}\r\n      setErrorGrasp={setErrorGrasp}\r\n      title={title}\r\n      setTitle={setTitle}\r\n      errorTitle={errorTitle}\r\n      address={address}\r\n      setAddress={setAddress}\r\n      errorAddress={errorAddress}\r\n      zipCode={zipCode}\r\n      setZipCode={setZipCode}\r\n      errorZipCode={errorZipCode}\r\n      city={city}\r\n      setCity={setCity}\r\n      country={country}\r\n      setCountry={setCountry}\r\n      errorCountry={errorCountry}\r\n    />\r\n  );\r\n}\r\n\r\nexport default AddressFormLogic;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport TitleSection from \"./TitleSection\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport TableProfil from \"./TableProfil\";\r\nimport AdressFormLogic from \"../../general/Form/AddressFormLogic\";\r\nimport Api from \"../../../Classes/Api/Api\";\r\n\r\nfunction MyAddresses(props) {\r\n  // Initialize the id passed in parameter and the addresses of the user\r\n  const idParams = useParams().id;\r\n  const [addresses, setAddresses] = useState({\r\n    data: [],\r\n    isFetched: false,\r\n    id: idParams,\r\n  });\r\n  const ApiLink = Api.endPoint;\r\n\r\n  useEffect(() => {\r\n    // fetch all the addresses of the user, then store them in the adresses state\r\n    if (!addresses.isFetched) {\r\n      fetch(`${ApiLink}/address/allself`, {\r\n        credentials: \"include\",\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setAddresses((prevState) => ({\r\n              ...prevState,\r\n              data: result.data,\r\n              isFetched: true,\r\n            }));\r\n          }\r\n        });\r\n    }\r\n    // if there are an idParams and it is not equal to the addresses.id, refresh the addresses.id state\r\n    if (idParams !== addresses.id) {\r\n      setAddresses((prevState) => ({ ...prevState, id: idParams }));\r\n    }\r\n  }, [addresses, idParams, ApiLink]);\r\n\r\n  // Simple function to change the addresses.id\r\n  const handleIdParams = (id) => {\r\n    setAddresses((prevState) => ({ ...prevState, id }));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <TitleSection\r\n        isMediumWindow={props.isMediumWindow}\r\n        title=\"Mes Adresses\"\r\n      />\r\n      {!addresses.id ? (\r\n        <>\r\n          {addresses.data.length > 0 ? (\r\n            <TableProfil\r\n              data={addresses.data}\r\n              linkdetail=\"/my_account/addresses\"\r\n              handleIdParams={handleIdParams}\r\n              linkapi={`${ApiLink}/address`}\r\n              setAddresses={setAddresses}\r\n              datatodisplay={{\r\n                title: \"Titre\",\r\n                address: \"Adresse\",\r\n                zipcode: \"Code postal\",\r\n                city: \"Ville\",\r\n                date_register: \"Date d'enregistrement\",\r\n                seemore: \"Voir\",\r\n                delete: \"Supprimer\",\r\n              }}\r\n            />\r\n          ) : (\r\n              <p>Vous n'avez pas encore d'adresses publiés</p>\r\n            )}\r\n          <Link to={`addresses/add`}>\r\n            <button className=\"btn text-white bgcolor3c8ce4\">\r\n              Ajouter une adresse\r\n            </button>\r\n          </Link>\r\n        </>\r\n      ) : (\r\n          <AdressFormLogic setAddresses={setAddresses} history={props.history} />\r\n        )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MyAddresses;\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\n\r\nfunction Rental(props) {\r\n  const {\r\n    rentalId,\r\n    date_register,\r\n    start_date,\r\n    end_date,\r\n    id_carrier,\r\n    id_payment,\r\n    id_article,\r\n    isActive,\r\n    total_price,\r\n  } = props.datarental;\r\n\r\n  return (\r\n    <>\r\n      <h4 className=\"subtitle-profil text-left mb-4 color3c8ce4 mt-5\">\r\n        Location N° {rentalId}\r\n      </h4>\r\n      <i\r\n        className=\"ri-arrow-go-back-line go-back-my-account ri-lg position-absolute\"\r\n        onClick={() => props.history.goBack()}\r\n      ></i>\r\n      <div className=\"row\">\r\n        <p className=\"col-12 col-sm-6\">\r\n          Date de commande : {moment(date_register).format(\"DD-MM-YYYY\")}\r\n        </p>\r\n        <p className=\"col-12 col-sm-6\">Prix total : {total_price} €</p>\r\n      </div>\r\n      <div className=\"row\">\r\n        <p className=\"col-12 col-sm-6\">\r\n          Article : {id_article && id_article.title}\r\n        </p>\r\n        <p className=\"col-12 col-sm-6\">\r\n          Etat : {isActive ? \"Active\" : \"Annulée\"}\r\n        </p>\r\n      </div>\r\n      <div className=\"row\">\r\n        <p className=\"col-12 col-sm-6\">\r\n          Date de début : {moment(start_date).format(\"DD-MM-YYYY\")}\r\n        </p>\r\n        <p className=\"col-12 col-sm-6\">\r\n          Date de fin : {moment(end_date).format(\"DD-MM-YYYY\")}\r\n        </p>\r\n      </div>\r\n      <div className=\"row\">\r\n        <p className=\"col-12 col-sm-6\">\r\n          Livraison : {id_carrier && id_carrier.title}\r\n        </p>\r\n        <p className=\"col-12 col-sm-6\">\r\n          Paiement : {id_payment && id_payment.title}\r\n        </p>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Rental;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport TitleSection from \"./TitleSection\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport TableProfil from \"./TableProfil\";\r\nimport Rental from \"./Rental\";\r\nimport Api from \"../../../Classes/Api/Api\";\r\n\r\nfunction MyRentals(props) {\r\n  // Initialize the announces state and the idParams\r\n  const idParams = useParams().id;\r\n  const ApiLink = Api.endPoint;\r\n  const [rentals, setRentals] = useState({\r\n    data: [],\r\n    isFetched: false,\r\n    id: idParams,\r\n    dataRental: {},\r\n  });\r\n\r\n  useEffect(() => {\r\n    // fetch all the rentals of the user, then store them in the rentals state\r\n    if (!rentals.isFetched) {\r\n      fetch(`${ApiLink}/rental/self`, {\r\n        credentials: \"include\",\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setRentals((prevState) => ({\r\n              ...prevState,\r\n              data: result.data,\r\n              isFetched: true,\r\n            }));\r\n          }\r\n        });\r\n    }\r\n\r\n    // If there an rentals.id and the length of rentals.dataRental is equal to 0, fetch the data of the current rental\r\n    if (rentals.id && Object.keys(rentals.dataRental).length === 0) {\r\n      fetch(`${ApiLink}/rental/detail/${rentals.id}`, {\r\n        credentials: \"include\",\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setRentals((prevState) => ({\r\n              ...prevState,\r\n              dataRental: result.data,\r\n            }));\r\n          }\r\n        });\r\n    }\r\n\r\n    // if there are an idParams and it is not equal to the rentals.id, refresh the rentals.id state\r\n    if (idParams !== rentals.id) {\r\n      setRentals((prevState) => ({ ...prevState, id: idParams, dataRental: {}}));\r\n    }\r\n  }, [rentals, idParams, ApiLink]);\r\n\r\n  // Simple function to change the rentals.id\r\n  const handleIdParams = (id) => {\r\n    setRentals((prevState) => ({ ...prevState, id }));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <TitleSection\r\n        isMediumWindow={props.isMediumWindow}\r\n        title=\"Mes Locations\"\r\n      />\r\n      {rentals.data.length > 0 && !rentals.id ? (\r\n        <TableProfil\r\n          data={rentals.data}\r\n          linkdetail=\"/my_account/rentals\"\r\n          handleIdParams={handleIdParams}\r\n          datatodisplay={{\r\n            rentalId: \"N° de location\",\r\n            id_article: \"Article\",\r\n            id_payment: \"Paiement\",\r\n            id_carrier: \"Livraison\",\r\n            date_register: \"Date de commande\",\r\n            total_price: \"Prix total\",\r\n            seemore: \"Voir\",\r\n          }}\r\n        />\r\n      ) : rentals.id ? (\r\n        <Rental datarental={rentals.dataRental} history={props.history} />\r\n      ) : (\r\n        <p>Vous n'avez pas encore de location</p>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MyRentals;\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport { Switch, Route, useHistory } from \"react-router-dom\";\r\nimport PrivateRoute from \"../../general/PrivateRoute\";\r\nimport InformationsLogic from \"./InformationsLogic\";\r\nimport MyAnnounces from \"./MyAnnounces\";\r\nimport MyAddresses from \"./MyAddresses\";\r\nimport MyRentals from \"./MyRentals\";\r\nimport Api from '../../../Classes/Api/Api.js';\r\n\r\nfunction Profile() {\r\n  const [isMediumWindow, setIsMediumWindow] = useState();\r\n  const [valueSelect, setValueSelect] = useState();\r\n  let history = useHistory();\r\n  let isCancelled = useRef(null);\r\n  const ApiLink = Api.endPoint;\r\n\r\n  // set the isMediumWindow depending the width of the window\r\n  const handleIsMedium = () => {\r\n    if (!isCancelled.current) {\r\n      if (window.innerWidth < 768) {\r\n        setIsMediumWindow(true);\r\n      } else {\r\n        setIsMediumWindow(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    isCancelled.current = false;\r\n\r\n    //handleIsMedium only when the isCancelled.current is settled to false\r\n    if (!isCancelled.current) {\r\n      handleIsMedium();\r\n    }\r\n\r\n    //change the value select depending the pathname of the location\r\n  \r\n    if(history.location.pathname === \"/my_account/rentals\"){\r\n      setValueSelect(\"rentals\")\r\n    }else if(history.location.pathname === \"/my_account/announces\"){\r\n      setValueSelect(\"announces\")\r\n    }else if(history.location.pathname === \"/my_account/addresses\"){\r\n      setValueSelect(\"addresses\")\r\n    }else if(history.location.pathname === \"/my_account\"){\r\n      setValueSelect(\"\")\r\n    }\r\n\r\n    // cleanup the effect when the component is unmounted\r\n    return () => {\r\n      isCancelled.current = true;\r\n    };\r\n  }, [isMediumWindow, history]);\r\n\r\n  // add an event listener on resize\r\n  window.addEventListener(\"resize\", handleIsMedium);\r\n\r\n  // when this function is call change the value of the select state\r\n  function handleChangeSelect(value) {\r\n    setValueSelect(value);\r\n    if (value === \"logout\") {\r\n      history.push(`/${value}`);\r\n    } else {\r\n      history.push(`/my_account/${value}`);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"col-12 col-lg-10 mx-auto\">\r\n      <div className=\"row mx-auto d-flex justify-content-center\">\r\n        <div className=\"col-12 col-md-4 col-lg-3 text-center\">\r\n          {isMediumWindow ? (\r\n            <select\r\n              className=\"custom-select w-75 mx-auto\"\r\n              value={valueSelect}\r\n              onChange={(e) => handleChangeSelect(e.target.value)}\r\n            >\r\n              <option  value=\"\">Informations</option>\r\n              <option value=\"announces\">Mes Annonces</option>\r\n              <option value=\"addresses\">Mes Adresses</option>\r\n              <option value=\"rentals\">Mes locations</option>\r\n            </select>\r\n          ) : (\r\n            <ul className=\"list-unstyled mt-5\">\r\n              <li\r\n                className=\"p-2 text-center menu-link-account\"\r\n                onClick={() => handleChangeSelect(\"\")}\r\n              >\r\n                Informations\r\n              </li>\r\n              <li\r\n                className=\"p-2 text-center menu-link-account\"\r\n                onClick={() => handleChangeSelect(\"announces\")}\r\n              >\r\n                Mes Annonces\r\n              </li>\r\n              <li\r\n                className=\"p-2 text-center menu-link-account\"\r\n                onClick={() => handleChangeSelect(\"addresses\")}\r\n              >\r\n                Mes Adresses\r\n              </li>\r\n              <li\r\n                className=\"p-2 text-center menu-link-account\"\r\n                onClick={() => handleChangeSelect(\"rentals\")}\r\n              >\r\n                Mes locations\r\n              </li>\r\n              <li\r\n                className=\"p-2 text-center text-danger menu-link-account\"\r\n                onClick={() => handleChangeSelect(\"logout\")}\r\n              >\r\n                Déconnexion\r\n              </li>\r\n            </ul>\r\n          )}\r\n        </div>\r\n        <div className=\"col-12 col-md-8 col-lg-9 container-myaccount p-0 position-relative\">\r\n          <Switch>\r\n            <Route exact path=\"/my_account\">\r\n              <PrivateRoute\r\n                isMediumWindow={isMediumWindow}\r\n                component={InformationsLogic}\r\n                pageifnotauth=\"/login\"\r\n                linkAuth={`${ApiLink}/authenticationuser`}\r\n              />\r\n            </Route>\r\n            <Route exact path=\"/my_account/announces\">\r\n              <PrivateRoute\r\n                isMediumWindow={isMediumWindow}\r\n                component={MyAnnounces}\r\n                pageifnotauth=\"/login\"\r\n                linkAuth={`${ApiLink}/authenticationuser`}\r\n              />\r\n            </Route>\r\n            <Route exact path=\"/my_account/addresses/:id?\">\r\n              <PrivateRoute\r\n                isMediumWindow={isMediumWindow}\r\n                component={MyAddresses}\r\n                pageifnotauth=\"/login\"\r\n                linkAuth={`${ApiLink}/authenticationuser`}\r\n              />\r\n            </Route>\r\n            <Route exact path=\"/my_account/rentals/:id?\">\r\n              <PrivateRoute\r\n                isMediumWindow={isMediumWindow}\r\n                component={MyRentals}\r\n                pageifnotauth=\"/login\"\r\n                linkAuth={`${ApiLink}/authenticationuser`}\r\n              />\r\n            </Route>\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\n\r\nfunction InputFileForm(props) {\r\n  return (\r\n    <>\r\n      {props.errorFile > 0 && props.isSubmit && (\r\n        <span className=\"text-danger errormessage text-center mx-auto\">\r\n          {props.errorMessage}\r\n        </span>\r\n      )}\r\n      <div className=\"row form-group my-3 d-flex justify-content-center align-items-center col-12 mx-auto\">\r\n        <label className=\"col-9 col-sm-4 mt-2\">{props.label} :</label>\r\n        <input\r\n          type=\"file\"\r\n          name={props.name}\r\n          reset={props.reset}\r\n          multiple={props.isMultiple}\r\n          className=\"form-control-file col-9 col-sm-6 col-md-5\"\r\n          onChange={props.setPicture}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nInputFileForm.defaultProps = {\r\n  label: \"Images\",\r\n  anme : \"file\"\r\n};\r\n\r\nexport default InputFileForm;\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport Form from \"./Form\";\r\nimport DivInputForm from \"./DivInputForm\";\r\nimport InputFileForm from \"./InputFileForm\";\r\nimport Api from \"../../../Classes/Api/Api\";\r\n\r\nfunction UserForm(props) {\r\n  const ApiLinkImage = Api.endPointImage;\r\n  // console.log(props\r\n  return (\r\n    <Form\r\n      handleSubmit={props.handleSubmit}\r\n      titlepage={\r\n        props.titlepage ? `${props.titlepage} utilisateur` : \"Inscription\"\r\n      }\r\n      isFailed={props.isFailed}\r\n      isSuccess={props.isSuccess}\r\n      successMessage={`Utilisateur enregistré avec succés`}\r\n      failMessage=\"Erreur de duplication ou champs vide, veuillez vérifier votre formulaire\"\r\n    >\r\n      {props.pathname !== \"/inscription\" &&\r\n        (props.pictureDisplay !== \"\" && props.pictureDisplay !== undefined ? (\r\n          <div className=\"col-12 m-0 p-0 row d-flex justify-content-between\">\r\n            <div\r\n              className=\"col-4 col-sm-2 p-2 mx-auto\"\r\n              key={props.pictureDisplay}\r\n            >\r\n              <img\r\n                src={`${ApiLinkImage}/${props.pictureDisplay}`}\r\n                className=\"w-100 rounded-circle\"\r\n                alt=\"avatar_image_profil\"\r\n              />\r\n            </div>\r\n          </div>\r\n        ) : (\r\n            <div className=\"col-12 m-0 p-0 row d-flex justify-content-between\">\r\n              <div\r\n                className=\"col-4 col-sm-2 p-2 mx-auto\"\r\n                key={props.pictureDisplay}\r\n              >\r\n                <img\r\n                  src={`${ApiLinkImage}/default-avatar.png`}\r\n                  className=\"w-100 rounded-circle\"\r\n                  alt=\"avatar_image_profil\"\r\n                />\r\n              </div>\r\n            </div>\r\n          ))}\r\n      <InputFileForm\r\n        errorPicture={props.errorPicture}\r\n        isSubmit={props.isSubmit}\r\n        reset={props.picture}\r\n        setPicture={(e) => {\r\n          props.setPicture(e.target.files);\r\n        }}\r\n        label={\"Photo de profil\"}\r\n        errorMessage=\"Seule une image sous le format png ou jpg/jpeg est accepté\"\r\n        isMultiple={true}\r\n      />\r\n      <div className=\"row form-group my-md-3 d-flex justify-content-center align-items-center col-12 mx-auto text-center\">\r\n        <label className=\"col-9 col-sm-6 mt-2\">Titre :</label>\r\n        <div className=\"col-12 col-sm-6 col-md-5\">\r\n          <label className=\"col-6 col-sm-5 mt-2\">\r\n            Mr\r\n            <input\r\n              type=\"radio\"\r\n              name=\"gender\"\r\n              className=\"mx-2\"\r\n              checked={props.gender === \"mr\"}\r\n              id=\"mr\"\r\n              key=\"mr\"\r\n              onChange={() => props.setGender(\"mr\")}\r\n            />\r\n          </label>\r\n          <label className=\"col-6 col-sm-5 mt-2\">\r\n            Mrs\r\n            <input\r\n              type=\"radio\"\r\n              name=\"gender\"\r\n              className=\"mx-2\"\r\n              id=\"mrs\"\r\n              key=\"mrs\"\r\n              checked={props.gender === \"mrs\"}\r\n              onChange={() => props.setGender(\"mrs\")}\r\n            />\r\n          </label>\r\n        </div>\r\n      </div>\r\n      <DivInputForm\r\n        label={\"Nom :\"}\r\n        name=\"lastname\"\r\n        type=\"text\"\r\n        value={props.lastName}\r\n        change={(e) => {\r\n          props.handleName(e);\r\n        }}\r\n        errorcondition={props.errorLastName && props.isSubmit}\r\n        errormessage=\"Le nom ne peut pas contenir de chiffre ou de caractères spéciaux\"\r\n      />\r\n      <DivInputForm\r\n        label={\"Prénom :\"}\r\n        name=\"firstname\"\r\n        type=\"text\"\r\n        value={props.firstName}\r\n        change={(e) => {\r\n          props.handleName(e);\r\n        }}\r\n        errorcondition={props.errorFirstName && props.isSubmit}\r\n        errormessage=\"Le prénom ne peut pas contenir de chiffre ou de caractères spéciaux\"\r\n      />\r\n      {props.errorDateBirth && props.isSubmit && (\r\n        <span className=\"text-danger errormessage text-center w-100 p-2\">\r\n          Veuillez sélectionner une date\r\n        </span>\r\n      )}\r\n      <div className=\"row form-group my-3 d-flex justify-content-center align-items-center col-12 mx-auto\">\r\n        <label className=\"col-9 col-sm-6 mt-2\">Date de naissance :</label>\r\n        <input\r\n          type=\"date\"\r\n          name=\"datebirth\"\r\n          min=\"1940-01-01\"\r\n          max=\"2010-01-01\"\r\n          value={\r\n            props.dateBirth && moment(props.dateBirth).format(\"YYYY-MM-DD\")\r\n          }\r\n          className=\"form-control col-9 col-sm-6 col-md-5\"\r\n          onChange={(e) => {\r\n            if (e.target.value === \"\") {\r\n              props.setDateBirth();\r\n            } else {\r\n              props.setDateBirth(e.target.value);\r\n            }\r\n          }}\r\n        />\r\n      </div>\r\n      <DivInputForm\r\n        label={\"Email :\"}\r\n        name=\"email\"\r\n        type=\"email\"\r\n        value={props.email}\r\n        change={(e) => {\r\n          props.setEmail(e.target.value);\r\n        }}\r\n        errorcondition={props.errorMail && props.isSubmit}\r\n        errormessage=\"L'email doit être au format johndoe@louons.fr\"\r\n      />\r\n      <DivInputForm\r\n        label={\"Mot de passe :\"}\r\n        name=\"password\"\r\n        type=\"password\"\r\n        value={props.password}\r\n        change={(e) => {\r\n          props.setPassword(e.target.value);\r\n        }}\r\n        errorcondition={\r\n          props.method === \"PUT\"\r\n            ? props.errorPassword && props.isSubmit\r\n            : props.errorPassword\r\n        }\r\n        errormessage=\" Le mot de passe doit contenir au moins 8 charactères, une majuscule\r\n          un chiffre et un caractère spécial\"\r\n      />\r\n      <DivInputForm\r\n        label={\"Confirmation :\"}\r\n        name=\"passwordconf\"\r\n        type=\"password\"\r\n        value={props.confirmationPassword}\r\n        change={(e) => {\r\n          props.setConfirmationPassword(e.target.value);\r\n        }}\r\n        errorcondition={\r\n          props.method === \"PUT\"\r\n            ? props.errorConfirmation && props.isSubmit\r\n            : props.errorConfirmation\r\n        }\r\n        errormessage=\"Le mot de passe de confirmation doit être identique\"\r\n      />\r\n      <div className=\"row form-group my-3 d-flex justify-content-center align-items-center w-100\">\r\n        <label className=\"col-9 col-sm-6 mt-2\">\r\n          Inscription à la newsletter :\r\n        </label>\r\n        <div className=\"col-6 col-md-5\">\r\n          <label className=\"col-9 col-sm-4 mt-2\">Oui</label>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"issubscribe\"\r\n            checked={props.isSubscribe}\r\n            id=\"subscribe\"\r\n            key=\"subscribe\"\r\n            onChange={() => props.setIsSubscribe(true)}\r\n          />\r\n          <label className=\"col-9 col-sm-4 mt-2\">Non</label>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"issubscribe\"\r\n            id=\"notsubscribe\"\r\n            key=\"notsubscribe\"\r\n            checked={!props.isSubscribe}\r\n            onChange={() => props.setIsSubscribe(false)}\r\n          />\r\n        </div>\r\n      </div>\r\n    </Form>\r\n  );\r\n}\r\n\r\nUserForm.defaultProps = {\r\n  dateBirth: \"\",\r\n};\r\n\r\nexport default UserForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport UserForm from \"./UserForm\";\r\nimport Api from \"../../../Classes/Api/Api\";\r\n\r\nfunction UserFormLogic(props) {\r\n  const [method, setMethod] = useState(\"POST\");\r\n  const [gender, setGender] = useState(\"mr\");\r\n  const [isSubscribe, setIsSubscribe] = useState(false);\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [dateBirth, setDateBirth] = useState();\r\n  const [errorDateBirth, setErrorDateBirth] = useState(false);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [picture, setPicture] = useState(\"\");\r\n  const [pictureDisplay, setPictureDisplay] = useState(\"\");\r\n  const [errorPicture, setErrorPicture] = useState(false);\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmationPassword, setConfirmationPassword] = useState(\"\");\r\n  const [errorForm, setErrorForm] = useState(false);\r\n  const [numberErrorForm, setNumberErrorForm] = useState(0);\r\n  const [errorLastName, setErrorLastName] = useState(false);\r\n  const [errorFirstName, setErrorFirstName] = useState(false);\r\n  const [errorMail, setErrorMail] = useState(false);\r\n  const [errorPassword, setErrorPassword] = useState(false);\r\n  const [errorConfirmation, setErrorConfirmation] = useState(false);\r\n  const [isSubmit, setIsSubmit] = useState(false);\r\n  const [isSuccess, setIsSuccess] = useState(false);\r\n  const [isFailed, setIsFailed] = useState(false);\r\n  const [idParams] = useState(useParams().id);\r\n  const dataform = new FormData();\r\n  const ApiLink = Api.endPoint;\r\n\r\n  useEffect(() => {\r\n    setErrorForm(false);\r\n    // if the method is not equal to true and there are an idparams, fetch the data to the api and set the state\r\n    if (idParams && method !== \"PUT\") {\r\n      setMethod(\"PUT\");\r\n      fetch(`${ApiLink}/user/${idParams}`, {\r\n        credentials: \"include\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      })\r\n        .then((response) => response.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setGender(result.gender.toLowerCase());\r\n            setLastName(result.lastName);\r\n            setFirstName(result.firstName);\r\n            setDateBirth(result.date_birth);\r\n            setEmail(result.email);\r\n            setIsSubscribe(result.isSubscribe);\r\n            setPictureDisplay(result.path_picture);\r\n          } else if (result.error) {\r\n            return props.history.push(\"/admin/users\");\r\n          }\r\n        });\r\n    }\r\n\r\n    setNumberErrorForm(0);\r\n\r\n    // initialize the regex\r\n\r\n    const regexName = new RegExp(/^[a-zA-Z\\séùàüäîçïèêôö-]+$/);\r\n    const regexMail = new RegExp(\r\n      /^\\w*([.|-]){0,1}\\w*([.|-]){0,1}\\w*[@][a-z]*[.]\\w{2,5}/\r\n    );\r\n    const regexPassword = new RegExp(\r\n      /((?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[#$%^&*()+=!?\\-';,./{}|:<>?~]).{8,20})/\r\n    );\r\n\r\n    // set the error depending the value of the fields\r\n\r\n    if (Object.keys(picture).length === 1) {\r\n      for (let i = 0; i < picture.length; i++) {\r\n        if (\r\n          picture[i].type !== \"image/png\" &&\r\n          picture[i].type !== \"image/jpeg\"\r\n        ) {\r\n          setErrorPicture(true);\r\n          setNumberErrorForm((prev) => prev + 1);\r\n        } else {\r\n          setErrorPicture(false);\r\n          dataform.append(`file${i}`, picture[i]);\r\n        }\r\n      }\r\n    } else if (Object.keys(picture).length > 1) {\r\n      setErrorPicture(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    }\r\n\r\n    if (!regexName.test(lastName) || lastName === \"\") {\r\n      setErrorLastName(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorLastName(false);\r\n    }\r\n\r\n    if (!regexName.test(firstName) || firstName === \"\") {\r\n      setErrorFirstName(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorFirstName(false);\r\n    }\r\n\r\n    if (!dateBirth && method === \"POST\") {\r\n      setErrorDateBirth(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorDateBirth(false);\r\n    }\r\n\r\n    if (!regexMail.test(email) || email === \"\") {\r\n      setErrorMail(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorMail(false);\r\n    }\r\n\r\n    if (\r\n      (!regexPassword.test(password) && password !== \"\") ||\r\n      (password === \"\" && method === \"POST\")\r\n    ) {\r\n      setErrorPassword(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorPassword(false);\r\n    }\r\n\r\n    if (\r\n      confirmationPassword !== password ||\r\n      (confirmationPassword === \"\" && method === \"POST\")\r\n    ) {\r\n      setErrorConfirmation(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorConfirmation(false);\r\n    }\r\n\r\n    if (numberErrorForm > 0) {\r\n      setErrorForm(true);\r\n    } else {\r\n      setErrorForm(false);\r\n    }\r\n  }, [\r\n    numberErrorForm,\r\n    lastName,\r\n    firstName,\r\n    email,\r\n    password,\r\n    confirmationPassword,\r\n    idParams,\r\n    method,\r\n    dataform,\r\n    dateBirth,\r\n    picture,\r\n    props.history,\r\n    ApiLink\r\n  ]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault(e);\r\n    setIsSubmit(true);\r\n\r\n    // append the different state to the dataform depending the value of the password and the method\r\n\r\n    dataform.append(\"gender\", gender);\r\n    dataform.append(\"lastName\", lastName);\r\n    dataform.append(\"firstName\", firstName);\r\n    dataform.append(\"date_birth\", dateBirth);\r\n    dataform.append(\"email\", email);\r\n    dataform.append(\"isSubscribe\", isSubscribe);\r\n    password !== \"\" && dataform.append(\"password\", password);\r\n\r\n    // adapt the link according to the method\r\n\r\n    const getLink =\r\n      method === \"POST\"\r\n        ? `${ApiLink}/user`\r\n        : `${ApiLink}/user/${idParams}`;\r\n\r\n    // fetch only if there are not errorform\r\n\r\n    if (!errorForm) {\r\n      fetch(getLink, {\r\n        method: method,\r\n        credentials: \"include\",\r\n        body: dataform,\r\n      })\r\n        .then((response) => response.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            // set issuccess to true if there are not error\r\n            setIsSuccess(true);\r\n            setTimeout(() => {\r\n              setIsSuccess(false);\r\n            }, 1500);\r\n            if (props.location.pathname === \"/inscription\") {\r\n              setTimeout(() => {\r\n                return props.history.push(\"/login\");\r\n              }, 2000);\r\n            }\r\n            if (method === \"POST\") {\r\n              // reset all value of the form if the value method is equal to POST\r\n              setGender(\"\");\r\n              setLastName(\"\");\r\n              setFirstName(\"\");\r\n              setDateBirth(\"\");\r\n              setEmail(\"\");\r\n              setPassword(\"\");\r\n              setConfirmationPassword(\"\");\r\n              setPicture(\"\");\r\n              setIsSubscribe(false);\r\n              //redirect to login when the user subscribe\r\n            } else {\r\n              setPictureDisplay(result.picture);\r\n              setPassword(\"\");\r\n              setConfirmationPassword(\"\");\r\n            }\r\n            setIsSubmit(false);\r\n          } else if (result.error) {\r\n            // set isfailed to false if there are an error\r\n            setIsFailed(true);\r\n            setTimeout(() => {\r\n              setIsFailed(false);\r\n            }, 1500);\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  // function that set either the lastname or the firstname\r\n  const handleName = (e) => {\r\n    if (e.target.name === \"lastname\") {\r\n      setLastName(e.target.value);\r\n    } else {\r\n      setFirstName(e.target.value);\r\n    }\r\n  };\r\n  return (\r\n    <UserForm\r\n      isSuccess={isSuccess}\r\n      isFailed={isFailed}\r\n      handleSubmit={handleSubmit}\r\n      gender={gender}\r\n      lastName={lastName}\r\n      firstName={firstName}\r\n      dateBirth={dateBirth}\r\n      email={email}\r\n      password={password}\r\n      confirmationPassword={confirmationPassword}\r\n      setDateBirth={setDateBirth}\r\n      setEmail={setEmail}\r\n      setPassword={setPassword}\r\n      setConfirmationPassword={setConfirmationPassword}\r\n      setGender={setGender}\r\n      handleName={handleName}\r\n      errorLastName={errorLastName}\r\n      errorFirstName={errorFirstName}\r\n      errorMail={errorMail}\r\n      errorPassword={errorPassword}\r\n      errorConfirmation={errorConfirmation}\r\n      isSubscribe={isSubscribe}\r\n      setIsSubscribe={setIsSubscribe}\r\n      titlepage={props.title}\r\n      isSubmit={isSubmit}\r\n      method={method}\r\n      picture={picture}\r\n      setPicture={setPicture}\r\n      errorPicture={errorPicture}\r\n      pictureDisplay={pictureDisplay}\r\n      setPictureDisplay={setPictureDisplay}\r\n      pathname={props.location.pathname}\r\n      errorDateBirth={errorDateBirth}\r\n    />\r\n  );\r\n}\r\n\r\nexport default UserFormLogic;\r\n","import React from \"react\";\r\n\r\nfunction TextAreaInputForm(props) {\r\n  return (\r\n    <>\r\n      {props.errorDescription && props.isSubmit && (\r\n        <span className=\"text-danger errormessage text-center mx-auto\">\r\n          {props.errorMessage}\r\n        </span>\r\n      )}\r\n      <div className=\"row form-group my-3 d-flex justify-content-center align-items-center col-12 mx-auto\">\r\n        <label className={props.labelClass}>{props.label}</label>\r\n        <textarea\r\n          type=\"text\"\r\n          name=\"description\"\r\n          rows=\"5\"\r\n          value={props.description}\r\n          className=\"form-control col-9 col-sm-6 col-md-5\"\r\n          onChange={(e) => {\r\n            props.setDescription(e.target.value);\r\n          }}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nTextAreaInputForm.defaultProps = {\r\n  labelClass : \"col-9 col-sm-4 mt-2\"\r\n}\r\n\r\nexport default TextAreaInputForm;\r\n","import React, { useEffect, useContext } from \"react\";\r\nimport DivInputForm from \"./DivInputForm\";\r\nimport BootstrapSwitchButton from \"bootstrap-switch-button-react\";\r\nimport AutoCompleteField from \"./AutoCompleteField\";\r\nimport TextAreaInputForm from \"./TextAreaInputForm\";\r\nimport InputFileForm from \"./InputFileForm\";\r\nimport Form from \"./Form\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport Api from \"../../../Classes/Api/Api\";\r\n\r\nfunction ArticleForm(props) {\r\n  const { dataUser } = useContext(AuthContext);\r\n  const ApiLink = Api.endPoint;\r\n  const ApiLinkImage = Api.endPointImage;\r\n\r\n  useEffect(() => {\r\n    if (!dataUser.adminLevel) {\r\n      props.setErrorGrasp(false);\r\n      props.setOwner(dataUser.id);\r\n    }\r\n  }, [dataUser, props]);\r\n\r\n  return (\r\n    <Form\r\n      handleSubmit={props.handleSubmit}\r\n      titlepage={`${props.titlepage} une annonce`}\r\n      isFailed={props.isFailed}\r\n      isSuccess={props.isSuccess}\r\n      successMessage={`Article ${props.statusMessageForm} avec succés`}\r\n      failMessage=\"Erreur de duplication ou champs vide, veuillez vérifier votre formulaire\"\r\n    >\r\n      {dataUser.adminLevel && (\r\n        <div className=\"row form-group my-3 d-flex justify-content-center align-items-center w-100\">\r\n          <label className=\"col-12 col-sm-4 mt-2\">Etat :</label>\r\n          <BootstrapSwitchButton\r\n            checked={props.isActive}\r\n            onlabel=\"Actif\"\r\n            offlabel=\"Inactif\"\r\n            size=\"xs\"\r\n            width=\"70\"\r\n            onChange={() => {\r\n              props.setIsActive(!props.isActive);\r\n            }}\r\n          />\r\n        </div>\r\n      )}\r\n      {props.pictureDisplay && props.pictureDisplay.length > 0 && (\r\n        <div className=\"col-12 m-0 p-0 row d-flex justify-content-between\">\r\n          {props.pictureDisplay.map((e) => (\r\n            <div className=\"col-4 col-sm-4 p-2 col-md-3 mx-auto\" key={e.title}>\r\n              <img\r\n                src={`${ApiLinkImage}/${e.path_picture}`}\r\n                className=\"w-100\"\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n      {props.errorCategory && props.isSubmit && (\r\n        <span className=\"text-danger errormessage text-center mx-auto\">\r\n          Veuillez sélectionner une catégorie\r\n        </span>\r\n      )}\r\n      <div className=\"row form-group my-3 d-flex justify-content-center align-items-center col-12 mx-auto\">\r\n        <label className=\"col-9 col-sm-4 mt-2\">Catégorie :</label>\r\n        <select\r\n          name=\"id_category\"\r\n          id=\"category\"\r\n          className=\"form-control col-9 col-sm-6 col-md-5\"\r\n          value={props.idCategory}\r\n          onChange={(e) => props.setIdCategory(e.target.value)}\r\n        >\r\n          <option value=\"\">--Veuillez choisir une catégorie--</option>\r\n          {props.category.map((elt) => (\r\n            <option key={elt._id} value={elt._id}>\r\n              {elt.title}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      {dataUser.adminLevel && (\r\n        <AutoCompleteField\r\n          errorGrasp={props.errorGrasp}\r\n          idParams={props.idParams}\r\n          labelClass=\"col-9 col-sm-4 mt-2\"\r\n          grasp={props.grasp}\r\n          titleLabel=\"Propriétaire\"\r\n          setGrasp={props.setGrasp}\r\n          setId={props.setOwner}\r\n          setErrorGrasp={props.setErrorGrasp}\r\n          link={`${ApiLink}/user/all`}\r\n        />\r\n      )}\r\n      <DivInputForm\r\n        label={\"Titre :\"}\r\n        name=\"title\"\r\n        labelClass=\"col-9 col-sm-4 mt-2\"\r\n        type=\"text\"\r\n        value={props.title}\r\n        change={(e) => {\r\n          props.setTitle(e.target.value);\r\n        }}\r\n        errorcondition={props.errorTitle && props.isSubmit}\r\n        errormessage=\"Ce champ doit contenir entre 3 et 30 caractères\"\r\n      />\r\n      <TextAreaInputForm\r\n        errorDescription={props.errorDescription}\r\n        isSubmit={props.isSubmit}\r\n        description={props.description}\r\n        setDescription={props.setDescription}\r\n        errorMessage=\"Ce champ doit contenir entre 10 et 250 caractères\"\r\n        label=\"Description :\"\r\n      />\r\n      {props.errorPrice && props.isSubmit && (\r\n        <span className=\"text-danger errormessage text-center mx-auto\">\r\n          Veuillez saisir un prix valide compris entre 0 et 2000\r\n        </span>\r\n      )}\r\n      <DivInputForm\r\n        label={\"Tarif €/jr :\"}\r\n        name=\"price\"\r\n        labelClass=\"col-9 col-sm-4 mt-2\"\r\n        type=\"number\"\r\n        value={props.price}\r\n        change={(e) => {\r\n          props.setPrice(e.target.value);\r\n        }}\r\n      />\r\n      <InputFileForm\r\n        errorFile={props.errorFile}\r\n        isSubmit={props.isSubmit}\r\n        setPicture={(e) => props.setPicture(e.target.files)}\r\n        errorMessage=\"L'article doit contenir 3 images sous le format png ou jpg/jpeg\"\r\n        isMultiple={true}\r\n      />\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default ArticleForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport ArticleForm from \"./ArticleForm\";\r\nimport Api from \"../../../Classes/Api/Api\";\r\n\r\nfunction ArticleFormLogic(props) {\r\n  const ApiLink = Api.endPoint;\r\n  const [method, setMethod] = useState(\"POST\");\r\n  const [isFetchedCategory, setIsFetchedCategory] = useState(false);\r\n  const [isFetchedArticle, setIsFetchedArticle] = useState(false);\r\n  const [isSuccess, setIsSuccess] = useState(false);\r\n  const [isFailed, setIsFailed] = useState(false);\r\n  const [isActive, setIsActive] = useState(false);\r\n  const [category, setCategory] = useState([]);\r\n  const [idCategory, setIdCategory] = useState(\"\");\r\n  const [numberErrorForm, setNumberErrorForm] = useState(0);\r\n  const [grasp, setGrasp] = useState(\"\");\r\n  const [owner, setOwner] = useState(\"\");\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [isSubmit, setIsSubmit] = useState(\"\");\r\n  const [price, setPrice] = useState(0);\r\n  const [pictureDisplay, setPictureDisplay] = useState([]);\r\n  const [picture, setPicture] = useState(\"\");\r\n  const [errorForm, setErrorForm] = useState(false);\r\n  const [errorCategory, setErrorCategory] = useState(false);\r\n  const [errorTitle, setErrorTitle] = useState(false);\r\n  const [errorPrice, setErrorPrice] = useState(false);\r\n  const [errorDescription, setErrorDescription] = useState(false);\r\n  const [errorFile, setErrorFile] = useState(false);\r\n  const [errorGrasp, setErrorGrasp] = useState(true);\r\n  const [statusMessageForm, setStatusMessageForm] = useState(\"enregistré\");\r\n  const dataform = new FormData();\r\n  const [idParams] = useState(useParams().id);\r\n\r\n  useEffect(() => {\r\n    // reset the number error of the form and the error file\r\n\r\n    setNumberErrorForm(0);\r\n\r\n    // get the data depending if the isFetched state is settled to false and if there are an idParams\r\n    if (idParams && !isFetchedArticle) {\r\n      setMethod(\"PUT\");\r\n      setStatusMessageForm(\"modifié\");\r\n      fetch(`${ApiLink}/article/detail/${idParams}`, {\r\n        credentials: \"include\",\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setIsFetchedArticle(true);\r\n            setIdCategory(result.data.id_category._id);\r\n            setPrice(result.data.price);\r\n            setTitle(result.data.title);\r\n            setDescription(result.data.description);\r\n            setGrasp(`${result.data.id_user.lastName} ${result.data.id_user.firstName}`);\r\n            setPictureDisplay(result.data.pictures);\r\n            setIsActive(result.data.isActive);\r\n            setErrorGrasp(false);\r\n          } else if (result.error) {\r\n            return props.history.push(\"/admin/articles\");\r\n          }\r\n        });\r\n    }\r\n\r\n    // fetch the datas if isFetched is settled to false, then set it to true\r\n    // if there are not error set the category state with the result.data value\r\n\r\n    if (\r\n      (method === \"POST\" && !isFetchedCategory && !idParams) ||\r\n      (method === \"PUT\" && isFetchedArticle && !isFetchedCategory)\r\n    ) {\r\n      fetch(\"https://louonsapptest.herokuapp.com/louons/api/v1/category/all/activecategory\", {\r\n        credentials: \"include\",\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setCategory(result.data);\r\n            setIsFetchedCategory(true);\r\n          }\r\n        });\r\n    }\r\n    // condition to display some error in the form\r\n\r\n    if (title.length < 3 || title.length > 30) {\r\n      setErrorTitle(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorTitle(false);\r\n    }\r\n\r\n    if (Object.keys(picture).length === 3) {\r\n      let countError = 0;\r\n      for (let i = 0; i < picture.length; i++) {\r\n        if (\r\n          picture[i].type !== \"image/png\" &&\r\n          picture[i].type !== \"image/jpeg\"\r\n        ) {\r\n          countError++;\r\n          setNumberErrorForm((prev) => prev + 1);\r\n        } else {\r\n          dataform.append(`file${i}`, picture[i]);\r\n        }\r\n      }\r\n      if (countError > 0) {\r\n        setErrorFile(true);\r\n      } else {\r\n        setErrorFile(false);\r\n      }\r\n    } else if (method === \"POST\" && !idParams) {\r\n      setErrorFile(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    }\r\n\r\n    if (errorGrasp) {\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    }\r\n\r\n    if (idCategory === \"\") {\r\n      setErrorCategory(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorCategory(false);\r\n    }\r\n\r\n    if (\r\n      price === 0 ||\r\n      price === \"\" ||\r\n      typeof price === String ||\r\n      price > 2000 ||\r\n      price < 0\r\n    ) {\r\n      setErrorPrice(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorPrice(false);\r\n    }\r\n\r\n    if (description.length < 10 || description.length > 150) {\r\n      setErrorDescription(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorDescription(false);\r\n    }\r\n\r\n    if (numberErrorForm > 0) {\r\n      setErrorForm(true);\r\n    } else {\r\n      setErrorForm(false);\r\n    }\r\n  }, [\r\n    title,\r\n    description,\r\n    idCategory,\r\n    numberErrorForm,\r\n    isFetchedCategory,\r\n    price,\r\n    grasp,\r\n    isSubmit,\r\n    errorGrasp,\r\n    picture,\r\n    dataform,\r\n    idParams,\r\n    isFetchedArticle,\r\n    errorFile,\r\n    method,\r\n    props.history,\r\n    ApiLink\r\n  ]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const url =\r\n      method === \"POST\"\r\n        ? `${ApiLink}/article`\r\n        : `${ApiLink}/article/${idParams}`;\r\n\r\n    // set the state isSubmit to true in order to display some error in the form\r\n\r\n    setIsSubmit(true);\r\n\r\n    // append the necessary data to the dataform\r\n\r\n    dataform.append(\"title\", title);\r\n    dataform.append(\"description\", description);\r\n    dataform.append(\"price\", price);\r\n    dataform.append(\"isActive\", isActive);\r\n    method === \"POST\" && dataform.append(\"id_user\", owner);\r\n    dataform.append(\"id_category\", idCategory);\r\n\r\n    // if error form is settled to false post the data to the api\r\n\r\n    if (!errorForm) {\r\n      fetch(url, {\r\n        method: method,\r\n        credentials: \"include\",\r\n        body: dataform,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setIsSuccess(true);\r\n            setTimeout(() => {\r\n              setIsSuccess(false);\r\n            }, 2000);\r\n            if (method === \"POST\") {\r\n              setGrasp(\"\");\r\n              setTitle(\"\");\r\n              setDescription(\"\");\r\n              setPrice(0);\r\n              setOwner(\"\");\r\n              setPicture(\"\");\r\n              setIdCategory(\"\");\r\n              setIsSubmit(false);\r\n            } else {\r\n              if (result.pictures) {\r\n                setPictureDisplay(result.pictures);\r\n              }\r\n            }\r\n          } else {\r\n            setIsFailed(true);\r\n            setTimeout(() => setIsFailed(false), 2000);\r\n            if (result.message === '\"id_user\" is not allowed to be empty') {\r\n              setErrorGrasp(true);\r\n            }\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ArticleForm\r\n      titlepage={props.title || \"Proposer\"}\r\n      isSuccess={isSuccess}\r\n      isFailed={isFailed}\r\n      isActive={isActive}\r\n      setIsActive={setIsActive}\r\n      grasp={grasp}\r\n      setGrasp={setGrasp}\r\n      owner={owner}\r\n      setOwner={setOwner}\r\n      title={title}\r\n      setTitle={setTitle}\r\n      description={description}\r\n      setDescription={setDescription}\r\n      errorDescription={errorDescription}\r\n      idCategory={idCategory}\r\n      setIdCategory={setIdCategory}\r\n      price={price}\r\n      category={category}\r\n      setPrice={setPrice}\r\n      handleSubmit={handleSubmit}\r\n      errorTitle={errorTitle}\r\n      errorCategory={errorCategory}\r\n      errorFile={errorFile}\r\n      errorGrasp={errorGrasp}\r\n      setErrorGrasp={setErrorGrasp}\r\n      errorPrice={errorPrice}\r\n      setPicture={setPicture}\r\n      isSubmit={isSubmit}\r\n      pictureDisplay={pictureDisplay}\r\n      idParams={idParams}\r\n      statusMessageForm={statusMessageForm}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ArticleFormLogic;\r\n","import React, { useEffect, useContext } from \"react\";\r\nimport { ListCategoryProvider } from \"../../context/ListCategoryContext\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport Home from \"./Home\";\r\nimport Product from \"./Product\";\r\nimport Category from \"./Category\";\r\nimport AllProduct from \"./AllProduct\";\r\nimport NotFound from \"../general/NotFound\";\r\nimport Rental  from \"./Rental\";\r\nimport Login from \"../general/Login\";\r\nimport Logout from \"../general/Logout\";\r\nimport Profile from \"./Profile/Profile\";\r\nimport UserFormLogic from \"../general/Form/UserFormLogic\";\r\nimport PrivateRoute from \"../general/PrivateRoute\";\r\nimport ArticleFormLogic from \"../general/Form/ArticleFormLogic\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport \"../../styles/front/main.css\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport Api from '../../Classes/Api/Api.js';\r\n\r\nfunction Front() {\r\n  const { setLinkAuth } = useContext(AuthContext);\r\n  const ApiLink = Api.endPoint;\r\n\r\n  // set the path authentication\r\n\r\n  useEffect(() => {\r\n    setLinkAuth(`${ApiLink}/authenticationuser`);\r\n  }, [setLinkAuth, ApiLink]);\r\n\r\n  return (\r\n    // Provide the category list to the app or to the component that need it\r\n    <ListCategoryProvider>\r\n        <Header />\r\n        <main className=\"row widthmain mx-auto\">\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <Home />\r\n            </Route>\r\n            <Route exact path=\"/announces\" render={() => <AllProduct />} />\r\n            <Route exact path=\"/announce/:id\" render={() => <Product />} />\r\n            <Route\r\n              exact\r\n              path=\"/categories/:title\"\r\n              render={(props) => <Category {...props} />}\r\n            />\r\n            <Route path=\"/my_account\">\r\n              <PrivateRoute\r\n                component={Profile}\r\n                pageifnotauth=\"/login\"\r\n                linkAuth={`${ApiLink}/authenticationuser`}\r\n              />\r\n            </Route>\r\n            <Route exact path=\"/post_announce\">\r\n              <PrivateRoute\r\n                component={ArticleFormLogic}\r\n                pageifnotauth=\"/login\"\r\n                linkAuth={`${ApiLink}/authenticationuser`}\r\n              />\r\n            </Route>\r\n            <Route\r\n              exact\r\n              path=\"/inscription\"\r\n              render={(props) => <UserFormLogic {...props} />}\r\n            />\r\n            <Route\r\n              exact\r\n              path=\"/order\"\r\n            >\r\n              <PrivateRoute\r\n                component={Rental}\r\n                pageifnotauth=\"/login\"\r\n                linkAuth={`${ApiLink}/authenticationuser`}\r\n              />\r\n            </Route>\r\n            <Route\r\n              exact\r\n              path=\"/logout\"\r\n              render={(props) => <Logout {...props} redirect=\"/\" />}\r\n            />\r\n            <Route\r\n              exact\r\n              path=\"/login\"\r\n              render={(props) => (\r\n                <Login\r\n                  linkapi={`${ApiLink}/authenticationuser`}\r\n                  redirect=\"/my_account\"\r\n                  {...props}\r\n                />\r\n              )}\r\n            />\r\n            <Route>\r\n              <NotFound />\r\n            </Route>\r\n          </Switch>\r\n        </main>\r\n        <div className=\"fill\"></div>\r\n        <Footer />\r\n    </ListCategoryProvider>\r\n  );\r\n}\r\n\r\nexport default Front;\r\n","import React, { useContext } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nfunction Home() {\r\n  // get the data of the current admin in order to deal with them and render the content of the home page\r\n  const { dataUser } = useContext(AuthContext);\r\n\r\n  return (\r\n    <>\r\n      <h3 className=\"titlepage\">\r\n        Bienvenue sur le panel de louons.fr{\" \"}\r\n        {`${dataUser.firstName} ${dataUser.lastName}`}\r\n      </h3>\r\n      <div className=\"text-center\">\r\n        <img\r\n          src=\"/assets/img/welcome.jpg\"\r\n          className=\"imagehome\"\r\n          alt=\"welcome_panel\"\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport BootstrapSwitchButton from \"bootstrap-switch-button-react\";\r\n\r\nfunction SwitchButton(props) {\r\n  const [isActive, setIsActive] = useState(props.isActive);\r\n\r\n  return (\r\n    <BootstrapSwitchButton\r\n      checked={isActive}\r\n      onlabel={props.onlabel}\r\n      offlabel={props.offlabel}\r\n      size=\"xs\"\r\n      width=\"70\"\r\n      onChange={() => {\r\n        props.change();\r\n        setIsActive(!isActive)\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default SwitchButton;\r\n","import React, { useState } from \"react\";\r\n\r\n// Initialize the context. This context return a toggler and his state\r\n\r\nconst PopupAddContext = React.createContext();\r\n\r\nfunction PopupAddProvider(props) {\r\n  const [isToggle, setIsToggle] = useState(false);\r\n\r\n  // Set the isToggle state to its opposite. The default value is false.\r\n\r\n  const setToggle = (arg = !isToggle) => {\r\n    setIsToggle(arg);\r\n  };\r\n\r\n  return (\r\n    // Render the provider and give the access of the isToggle and the setToggled to his children\r\n\r\n    <PopupAddContext.Provider value={{ isToggle, setToggle }}>\r\n      {props.children}\r\n    </PopupAddContext.Provider>\r\n  );\r\n}\r\n\r\n// Export the provider and the context in order to have access wherever it's needed\r\n\r\nexport { PopupAddProvider, PopupAddContext };\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SwitchButton from \"../general/SwitchButton\";\r\nimport { PopupAddContext } from \"../../context/PopupAddContext\";\r\nimport moment from \"moment\";\r\n\r\nclass PageTableList extends Component {\r\n  // Component that render a list table with the props he receives\r\n  // isLoading = message displayed when the user change the current page\r\n  // isLoadingUpdate = message displayed when the user try to update\r\n  // listOfTh = object of data received in props. This data corresponds to what we want to display in the table header.\r\n  // listOfData = empty array which will be replaced by the data received by the fetch API (the link is also provided in props)\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      isLoadingUpdate: false,\r\n      errorMessageAdminLevel: false,\r\n      listOfTh: props.th,\r\n      listOfData: [],\r\n      adminLevel: \"\",\r\n    };\r\n    this._isMounted = false;\r\n  }\r\n\r\n  // get the context of popupaddcontext\r\n\r\n  static contextType = PopupAddContext;\r\n\r\n  // When the component is mount, the isloading state is set to true and fetch the data to the api (link provided in props)\r\n  // if there are not error, set the listOfData\r\n  // then set the isloading to false\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n    this.setState({\r\n      isLoading: true,\r\n    });\r\n    this.getList();\r\n\r\n    // initialize the popup context to false at each page change\r\n    if(this.context){\r\n      this.context.setToggle(false);\r\n    }\r\n    \r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  getList = () => {\r\n    fetch(this.props.linkapi, {\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (this._isMounted) {\r\n          if (!result.error) {\r\n            this.setState({\r\n              listOfData: result.data,\r\n              adminLevel: result.adminLevel,\r\n              isLoading: false,\r\n            });\r\n          } else {\r\n            this.setState({\r\n              isLoading: false,\r\n            });\r\n          }\r\n        }\r\n      });\r\n  };\r\n\r\n  // This method allow to update the isactive field, depending on the API link (linkputapi or the linkapi) and the id and boolean passed in parameter\r\n  // When this method is called, the isLoadingUpdate state is set to true and when the fetch operation is finished, this state is set to false\r\n\r\n  handleRequestFetch = (id, method, body = undefined) => {\r\n    this.setState({\r\n      isLoadingUpdate: true,\r\n    });\r\n    const linkupdate = this.props.linkputapi || this.props.linkapi;\r\n    fetch(`${linkupdate}/${id}`, {\r\n      method: method,\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (!result.error) {\r\n          this.setState({\r\n            isLoadingUpdate: false,\r\n          });\r\n        } else {\r\n          if (result.message === \"Not authorized admin level\") {\r\n            this.setState({\r\n              isLoadingUpdate: false,\r\n              errorMessageAdminLevel: true,\r\n            });\r\n            setTimeout(() => {\r\n              this.setState({\r\n                errorMessageAdminLevel: false,\r\n              });\r\n            }, 1500);\r\n          }\r\n        }\r\n        if (method === \"DELETE\") {\r\n          this.getList();\r\n        }\r\n      });\r\n  };\r\n\r\n  // Render the display of the table depending the states. Mapping over the listOfTh and the listOfData object keys in array and compare them in order to display the table correctly\r\n\r\n  render() {\r\n    const {\r\n      listOfData,\r\n      listOfTh,\r\n      isLoading,\r\n      isLoadingUpdate,\r\n      adminLevel,\r\n      errorMessageAdminLevel,\r\n    } = this.state;\r\n\r\n    return isLoading ? (\r\n      <p className=\"bg-success text-white p-2\">Loading....</p>\r\n    ) : (\r\n      <>\r\n        {errorMessageAdminLevel && (\r\n          <p className=\"bg-danger text-white p-2\">\r\n            Vous n'avez pas les droits nécessaires pour effectuer cette\r\n            action....\r\n          </p>\r\n        )}\r\n        <h4 className=\"titlepage\">{this.props.titlepage}</h4>\r\n        {isLoadingUpdate && (\r\n          <p className=\"bg-success text-white p-2\">Loading....</p>\r\n        )}\r\n        <div className=\"text-right p-3\">\r\n          {this.props.titlebutton && this.props.linkbutton ? (\r\n            <Link to={`${this.props.link}/add`}>\r\n              <button className=\"btn text-white bgcolor3c8ce4\">\r\n                {this.props.titlebutton}\r\n              </button>\r\n            </Link>\r\n          ) : (\r\n            <button\r\n              className=\"btn text-white bgcolor3c8ce4\"\r\n              onClick={() => this.context.setToggle(!this.context.isToggle)}\r\n            >\r\n              {this.props.titlebutton}\r\n            </button>\r\n          )}\r\n        </div>\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table table-striped\">\r\n            <thead>\r\n              <tr>\r\n                {listOfTh.map((elt, index) => {\r\n                  if (elt.delete && adminLevel === \"superadmin\") {\r\n                    return (\r\n                      <th className=\"text-center\" key={index}>\r\n                        {Object.values(elt)}\r\n                      </th>\r\n                    );\r\n                  } else if (!elt.delete) {\r\n                    return (\r\n                      <th className=\"text-center\" key={index}>\r\n                        {Object.values(elt)}\r\n                      </th>\r\n                    );\r\n                  }\r\n                  return true;\r\n                })}\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {listOfData.map((eltData, indexData) => {\r\n                return (\r\n                  <tr key={indexData}>\r\n                    {listOfTh.map((eltTh) => {\r\n                      return Object.keys(eltTh).map((subTh) =>\r\n                        subTh === \"seeMore\" ? (\r\n                          <td\r\n                            className=\"text-center\"\r\n                            key={`seemore${indexData}`}\r\n                          >\r\n                            <Link\r\n                              key={`link${indexData}`}\r\n                              to={`${this.props.link}/${eltData[\"_id\"]}`}\r\n                            >\r\n                              Voir\r\n                            </Link>\r\n                          </td>\r\n                        ) : subTh === \"delete\" &&\r\n                          adminLevel === \"superadmin\" ? (\r\n                          <td\r\n                            className=\"text-center\"\r\n                            key={`delete${indexData}`}\r\n                          >\r\n                            <i\r\n                              className=\"ri-delete-bin-6-fill ri-xl\"\r\n                              onClick={() =>\r\n                                this.handleRequestFetch(\r\n                                  eltData[\"_id\"],\r\n                                  \"DELETE\"\r\n                                )\r\n                              }\r\n                            ></i>\r\n                          </td>\r\n                        ) : subTh === \"category\" ? (\r\n                          <td\r\n                            className=\"text-center\"\r\n                            key={`category${indexData}`}\r\n                          >\r\n                            {eltData[\"id_category\"].title}\r\n                          </td>\r\n                        ) : subTh === \"price\" ? (\r\n                          <td className=\"text-center\" key={`price${indexData}`}>\r\n                            {`${eltData.price} €`}\r\n                          </td>\r\n                        ) : subTh === \"article\" ? (\r\n                          <td\r\n                            className=\"text-center\"\r\n                            key={`article${indexData}`}\r\n                          >\r\n                            {eltData.id_article[\"title\"]}\r\n                          </td>\r\n                        ) : subTh === \"user\" ? (\r\n                          <td className=\"text-center\" key={`user${indexData}`}>\r\n                            {`${eltData.id_user[\"lastName\"]} ${eltData.id_user[\"firstName\"]}`}\r\n                          </td>\r\n                        ) : subTh === \"address\" ? (\r\n                          <td className=\"text-center\" key={`user${indexData}`}>\r\n                            {`${eltData.address} ${eltData.zipcode} ${eltData.city}`}\r\n                          </td>\r\n                        ) : (\r\n                          Object.keys(eltData).map((subData) =>\r\n                            subTh === subData ? (\r\n                              <td key={indexData} className=\"text-center\">\r\n                                {subTh === \"isSubscribe\" ? (\r\n                                  eltData[subData] ? (\r\n                                    \"Oui\"\r\n                                  ) : (\r\n                                    \"Non\"\r\n                                  )\r\n                                ) : subTh === \"isActive\" ? (\r\n                                  <SwitchButton\r\n                                    onlabel=\"Actif\"\r\n                                    offlabel=\"Inactif\"\r\n                                    isActive={eltData[\"isActive\"]}\r\n                                    id={eltData[\"_id\"]}\r\n                                    change={() => {\r\n                                      this.handleRequestFetch(\r\n                                        eltData[\"_id\"],\r\n                                        \"PUT\",\r\n                                        JSON.stringify({\r\n                                          isActive: !eltData[\"isActive\"],\r\n                                        })\r\n                                      );\r\n                                    }}\r\n                                    handleIsActive={this.handleRequestFetch}\r\n                                  />\r\n                                ) : subTh === \"isTop\" ? (\r\n                                  <SwitchButton\r\n                                    onlabel=\"Top\"\r\n                                    offlabel=\"Non\"\r\n                                    isActive={eltData[\"isTop\"]}\r\n                                    id={eltData[\"_id\"]}\r\n                                    change={() => {\r\n                                      this.handleRequestFetch(\r\n                                        eltData[\"_id\"],\r\n                                        \"PUT\",\r\n                                        JSON.stringify({\r\n                                          isTop: !eltData[\"isTop\"],\r\n                                        })\r\n                                      );\r\n                                    }}\r\n                                    handleIsActive={this.handleRequestFetch}\r\n                                  />\r\n                                ) : subTh === \"description\" ? (\r\n                                  `${eltData.description.slice(0, 30)}...`\r\n                                ) : subTh === \"date_register\" ||\r\n                                  subTh === \"start_date\" ||\r\n                                  subTh === \"end_date\" ? (\r\n                                  moment(eltData[subData]).format(\"DD/MM/YYYY\")\r\n                                ) : (\r\n                                  eltData[subData]\r\n                                )}\r\n                              </td>\r\n                            ) : (\r\n                              true\r\n                            )\r\n                          )\r\n                        )\r\n                      );\r\n                    })}\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PageTableList;\r\n","import React from \"react\";\r\nimport PageTableList from \"../PageTableList\";\r\nimport Api from \"../../../Classes/Api/Api\";\r\n\r\nfunction ListUser() {\r\n  // give the all informations (api etc...) to the PageTableList component in order to display a table of the content\r\n  const ApiLink = Api.endPoint;\r\n  return (\r\n    <PageTableList\r\n      titlepage=\"Liste des utilisateurs\"\r\n      linkapi={`${ApiLink}/user/all`}\r\n      linkputapi={`${ApiLink}/user`}\r\n      th={[\r\n        { clientId: \"ID\" },\r\n        { gender: \"Titre\" },\r\n        { lastName: \"Nom\" },\r\n        { firstName: \"Prénom\" },\r\n        { date_register: \"Date d'inscription\" },\r\n        { isActive: \"Activer\" },\r\n        { isSubscribe: \"Newsletter\" },\r\n        { seeMore: \"Voir\" },\r\n        { delete: \"Supprimer\" },\r\n      ]}\r\n      titlebutton=\"Ajouter un utilisateur\"\r\n      link=\"users\"\r\n      linkbutton={true}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ListUser;\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport ListUser from \"./ListUser\";\r\nimport UserFormLogic from \"../../general/Form/UserFormLogic.js\";\r\nimport NotFound from \"../../general/NotFound\";\r\n\r\nfunction PrivateUser() {\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/admin/users\">\r\n        <ListUser />\r\n      </Route>\r\n      <Route\r\n        exact\r\n        path=\"/admin/users/add\"\r\n        render={(props) => <UserFormLogic {...props} title=\"Ajouter un\" />}\r\n      />\r\n      <Route\r\n        exact\r\n        path=\"/admin/users/:id\"\r\n        render={(props) => <UserFormLogic {...props} title=\"Modifier un\" />}\r\n      />\r\n      <Route>\r\n        <NotFound />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default PrivateUser;\r\n","import React, { useContext } from \"react\";\r\nimport { PopupAddContext } from \"../../context/PopupAddContext\";\r\n\r\nfunction PopupAdmin(props) {\r\n  //Render a component in a popup\r\n\r\n  const classDisplay = props.isToggle ? \"d-block\" : \"d-none\";\r\n\r\n  // get the popupcontext to display or no the div\r\n  const PopupContext = useContext(PopupAddContext);\r\n\r\n  return (\r\n    <div className={`${classDisplay} addpopupcontainer bgcolor9cd1ff`}>\r\n      <div className=\"d-flex justify-content-end p-2\">\r\n        <i\r\n          className=\"ri-close-circle-line ri-2x\"\r\n          onClick={() => PopupContext.setToggle(!PopupContext.isToggle)}\r\n        ></i>\r\n      </div>\r\n      {props.render}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupAdmin;\r\n","import React, { useContext } from \"react\";\r\nimport moment from \"moment\";\r\nimport BootstrapSwitchButton from \"bootstrap-switch-button-react\";\r\nimport { PopupAddContext } from \"../../../context/PopupAddContext\";\r\nimport DivInputForm from \"../../general/Form/DivInputForm\";\r\nimport Form from \"../../general/Form/Form\";\r\n\r\nfunction CategoryForm(props) {\r\n  const PopupContext = useContext(PopupAddContext);\r\n\r\n  // the redirect props is settled to true, redirect after registered a new category\r\n  if (props.redirect) {\r\n    window.location.reload(false);\r\n  }\r\n\r\n  return (\r\n    <Form\r\n      handleSubmit={props.handleSubmit}\r\n      titlepage={\r\n        PopupContext.isToggle\r\n          ? \"Ajouter une catégorie\"\r\n          : \"Modifier une catégorie\"\r\n      }\r\n      isFailed={props.isFailed}\r\n      isSuccess={props.isSuccess}\r\n      successMessage={`Article ${props.statusMessageForm} avec succés`}\r\n      failMessage=\"Erreur de duplication ou champs vide, veuillez vérifier votre formulaire\"\r\n    >\r\n      {!PopupContext.isToggle && (\r\n        <>\r\n          <div className=\"row form-group my-3 d-flex justify-content-center align-items-center w-100\">\r\n            <label className=\"col-9 col-sm-4 mt-2\">Active :</label>\r\n            <BootstrapSwitchButton\r\n              checked={props.isActive}\r\n              onlabel=\"Actif\"\r\n              offlabel=\"Inactif\"\r\n              size=\"xs\"\r\n              width=\"70\"\r\n              onChange={() => {\r\n                props.handleFetchPut(\"isActive\");\r\n              }}\r\n            />\r\n          </div>\r\n          <div className=\"row form-group my-3 d-flex justify-content-center align-items-center w-100\">\r\n            <label className=\"col-9 col-sm-4 mt-2\">Date de création :</label>\r\n            <p className=\"m-0\">\r\n              {moment(props.dateRegister).format(\"DD-MM-YYYY\")}\r\n            </p>\r\n          </div>\r\n        </>\r\n      )}\r\n      <DivInputForm\r\n        label={\"Titre :\"}\r\n        name=\"title\"\r\n        type=\"text\"\r\n        value={props.title}\r\n        change={(e) => {\r\n          props.setTitle(e.target.value);\r\n        }}\r\n        errorcondition={props.errorTitle && props.isSubmit}\r\n        errormessage=\"Ce champ ne peut pas contenir de chiffre ou être vide\"\r\n      />\r\n      <DivInputForm\r\n        label={\"Lien :\"}\r\n        value={props.link}\r\n        name=\"link\"\r\n        type=\"text\"\r\n        change={(e) => {\r\n          props.setLink(e.target.value);\r\n        }}\r\n        errorcondition={props.errorLink && props.isSubmit}\r\n        errormessage=\"Ce champ ne peut pas contenir d'espace ou de chiffre ou être vide\"\r\n      />\r\n      {props.errorDescription && props.isSubmit && (\r\n        <span className=\"text-danger errormessage text-center\">\r\n          Ce champ doit contenir entre 10 et 150 caractères\r\n        </span>\r\n      )}\r\n      <div className=\"row form-group my-3 d-flex justify-content-center align-items-center w-100\">\r\n        <label className=\"col-9 col-sm-6 mt-2\">Description :</label>\r\n        <textarea\r\n          type=\"text\"\r\n          name=\"description\"\r\n          value={props.description}\r\n          className=\"form-control col-9 col-sm-6\"\r\n          onChange={(e) => {\r\n            props.setDescription(e.target.value);\r\n          }}\r\n        />\r\n      </div>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default CategoryForm;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport CategoryForm from \"./CategoryForm\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { PopupAddContext } from \"../../../context/PopupAddContext\";\r\nimport Api from \"../../../Classes/Api/Api\";\r\n\r\nfunction CategoryFormLogic(props) {\r\n  const [method, setMethod] = useState(\"GET\");\r\n  const [isActive, setIsActive] = useState(false);\r\n  const [dateRegister, setDateRegister] = useState(\"\");\r\n  const [statusMessageForm, setStatusMessageForm] = useState(\"enregistré\");\r\n  const [title, setTitle] = useState(\"\");\r\n  const [errorTitle, setErrorTitle] = useState(false);\r\n  const [link, setLink] = useState(\"\");\r\n  const [errorLink, setErrorLink] = useState(false);\r\n  const [description, setDescription] = useState(\"\");\r\n  const [errorDescription, setErrorDescription] = useState(false);\r\n  const [errorForm, setErrorForm] = useState(false);\r\n  const [numberErrorForm, setNumberErrorForm] = useState(0);\r\n  const [isSuccess, setIsSuccess] = useState(false);\r\n  const [isFailed, setIsFailed] = useState(false);\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [isSubmit, setIsSubmit] = useState(false);\r\n  const idParams = useParams().id;\r\n  const stringRegex = new RegExp(/[a-zA-Z\\séùàüäîçïèêôö-]+$/);\r\n  const linkRegex = new RegExp(/^[a-zA-Z-]+$/);\r\n  const PopupContext = useContext(PopupAddContext);\r\n  const ApiLink = Api.endPoint;\r\n\r\n  // fetch the data to the api at the first loading\r\n\r\n  useEffect(() => {\r\n    // initialize the value method and the number of error form\r\n\r\n    setMethod(\"PUT\");\r\n    setNumberErrorForm(0);\r\n\r\n    // fetch the data depending if the method state is settled to 'GET' and if there are an idParams\r\n\r\n    if (method === \"GET\" && idParams) {\r\n      setStatusMessageForm(\"modifié\")\r\n      fetch(`${ApiLink}/category/detail/${idParams}`, {\r\n        method: method,\r\n        credentials: \"include\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setTitle(result.data.title);\r\n            setLink(result.data.link);\r\n            setDescription(result.data.description);\r\n            setIsActive(result.data.isActive);\r\n            setDateRegister(result.data.date_register);\r\n          } else if (result.error) {\r\n            return props.history.push(\"/admin/categories\");\r\n          }\r\n        });\r\n    }\r\n\r\n    // condition to display some error in the form\r\n\r\n    if (!stringRegex.test(title) || title === \"\") {\r\n      setErrorTitle(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorTitle(false);\r\n    }\r\n\r\n    if (!linkRegex.test(link) || link === \"\") {\r\n      setErrorLink(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorLink(false);\r\n    }\r\n\r\n    if (\r\n      description === \"\" ||\r\n      description.length < 10 ||\r\n      description.length > 150\r\n    ) {\r\n      setErrorDescription(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorDescription(false);\r\n    }\r\n    if (numberErrorForm > 0) {\r\n      setErrorForm(true);\r\n    } else {\r\n      setErrorForm(false);\r\n    }\r\n  }, [\r\n    idParams,\r\n    title,\r\n    link,\r\n    description,\r\n    method,\r\n    stringRegex,\r\n    linkRegex,\r\n    numberErrorForm,\r\n    props.history,\r\n    ApiLink\r\n  ]);\r\n\r\n  // if the form is submitted call the handleFetchPut function\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    PopupContext.isToggle ? handleFetchPost() : handleFetchPut();\r\n  };\r\n\r\n  // send fetch put method depending the argument passed in function\r\n\r\n  const handleFetchPut = (arg = \"\") => {\r\n    setIsSubmit(true);\r\n    const dataForm =\r\n      arg === \"isActive\"\r\n        ? JSON.stringify({\r\n          isActive: !isActive,\r\n        })\r\n        : JSON.stringify({\r\n          title,\r\n          description,\r\n          link,\r\n        });\r\n    if (!errorForm || (arg === \"isActive\" && idParams)) {\r\n      fetch(`${ApiLink}/category/${idParams}`, {\r\n        method: \"PUT\",\r\n        credentials: \"include\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: dataForm,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setIsSuccess(true);\r\n            setTimeout(() => {\r\n              setIsSuccess(false);\r\n            }, 1500);\r\n            if (arg === \"isActive\") {\r\n              setIsActive(!isActive);\r\n            }\r\n            setIsSubmit(false);\r\n          } else {\r\n            setIsFailed(true);\r\n            setTimeout(() => {\r\n              setIsFailed(false);\r\n            }, 1500);\r\n          }\r\n        });\r\n    } else if (arg === \"isActive\" && !idParams) {\r\n      setIsActive(!isActive);\r\n    }\r\n  };\r\n\r\n  // send fetch post method to create a new category\r\n\r\n  const handleFetchPost = () => {\r\n    setIsSubmit(true);\r\n\r\n    const dataForm = JSON.stringify({\r\n      title,\r\n      description,\r\n      link,\r\n      isActive,\r\n    });\r\n\r\n    // if there are not error post the data to the api\r\n\r\n    if (!errorForm) {\r\n      fetch(`${ApiLink}/category`, {\r\n        method: \"POST\",\r\n        credentials: \"include\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: dataForm,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setIsSuccess(true);\r\n            setTimeout(() => {\r\n              setIsSuccess(false);\r\n            }, 1500);\r\n            setTitle(\"\");\r\n            setLink(\"\");\r\n            setDescription(\"\");\r\n            PopupContext.setToggle(false);\r\n            setRedirect(true);\r\n            setIsSubmit(false);\r\n          } else {\r\n            setIsFailed(true);\r\n            setTimeout(() => {\r\n              setIsFailed(false);\r\n            }, 1500);\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <CategoryForm\r\n      description={description}\r\n      setDescription={setDescription}\r\n      title={title}\r\n      setTitle={setTitle}\r\n      handleSubmit={handleSubmit}\r\n      handleFetchPut={handleFetchPut}\r\n      link={link}\r\n      setLink={setLink}\r\n      isActive={isActive}\r\n      setIsActive={setIsActive}\r\n      dateRegister={dateRegister}\r\n      idParams={idParams}\r\n      isSuccess={isSuccess}\r\n      isFailed={isFailed}\r\n      errorTitle={errorTitle}\r\n      errorLink={errorLink}\r\n      errorDescription={errorDescription}\r\n      redirect={redirect}\r\n      isSubmit={isSubmit}\r\n      statusMessageForm={statusMessageForm}\r\n    />\r\n  );\r\n}\r\n\r\nexport default CategoryFormLogic;\r\n","import React, { useContext } from \"react\";\r\nimport PageTableList from \"../PageTableList\";\r\nimport PopupAdmin from \"../../general/PopupAdmin\";\r\nimport { PopupAddContext } from \"../../../context/PopupAddContext\";\r\nimport CategoryFormLogic from \"./CategoryFormLogic\";\r\n\r\nfunction ListCategory() {\r\n  // give the all informations (api etc...) to the PageTableList component in order to display a table of the content\r\n  const popupcontext = useContext(PopupAddContext);\r\n\r\n  return (\r\n    <>\r\n      <PopupAdmin isToggle={popupcontext.isToggle} render={<CategoryFormLogic title=\"Ajouter\"/>}/>\r\n      <PageTableList\r\n        titlepage=\"Liste des catégories\"\r\n        linkapi=\"https://louonsapptest.herokuapp.com/louons/api/v1/category/all\"\r\n        linkputapi=\"https://louonsapptest.herokuapp.com/louons/api/v1/category\"\r\n        th={[\r\n          { categoryId: \"ID\" },\r\n          { title: \"Titre\" },\r\n          { isActive: \"Activer\" },\r\n          { seeMore: \"Voir\" },\r\n          { delete: \"Supprimer\" },\r\n        ]}\r\n        titlebutton=\"Ajouter une catégorie\"\r\n        link=\"categories\"\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ListCategory;\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport ListCategory from \"./ListCategory\";\r\nimport NotFound from \"../../general/NotFound\";\r\nimport CategoryFormLogic from \"./CategoryFormLogic\";\r\n\r\nfunction PrivateCategory() {\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/admin/categories\">\r\n        <ListCategory />\r\n      </Route>\r\n      <Route\r\n        exact\r\n        path=\"/admin/categories/:id\"\r\n        render={(props) => <CategoryFormLogic {...props} />}\r\n      />\r\n      <Route>\r\n        <NotFound />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default PrivateCategory;\r\n","import React from \"react\";\r\nimport PageTableList from \"../PageTableList\";\r\nimport Api from \"../../../Classes/Api/Api\";\r\n\r\nfunction ListArticle() {\r\n  // give the all informations (api etc...) to the PageTableList component in order to display a table of the content\r\n  const ApiLink = Api.endPoint;\r\n\r\n  return (\r\n    <PageTableList\r\n      titlepage=\"Liste des Articles\"\r\n      linkapi={`${ApiLink}/article`}\r\n      th={[\r\n        { articleId: \"ID\" },\r\n        { title: \"Titre\" },\r\n        { description: \"Description\" },\r\n        { category: \"Catégorie\" },\r\n        { price: \"Prix\" },\r\n        { isActive: \"Etat\" },\r\n        { isTop: \"Au top\" },\r\n        { seeMore: \"Voir\" },\r\n        { date_register: \"Date d'ajout\" },\r\n        { delete: \"Supprimer\" },\r\n      ]}\r\n      titlebutton=\"Ajouter un article\"\r\n      link=\"articles\"\r\n      linkbutton={true}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ListArticle;\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport ListArticle from \"./ListArticle\";\r\nimport NotFound from \"../../general/NotFound\";\r\nimport ArticleFormLogic from \"../../general/Form/ArticleFormLogic.js\";\r\n\r\nfunction PrivateArticle() {\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/admin/articles\">\r\n        <ListArticle />\r\n      </Route>\r\n      <Route exact path=\"/admin/articles/add\">\r\n        <ArticleFormLogic title=\"Ajouter\" />\r\n      </Route>\r\n      <Route\r\n        exact\r\n        path=\"/admin/articles/:id\"\r\n        render={(props) => <ArticleFormLogic {...props} title=\"Modifier\" />}\r\n      />\r\n      <Route>\r\n        <NotFound />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default PrivateArticle;\r\n","import React from \"react\";\r\nimport PageTableList from \"../PageTableList\";\r\nimport Api from \"../../../Classes/Api/Api\";\r\n\r\n\r\nfunction ListRental() {\r\n  // give the all informations (api etc...) to the PageTableList component in order to display a table of the content\r\n  const ApiLink = Api.endPoint;\r\n  return (\r\n    <PageTableList\r\n      titlepage=\"Liste des utilisateurs\"\r\n      linkapi={`${ApiLink}/rental`}\r\n      th={[\r\n        { rentalId: \"ID\" },\r\n        { article: \"Article\" },\r\n        { user: \"Locataire\" },\r\n        { start_date: \"Date de début\" },\r\n        { end_date: \"Date de fin\" },\r\n        { seeMore: \"Voir\" },\r\n      ]}\r\n      titlebutton=\"Ajouter une location\"\r\n      link=\"rentals\"\r\n      linkbutton={true}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ListRental;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Form from \"../../general/Form/Form\";\r\nimport AutoCompleteField from \"../../general/Form/AutoCompleteField\";\r\nimport BootstrapSwitchButton from \"bootstrap-switch-button-react\";\r\nimport DivInputForm from \"../../general/Form/DivInputForm\";\r\nimport LiForm from \"../../general/Form/LiForm\";\r\nimport moment from \"moment\";\r\nimport Api from \"../../../Classes/Api/Api\";\r\n\r\nfunction RentalForm(props) {\r\n  const [currLi, setCurrLi] = useState(\"\");\r\n  const ApiLink = Api.endPoint;\r\n\r\n  useEffect(() => {\r\n    if (!props.idArticle) {\r\n      setCurrLi(\"\");\r\n    }\r\n  }, [props.idArticle]);\r\n\r\n  return (\r\n    <Form\r\n      handleSubmit={props.handleSubmit}\r\n      titlepage={`${props.titlepage} location`}\r\n      isFailed={props.isFailed}\r\n      class=\"row m-0 mx-auto col-12 col-xl-10 text-center py-md-2\"\r\n      isSuccess={props.isSuccess}\r\n      successMessage={`Location ${props.statusMessageForm} avec succés`}\r\n      failMessage=\"Erreur de duplication ou champs vide, veuillez vérifier votre formulaire\"\r\n    >\r\n      {props.idParams && (\r\n        <div className=\"row form-group my-3 d-flex justify-content-center align-items-center w-100\">\r\n          <label className=\"col-12 col-sm-4 mt-2\">Etat :</label>\r\n          <BootstrapSwitchButton\r\n            checked={props.isActive}\r\n            onlabel=\"Actif\"\r\n            offlabel=\"Inactif\"\r\n            size=\"xs\"\r\n            width=\"70\"\r\n            onChange={() => {\r\n              props.setIsActive(!props.isActive);\r\n            }}\r\n          />\r\n        </div>\r\n      )}\r\n      <div className=\"row m-0 d-flex align-items-center w-100 mx-auto\">\r\n        <AutoCompleteField\r\n          errorGrasp={props.errorGraspArticle && props.isSubmit}\r\n          idParams={props.idParams}\r\n          grasp={props.graspArticle}\r\n          titleLabel=\"Article\"\r\n          divclass=\"col-12 col-sm-8 col-lg-6 mx-auto\"\r\n          setGrasp={props.setGraspArticle}\r\n          setId={props.setIdArticle}\r\n          setErrorGrasp={props.setErrorGraspArticle}\r\n          setSpec={props.reset}\r\n          link={`${ApiLink}/article`}\r\n        />\r\n        <div className=\"row m-0 col-6 col-lg-3 mx-auto p-0\">\r\n          <label className=\"col-9 col-sm-6 mx-auto p-0\">Prix /jr :</label>\r\n          <p className=\"col-9 col-sm-6 mx-auto p-0 text-danger\">{`${props.pricePerDay} €`}</p>\r\n        </div>\r\n        <div className=\"row m-0 col-6 col-lg-3 mx-auto p-0\">\r\n          <label className=\"col-9 col-sm-6 mx-auto p-0 \">Prix Total :</label>\r\n          <p className=\"col-9 col-sm-6 mx-auto p-0 text-danger font-weight-bold\">{`${props.totalPrice} €`}</p>\r\n        </div>\r\n      </div>\r\n      {props.idParams ? (\r\n        <div className=\"row m-0 d-flex align-items-center w-100 mx-auto\">\r\n          <div className=\"row m-0 col-6 col-lg-3 mx-auto p-0\">\r\n            <label className=\"col-9 col-sm-6 mx-auto p-0\">\r\n              Date de début :\r\n            </label>\r\n            <p className=\"col-9 col-sm-6 mx-auto p-0\">\r\n              {moment(props.dateStart).format(\"DD-MM-YYYY\")}\r\n            </p>\r\n          </div>\r\n          <div className=\"row m-0 col-6 col-lg-3 mx-auto p-0\">\r\n            <label className=\"col-9 col-sm-6 mx-auto p-0\">Date de fin :</label>\r\n            <p className=\"col-9 col-sm-6 mx-auto p-0\">\r\n              {moment(props.dateEnd).format(\"DD-MM-YYYY\")}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n          <DivInputForm\r\n            label={\"Nombre de jour de location :\"}\r\n            name=\"numberday\"\r\n            type=\"number\"\r\n            value={props.numberListDate}\r\n            change={(e) => {\r\n              props.setNumberListDate(e.target.value);\r\n              if (parseInt(e.target.value) === 0 || e.target.value === \"\") {\r\n                props.reset();\r\n              }\r\n            }}\r\n            errorcondition={props.errorNumberListDate && props.isSubmit}\r\n            errormessage=\"Le nombre de jour doit être supérieur à 0\"\r\n            inputClass=\"form-control col-9 col-sm-3 col-md-1\"\r\n            labelClass=\"col-9 col-sm-7\"\r\n          />\r\n        )}\r\n\r\n      {!props.errorNumberListDate &&\r\n        !props.errorGraspArticle &&\r\n        props.errorDate &&\r\n        props.isSubmit && (\r\n          <span className=\"text-danger errormessage text-center w-100 p-2\">\r\n            Veuillez sélectionner une date\r\n          </span>\r\n        )}\r\n      <div className=\"row m-0 d-flex align-items-center w-100 mx-auto\">\r\n        <ul className=\"list-unstyled mx-auto\">\r\n          {props.listDate.length > 0 &&\r\n            props.listDate.map((elt, index) => {\r\n              return (\r\n                <LiForm\r\n                  key={index}\r\n                  index={index}\r\n                  className={currLi === index ? \"bg-secondary text-white\" : \"\"}\r\n                  setCurrLi={() => setCurrLi(index)}\r\n                  dateStart={elt.dateStart}\r\n                  dateEnd={elt.dateEnd}\r\n                  setDateStart={() =>\r\n                    props.setDateStart(\r\n                      moment(elt.dateStart).format(\"YYYY-MM-DD\")\r\n                    )\r\n                  }\r\n                  setDateEnd={() =>\r\n                    props.setDateEnd(moment(elt.dateEnd).format(\"YYYY-MM-DD\"))\r\n                  }\r\n                />\r\n              );\r\n            })}\r\n        </ul>\r\n      </div>\r\n      <div className=\"row m-0 d-flex align-items-center w-100 mx-auto\">\r\n        {props.errorSameUser && props.isSubmit && (\r\n          <span className=\"text-danger errormessage text-center w-100\">\r\n            Erreur le propriétaire de l'article ne peut pas être le locataire\r\n          </span>\r\n        )}\r\n        <div className=\"row m-0 col-12 col-md-6 align-items-center\">\r\n          <label className=\"mx-auto col-9 col-sm-6\">Propriétaire :</label>\r\n          <p className=\"mx-auto col-9 col-sm-6 col-md-5 m-0\">{props.owner}</p>\r\n        </div>\r\n        <AutoCompleteField\r\n          errorGrasp={props.errorGraspTenant && props.isSubmit}\r\n          idParams={props.idParams}\r\n          grasp={props.graspTenant}\r\n          titleLabel=\"Locataire\"\r\n          divclass=\"col-12 col-md-6\"\r\n          setGrasp={props.setGraspTenant}\r\n          setId={props.setIdTenant}\r\n          setErrorGrasp={props.setErrorGraspTenant}\r\n          link={`${ApiLink}/user/all`}\r\n        />\r\n      </div>\r\n      {props.errorDelivery && props.isSubmit && (\r\n        <span className=\"text-danger errormessage text-center w-100\">\r\n          Veuillez sélectionner un moyen de transport\r\n        </span>\r\n      )}\r\n      <div className=\"row m-0 form-group my-3 d-flex justify-content-center align-items-center w-100 mx-auto\">\r\n        <label className=\"col-9 col-sm-4 mt-2\">Transport :</label>\r\n        <select\r\n          name=\"id_delivery\"\r\n          id=\"delivery\"\r\n          className=\"p-1 col-9 col-sm-6 col-md-5\"\r\n          value={props.idDelivery}\r\n          onChange={(e) => props.setIdDelivery(e.target.value)}\r\n        >\r\n          <option value=\"\">--Transport--</option>\r\n          {props.deliveries.map((elt) => (\r\n            <option key={elt._id} value={elt._id}>\r\n              {elt.title}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      {props.errorPayment && props.isSubmit && (\r\n        <span className=\"text-danger errormessage text-center w-100\">\r\n          Veuillez sélectionner un paiement\r\n        </span>\r\n      )}\r\n      <div className=\"row m-0 form-group my-3 d-flex justify-content-center align-items-center w-100 mx-auto\">\r\n        <label className=\"col-9 col-sm-4 mt-2\">Paiement :</label>\r\n        <select\r\n          name=\"id_payment\"\r\n          id=\"payment\"\r\n          className=\"p-1 col-9 col-sm-6 col-md-5\"\r\n          value={props.idPayment}\r\n          onChange={(e) => props.setIdPayment(e.target.value)}\r\n        >\r\n          <option value=\"\">--Paiement--</option>\r\n          {props.payments.map((elt) => (\r\n            <option key={elt._id} value={elt._id}>\r\n              {elt.title}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default RentalForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport RentalForm from \"./RentalForm\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Api from \"../../../Classes/Api/Api\";\r\n\r\nfunction RentalFormLogic(props) {\r\n  const ApiLink = Api.endPoint;\r\n  const [method, setMethod] = useState(\"POST\");\r\n  const [isActive, setIsActive] = useState(false);\r\n  const [isSuccess, setIssuccess] = useState(false);\r\n  const [isFailed, setIsFailed] = useState(false);\r\n  const [listDate, setListDate] = useState([]);\r\n  const [numberListDate, setNumberListDate] = useState(0);\r\n  const [statusMessageForm, setStatusMessageForm] = useState(\"enregistré\");\r\n  const [graspArticle, setGraspArticle] = useState(\"\");\r\n  const [graspTenant, setGraspTenant] = useState(\"\");\r\n  const [idTenant, setIdTenant] = useState(\"\");\r\n  const [idOwnerArticle, setIdOwnerArticle] = useState(\"\");\r\n  const [owner, setOwner] = useState(\"\");\r\n  const [pricePerDay, setPricePerDay] = useState(0);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const [deliveries, setDeliveries] = useState([]);\r\n  const [payments, setPayments] = useState([]);\r\n  const [idArticle, setIdArticle] = useState(\"\");\r\n  const [idDelivery, setIdDelivery] = useState(\"\");\r\n  const [idPayment, setIdPayment] = useState(\"\");\r\n  const [dateStart, setDateStart] = useState(\"\");\r\n  const [dateEnd, setDateEnd] = useState(\"\");\r\n  const [errorDate, setErrorDate] = useState(false);\r\n  const [isSubmit, setIsSubmit] = useState(false);\r\n  const [errorSameUser, setErrorSameUser] = useState(false);\r\n  const [errorGraspArticle, setErrorGraspArticle] = useState(false);\r\n  const [errorGraspTenant, setErrorGraspTenant] = useState(false);\r\n  const [errorDelivery, setErrorDelivery] = useState(false);\r\n  const [errorPayment, setErrorPayment] = useState(false);\r\n  const [errorForm, setErrorForm] = useState(false);\r\n  const [errorNumberListDate, setErrorNumberListDate] = useState(false);\r\n  const [isIdValid, setIsIdValid] = useState(false);\r\n  const [numberErrorForm, setNumberErrorForm] = useState(0);\r\n  const [isFetchedDeliveries, setIsFetchedDeliveries] = useState(false);\r\n  const [isFetchedPayments, setIsFetchedPayments] = useState(false);\r\n  const [isFetchedRental, setIsFetchedRental] = useState(false);\r\n  const idParams = useParams().id;\r\n\r\n  useEffect(() => {\r\n    // reset the number error of the form and the error file\r\n\r\n    if (numberErrorForm > 0) {\r\n      setNumberErrorForm(0);\r\n    }\r\n\r\n    if (method === \"POST\" && idParams) {\r\n      setMethod(\"PUT\");\r\n      setStatusMessageForm(\"modifié\");\r\n    }\r\n\r\n    if (!idParams) {\r\n      setIsIdValid(true);\r\n    }\r\n\r\n    // get the owner of the article when the article is settled\r\n\r\n    if (idArticle && isIdValid) {\r\n      fetch(`${ApiLink}/article/detail/${idArticle}`, {\r\n        credentials: \"include\",\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setPricePerDay(result.data.price);\r\n            setIdOwnerArticle(result.data.id_user._id);\r\n            setOwner(\r\n              `${result.data.id_user.lastName} ${result.data.id_user.firstName}`\r\n            );\r\n          }\r\n        });\r\n    }\r\n\r\n    if (idArticle && numberListDate > 0 && method === \"POST\" && isIdValid) {\r\n      fetch(\r\n        `${ApiLink}/rental/date/${idArticle}/${numberListDate}`,\r\n        {\r\n          credentials: \"include\",\r\n        }\r\n      )\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setListDate(result.data);\r\n          }\r\n        })\r\n        .catch((e) => console.log(e));\r\n    }\r\n\r\n    // fetch the datas if isFetched is false, then set this to true\r\n    // if there are not error set the category state with the result.data value\r\n\r\n    if (!isFetchedDeliveries && isIdValid) {\r\n      fetch(`${ApiLink}/carrier/all/activecarrier`, {\r\n        credentials: \"include\",\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setDeliveries(result.data);\r\n            setIsFetchedDeliveries(true);\r\n          }\r\n        });\r\n    }\r\n\r\n    if (!isFetchedPayments && isIdValid) {\r\n      fetch(`${ApiLink}/payment/all/activepayment`, {\r\n        credentials: \"include\",\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setPayments(result.data);\r\n            setIsFetchedPayments(true);\r\n          }\r\n        });\r\n    }\r\n\r\n    // fetch the data only if there an idparams and isfetchedrental is settled to false\r\n\r\n    if (idParams && !isFetchedRental) {\r\n      setMethod(\"PUT\");\r\n      fetch(`${ApiLink}/rental/detail/${idParams}`, {\r\n        credentials: \"include\",\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setIsFetchedRental(true);\r\n            setIdArticle(result.data.id_article._id);\r\n            setIdTenant(result.data.id_user._id);\r\n            setGraspTenant(\r\n              `${result.data.id_user.clientId} ${result.data.id_user.lastName} ${result.data.id_user.firstName}`\r\n            );\r\n            setPricePerDay(result.data.id_article.price);\r\n            setTotalPrice(result.data.total_price);\r\n            setIdDelivery(result.data.id_carrier._id);\r\n            setIdPayment(result.data.id_payment._id);\r\n            setGraspArticle(result.data.id_article.title);\r\n            setIsActive(result.data.isActive);\r\n            setDateStart(result.data.start_date);\r\n            setDateEnd(result.data.end_date);\r\n            setIsIdValid(true);\r\n          } else if (result.error) {\r\n            return props.history.push(\"/admin/rentals\");\r\n          }\r\n        });\r\n    }\r\n\r\n    // condition to display some error in the form or initialize some values\r\n\r\n    if (graspArticle === \"\") {\r\n      setOwner(\"\");\r\n    }\r\n\r\n    if (idOwnerArticle === idTenant && idOwnerArticle !== \"\") {\r\n      setErrorSameUser(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorSameUser(false);\r\n    }\r\n\r\n    if (idDelivery === \"\") {\r\n      setErrorDelivery(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorDelivery(false);\r\n    }\r\n\r\n    if (idPayment === \"\") {\r\n      setErrorPayment(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorPayment(false);\r\n    }\r\n\r\n    if (graspArticle === \"\" || idArticle === \"\") {\r\n      setErrorGraspArticle(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorGraspArticle(false);\r\n    }\r\n\r\n    if (graspTenant === \"\" || idTenant === \"\") {\r\n      setErrorGraspTenant(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorGraspTenant(false);\r\n    }\r\n\r\n    if ((dateStart === \"\" || dateEnd === \"\") && method === \"POST\") {\r\n      setErrorDate(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorDate(false);\r\n    }\r\n\r\n    if (\r\n      (numberListDate === 0 ||\r\n        numberListDate === \"\" ||\r\n        typeof numberListDate === String ||\r\n        numberListDate < 0) &&\r\n      !idParams\r\n    ) {\r\n      setListDate([]);\r\n      setTotalPrice(0);\r\n      setErrorNumberListDate(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else if (numberListDate && graspArticle) {\r\n      setTotalPrice(pricePerDay * numberListDate);\r\n      setErrorNumberListDate(false);\r\n    } else {\r\n      setErrorNumberListDate(false);\r\n    }\r\n\r\n    if (numberErrorForm > 0) {\r\n      setErrorForm(true);\r\n    } else {\r\n      setErrorForm(false);\r\n    }\r\n  }, [\r\n    idArticle,\r\n    isIdValid,\r\n    isFetchedDeliveries,\r\n    isFetchedPayments,\r\n    idDelivery,\r\n    numberListDate,\r\n    idOwnerArticle,\r\n    idTenant,\r\n    idPayment,\r\n    dateStart,\r\n    dateEnd,\r\n    numberErrorForm,\r\n    graspTenant,\r\n    graspArticle,\r\n    idParams,\r\n    method,\r\n    isFetchedRental,\r\n    pricePerDay,\r\n    props.history,\r\n    ApiLink\r\n  ]);\r\n\r\n  // reset the date start, date end and the list data when this function is called\r\n\r\n  const resetFields = () => {\r\n    setDateEnd(\"\");\r\n    setDateStart(\"\");\r\n    setListDate([]);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    // set the state isSubmit to true in order to display some error in the form\r\n\r\n    setIsSubmit(true);\r\n\r\n    const url =\r\n      method === \"POST\"\r\n        ? `${ApiLink}/rental`\r\n        : `${ApiLink}/rental/${idParams}`;\r\n\r\n    const data =\r\n      method === \"PUT\"\r\n        ? JSON.stringify({\r\n          id_payment: idPayment,\r\n          id_carrier: idDelivery,\r\n          total_price: totalPrice,\r\n          isActive,\r\n        })\r\n        : JSON.stringify({\r\n          id_payment: idPayment,\r\n          id_carrier: idDelivery,\r\n          id_article: idArticle,\r\n          id_user: idTenant,\r\n          total_price: totalPrice,\r\n          start_date: dateStart,\r\n          end_date: dateEnd,\r\n        });\r\n\r\n    if (!errorForm) {\r\n      fetch(url, {\r\n        method,\r\n        credentials: \"include\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: data,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setIssuccess(true);\r\n            setTimeout(() => {\r\n              setIssuccess(false);\r\n            }, 1500);\r\n            if (method === \"POST\") {\r\n              setListDate([]);\r\n              setIdArticle(\"\");\r\n              setIsSubmit(false);\r\n              setGraspArticle(\"\");\r\n              setGraspTenant(\"\");\r\n              setIdTenant(\"\");\r\n              setIdOwnerArticle(\"\");\r\n              setOwner(\"\");\r\n              setIdDelivery(\"\");\r\n              setIdPayment(\"\");\r\n              setDateStart(\"\");\r\n              setDateEnd(\"\");\r\n              setPricePerDay(0);\r\n              setTotalPrice(0);\r\n              setNumberListDate(0);\r\n            }\r\n          } else {\r\n            setIsFailed(true);\r\n            setTimeout(() => {\r\n              setIsFailed(false);\r\n            }, 1500);\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <RentalForm\r\n      titlepage={props.title}\r\n      isFailed={isFailed}\r\n      isSuccess={isSuccess}\r\n      statusMessageForm={statusMessageForm}\r\n      errorGraspArticle={errorGraspArticle}\r\n      errorGraspTenant={errorGraspTenant}\r\n      errorDelivery={errorDelivery}\r\n      errorPayment={errorPayment}\r\n      idParams={idParams}\r\n      graspArticle={graspArticle}\r\n      graspTenant={graspTenant}\r\n      setGraspArticle={setGraspArticle}\r\n      setGraspTenant={setGraspTenant}\r\n      setIdArticle={setIdArticle}\r\n      setIdTenant={setIdTenant}\r\n      setErrorGraspArticle={setErrorGraspArticle}\r\n      setErrorGraspTenant={setErrorGraspTenant}\r\n      totalPrice={totalPrice}\r\n      owner={owner}\r\n      deliveries={deliveries}\r\n      payments={payments}\r\n      idDelivery={idDelivery}\r\n      idPayment={idPayment}\r\n      setIdDelivery={setIdDelivery}\r\n      setIdPayment={setIdPayment}\r\n      isSubmit={isSubmit}\r\n      handleSubmit={handleSubmit}\r\n      errorSameUser={errorSameUser}\r\n      setDateStart={setDateStart}\r\n      setDateEnd={setDateEnd}\r\n      listDate={listDate}\r\n      reset={resetFields}\r\n      setNumberListDate={setNumberListDate}\r\n      numberListDate={numberListDate}\r\n      errorNumberListDate={errorNumberListDate}\r\n      errorDate={errorDate}\r\n      pricePerDay={pricePerDay}\r\n      isActive={isActive}\r\n      setIsActive={setIsActive}\r\n      dateStart={dateStart}\r\n      dateEnd={dateEnd}\r\n    />\r\n  );\r\n}\r\n\r\nexport default RentalFormLogic;\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport ListRental from \"./ListRental\";\r\nimport NotFound from \"../../general/NotFound\";\r\nimport RentalFormLogic from \"./RentalFormLogic\";\r\n\r\nfunction PrivateRental() {\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/admin/rentals\">\r\n        <ListRental />\r\n      </Route>\r\n      <Route exact path=\"/admin/rentals/add\">\r\n        <RentalFormLogic title=\"Créer une\" />\r\n      </Route>\r\n      <Route\r\n        exact\r\n        path=\"/admin/rentals/:id\"\r\n        render={(props) => <RentalFormLogic {...props} title=\"Modifier une\" />}\r\n      />\r\n      <Route>\r\n        <NotFound />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default PrivateRental;\r\n","import React from \"react\";\r\nimport PageTableList from \"../PageTableList\";\r\nimport Api from '../../../Classes/Api/Api.js';\r\n\r\nfunction ListAddress() {  \r\n  const ApiLink = Api.endPoint;\r\n  // give the all informations (api etc...) to the PageTableList component in order to display a table of the content\r\n\r\n  return (\r\n    <PageTableList\r\n      titlepage=\"Liste des adresses\"\r\n      linkapi={`${ApiLink}/address`}\r\n      th={[\r\n        { addressId: \"ID\" },\r\n        { title: \"Titre de l'adresse\" },\r\n        { user: \"Utilisateur\" },\r\n        { address: \"Adresse\" },\r\n        { isActive: \"Activer\" },\r\n        { seeMore: \"Voir\" },\r\n        { delete: \"Supprimer\" },\r\n      ]}\r\n      titlebutton=\"Ajouter une adresse\"\r\n      link=\"addresses\"\r\n      linkbutton={true}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ListAddress;\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport ListAddress from \"./ListAddress\";\r\nimport NotFound from \"../../general/NotFound\";\r\nimport AddressFormLogic from \"../../general/Form/AddressFormLogic.js\";\r\n\r\nfunction PrivateAddress() {\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/admin/addresses\">\r\n        <ListAddress />\r\n      </Route>\r\n      <Route exact path=\"/admin/addresses/add\"  render={(props) => <AddressFormLogic {...props} title=\"Ajouter\" />}/>\r\n      <Route\r\n        exact\r\n        path=\"/admin/addresses/:id\"\r\n        render={(props) => <AddressFormLogic {...props} title=\"Modifier\" />}\r\n      />\r\n      <Route>\r\n        <NotFound />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default PrivateAddress;\r\n","import React from \"react\";\r\nimport PageTableList from \"../PageTableList\";\r\nimport Api from \"../../../Classes/Api/Api\";\r\n\r\nfunction ListPayment() {\r\n  const ApiLink = Api.endPoint;\r\n  // give the all informations (api etc...) to the PageTableList component in order to display a table of the content\r\n\r\n  return (\r\n    <PageTableList\r\n      titlepage=\"Liste des paiements\"\r\n      linkapi={`${ApiLink}/payment/all`}\r\n      linkputapi={`${ApiLink}/payment`}\r\n      th={[\r\n        { paymentId: \"ID\" },\r\n        { title: \"Titre\" },\r\n        { description: \"Description\" },\r\n        { isActive: \"Activer\" },\r\n        { seeMore: \"Voir\" },\r\n        { delete: \"Supprimer\" },\r\n      ]}\r\n      titlebutton=\"Ajouter un paiement\"\r\n      link=\"payments\"\r\n      linkbutton={true}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ListPayment;\r\n","import React from \"react\";\r\nimport Form from \"../../general/Form/Form\";\r\nimport DivInputForm from \"../../general/Form/DivInputForm\";\r\nimport BootstrapSwitchButton from \"bootstrap-switch-button-react\";\r\nimport TextAreaInputForm from \"../../general/Form/TextAreaInputForm\";\r\nimport InputFileForm from \"../../general/Form/InputFileForm\";\r\nimport Api from '../../../Classes/Api/Api.js';\r\n\r\nfunction PaymentForm(props) {\r\n  const ApiLinkImage = Api.endPointImage;\r\n  return (\r\n    <Form\r\n      successMessage={`Paiement ${props.statusMessageForm} avec succés`}\r\n      handleSubmit={props.handleSubmit}\r\n      titlepage={`${props.titlepage} une paiement`}\r\n      isFailed={props.isFailed}\r\n      isSuccess={props.isSuccess}\r\n      failMessage=\"Erreur de duplication ou champs vide, veuillez vérifier votre formulaire\"\r\n    >\r\n      <div className=\"row form-group my-3 d-flex justify-content-center align-items-center w-100\">\r\n        <label className=\"col-12 col-sm-4 mt-2\">Etat :</label>\r\n        <BootstrapSwitchButton\r\n          checked={props.isActive}\r\n          onlabel=\"Actif\"\r\n          offlabel=\"Inactif\"\r\n          size=\"xs\"\r\n          width=\"70\"\r\n          onChange={() => {\r\n            props.setIsActive(!props.isActive);\r\n          }}\r\n        />\r\n      </div>\r\n      {props.pictureDisplay !== \"\" && (\r\n        <div className=\"col-12 m-0 p-0 row d-flex justify-content-between\">\r\n          <div\r\n            className=\"col-6 col-sm-4 p-2 mx-auto\"\r\n            key={props.pictureDisplay}\r\n          >\r\n            <img\r\n              src={`${ApiLinkImage}/${props.pictureDisplay}`}\r\n              className=\"w-100\"\r\n              alt=\"\"\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n      <DivInputForm\r\n        label={\"Titre :\"}\r\n        name=\"title\"\r\n        type=\"text\"\r\n        labelClass=\"col-9 col-sm-4 mt-2\"\r\n        value={props.title}\r\n        change={(e) => {\r\n          props.setTitle(e.target.value);\r\n        }}\r\n        errorcondition={props.errorTitle && props.isSubmit}\r\n        errormessage=\"Ce champ doit contenir entre 3 et 30 caractères, et sans caractères spéciaux\"\r\n      />\r\n      <TextAreaInputForm\r\n        errorDescription={props.errorDescription}\r\n        isSubmit={props.isSubmit}\r\n        description={props.description}\r\n        setDescription={props.setDescription}\r\n        errorMessage=\"Ce champ doit contenir entre 10 et 200 caractères\"\r\n        label=\"Description :\"\r\n      />\r\n      <InputFileForm\r\n        errorFile={props.errorPicture}\r\n        isSubmit={props.isSubmit}\r\n        setPicture={(e) => props.setPicture(e.target.files)}\r\n        errorMessage=\"Un paiement doit contenir au moins une image sous le format png ou jpg/jpeg\"\r\n        isMultiple={false}\r\n      />\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default PaymentForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport PaymentForm from \"./PaymentForm\";\r\nimport Api from \"../../../Classes/Api/Api\";\r\n\r\nfunction PaymentFormLogic(props) {\r\n  const [statusMessageForm, setStatusMessageForm] = useState(\"enregistré\");\r\n  const [isSuccess, setIssuccess] = useState(false);\r\n  const [isFailed, setIsFailed] = useState(false);\r\n  const [isFetched, setIsFetched] = useState(false);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [errorTitle, setErrorTitle] = useState(false);\r\n  const [description, setDescription] = useState(\"\");\r\n  const [errorDescription, setErrorDescription] = useState(false);\r\n  const [picture, setPicture] = useState(\"\");\r\n  const [errorPicture, setErrorPicture] = useState(\"\");\r\n  const [pictureDisplay, setPictureDisplay] = useState(\"\");\r\n  const [numberErrorForm, setNumberErrorForm] = useState(0);\r\n  const [errorForm, setErrorForm] = useState(false);\r\n  const [isActive, setIsActive] = useState(false);\r\n  const [isSubmit, setIsSubmit] = useState(false);\r\n  const [method, setMethod] = useState(\"POST\");\r\n  const dataform = new FormData();\r\n  const [idParams] = useState(useParams().id);\r\n  const regexp = new RegExp(/^[\\w\\d\\séùàüäîçïèêôö]*$/);\r\n  const ApiLink = Api.endPoint;\r\n\r\n  useEffect(() => {\r\n    // initialize the number of error form\r\n\r\n    setNumberErrorForm(0);\r\n\r\n    // get the data depending if the isFetched state is settled to false and if there are an idParams\r\n\r\n    if (idParams && !isFetched) {\r\n      setMethod(\"PUT\");\r\n      setStatusMessageForm(\"modifié\");\r\n      fetch(`${ApiLink}/payment/detail/${idParams}`, {\r\n        credentials: \"include\",\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setIsFetched(true);\r\n            setDescription(result.data.description);\r\n            setTitle(result.data.title);\r\n            setIsActive(result.data.isActive);\r\n            setPictureDisplay(result.data.path_picture);\r\n          } else if (result.error) {\r\n            return props.history.push(\"/admin/payments\");\r\n          }\r\n        });\r\n    }\r\n\r\n    // condition to display some error in the form\r\n\r\n    if (\r\n      !regexp.test(title) ||\r\n      title === \"\" ||\r\n      title.length < 3 ||\r\n      title.length > 30\r\n    ) {\r\n      setErrorTitle(true);\r\n      setNumberErrorForm((prevNumber) => prevNumber + 1);\r\n    } else {\r\n      setErrorTitle(false);\r\n    }\r\n\r\n    if (\r\n      !regexp.test(description) ||\r\n      description === \"\" ||\r\n      description.length < 10 ||\r\n      description.length > 200\r\n    ) {\r\n      setErrorDescription(true);\r\n      setNumberErrorForm((prevNumber) => prevNumber + 1);\r\n    } else {\r\n      setErrorDescription(false);\r\n    }\r\n\r\n    if (Object.keys(picture).length === 1) {\r\n      for (let i = 0; i < picture.length; i++) {\r\n        if (\r\n          picture[i].type !== \"image/png\" &&\r\n          picture[i].type !== \"image/jpeg\"\r\n        ) {\r\n          setErrorPicture(true);\r\n          setNumberErrorForm((prev) => prev + 1);\r\n        } else {\r\n          setErrorPicture(false);\r\n          dataform.append(`file${i}`, picture[i]);\r\n        }\r\n      }\r\n    } else if (method === \"POST\" && !idParams) {\r\n      setErrorPicture(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    }\r\n\r\n    if (numberErrorForm > 0) {\r\n      setErrorForm(true);\r\n    } else {\r\n      setErrorForm(false);\r\n    }\r\n  }, [\r\n    idParams,\r\n    numberErrorForm,\r\n    regexp,\r\n    title,\r\n    description,\r\n    isFetched,\r\n    dataform,\r\n    method,\r\n    picture,\r\n    props.history,\r\n    ApiLink\r\n  ]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    // set the state isSubmit to true in order to display some error in the form\r\n\r\n    setIsSubmit(true);\r\n\r\n    // append the necessary data to the dataform\r\n\r\n    dataform.append(\"title\", title);\r\n    dataform.append(\"description\", description);\r\n    dataform.append(\"isActive\", isActive);\r\n\r\n    const url =\r\n      method === \"POST\"\r\n        ? `${ApiLink}/payment`\r\n        : `${ApiLink}/payment/${idParams}`;\r\n\r\n    if (!errorForm) {\r\n      fetch(url, {\r\n        method,\r\n        credentials: \"include\",\r\n        body: dataform,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setIssuccess(true);\r\n            setTimeout(() => {\r\n              setIssuccess(false);\r\n            }, 1500);\r\n            setPicture(\"\");\r\n            if (method === \"POST\") {\r\n              setTitle(\"\");\r\n              setDescription(\"\");\r\n              setIsSubmit(false);\r\n              setIsActive(false);\r\n            } else if (result.picture) {\r\n              setPictureDisplay(result.picture);\r\n            }\r\n          } else {\r\n            setIsFailed(true);\r\n            setTimeout(() => {\r\n              setIsFailed(false);\r\n            }, 1500);\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PaymentForm\r\n      titlepage={props.title}\r\n      isFailed={isFailed}\r\n      isSuccess={isSuccess}\r\n      statusMessageForm={statusMessageForm}\r\n      handleSubmit={handleSubmit}\r\n      isActive={isActive}\r\n      setIsActive={setIsActive}\r\n      title={title}\r\n      setTitle={setTitle}\r\n      errorTitle={errorTitle}\r\n      isSubmit={isSubmit}\r\n      errorDescription={errorDescription}\r\n      description={description}\r\n      setDescription={setDescription}\r\n      errorPicture={errorPicture}\r\n      picture={picture}\r\n      setPicture={setPicture}\r\n      pictureDisplay={pictureDisplay}\r\n    />\r\n  );\r\n}\r\n\r\nexport default PaymentFormLogic;\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport ListPayment from \"./ListPayment\";\r\nimport NotFound from \"../../general/NotFound\";\r\nimport PaymentFormLogic from \"./PaymentFormLogic\";\r\n\r\nfunction PrivatePayment() {\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/admin/payments\">\r\n        <ListPayment />\r\n      </Route>\r\n      <Route exact path=\"/admin/payments/add\">\r\n        <PaymentFormLogic title=\"Ajouter\" />\r\n      </Route>\r\n      <Route\r\n        exact\r\n        path=\"/admin/payments/:id\"\r\n        render={(props) => <PaymentFormLogic {...props} title=\"Modifier\" />}\r\n      />\r\n      <Route>\r\n        <NotFound />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default PrivatePayment;\r\n","import React from \"react\";\r\nimport PageTableList from \"../PageTableList\";\r\nimport Api from \"../../../Classes/Api/Api\";\r\n\r\nfunction ListDelivery() {\r\n  // give the all informations (api etc...) to the PageTableList component in order to display a table of the content\r\n  const ApiLink = Api.endPoint;\r\n\r\n  return (\r\n    <PageTableList\r\n      titlepage=\"Liste des livraisons\"\r\n      linkapi={`${ApiLink}/carrier/all`}\r\n      linkputapi={`${ApiLink}/carrier`}\r\n      th={[\r\n        { carrierId: \"ID\" },\r\n        { title: \"Nom\" },\r\n        { description: \"Description\" },\r\n        { delay_delivery: \"Délai de livraison\" },\r\n        { price: \"Prix\" },\r\n        { isActive: \"Activer\" },\r\n        { seeMore: \"Voir\" },\r\n        { delete: \"Supprimer\" },\r\n      ]}\r\n      titlebutton=\"Ajouter une livraison\"\r\n      link=\"deliveries\"\r\n      linkbutton={true}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ListDelivery;\r\n","import React from \"react\";\r\nimport Form from \"../../general/Form/Form\";\r\nimport DivInputForm from \"../../general/Form/DivInputForm\";\r\nimport BootstrapSwitchButton from \"bootstrap-switch-button-react\";\r\nimport TextAreaInputForm from \"../../general/Form/TextAreaInputForm\";\r\nimport InputFileForm from \"../../general/Form/InputFileForm\";\r\nimport Api from '../../../Classes/Api/Api.js';\r\n\r\nfunction DeliveryForm(props) {\r\n  const ApiLinkImage = Api.endPointImage;\r\n  return (\r\n    <Form\r\n      handleSubmit={props.handleSubmit}\r\n      titlepage={`${props.titlepage} une livraison`}\r\n      isFailed={props.isFailed}\r\n      isSuccess={props.isSuccess}\r\n      successMessage={`Livraison ${props.statusMessageForm} avec succés`}\r\n      failMessage=\"Erreur de duplication ou champs vide, veuillez vérifier votre formulaire\"\r\n    >\r\n      <div className=\"row form-group my-3 d-flex justify-content-center align-items-center w-100\">\r\n        <label className=\"col-12 col-sm-4 mt-2\">Etat :</label>\r\n        <BootstrapSwitchButton\r\n          checked={props.isActive}\r\n          onlabel=\"Actif\"\r\n          offlabel=\"Inactif\"\r\n          size=\"xs\"\r\n          width=\"70\"\r\n          onChange={() => {\r\n            props.setIsActive(!props.isActive);\r\n          }}\r\n        />\r\n      </div>\r\n      {props.pictureDisplay !== \"\" && (\r\n        <div className=\"col-12 m-0 p-0 row d-flex justify-content-between\">\r\n          <div\r\n            className=\"col-6 col-sm-4 p-2 mx-auto\"\r\n            key={props.pictureDisplay}\r\n          >\r\n            <img\r\n              src={`${ApiLinkImage}/${props.pictureDisplay}`}\r\n              className=\"w-100\"\r\n              alt=\"\"\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n      <DivInputForm\r\n        label={\"Titre :\"}\r\n        name=\"title\"\r\n        type=\"text\"\r\n        value={props.title}\r\n        change={(e) => {\r\n          props.setTitle(e.target.value);\r\n        }}\r\n        errorcondition={props.errorTitle && props.isSubmit}\r\n        errormessage=\"Ce champ doit contenir entre 3 et 30 caractères, et sans caractères spéciaux\"\r\n      />\r\n      <TextAreaInputForm\r\n        errorDescription={props.errorDescription}\r\n        isSubmit={props.isSubmit}\r\n        labelClass=\"col-9 col-sm-6 mt-2\"\r\n        description={props.description}\r\n        setDescription={props.setDescription}\r\n        errorMessage=\"Ce champ doit contenir entre 10 et 200 caractères\"\r\n        label=\"Description :\"\r\n      />\r\n      <DivInputForm\r\n        label={\"Prix :\"}\r\n        name=\"price\"\r\n        type=\"number\"\r\n        value={props.price}\r\n        change={(e) => {\r\n          props.setPrice(e.target.value);\r\n        }}\r\n        errorcondition={props.errorPrice && props.isSubmit}\r\n        errormessage=\"Le prix doit être supérieur à 0 et ne peut pas excéder 500€\"\r\n      />\r\n      <DivInputForm\r\n        label={\"Délai de livraison :\"}\r\n        name=\"delay\"\r\n        type=\"number\"\r\n        value={props.delay}\r\n        change={(e) => {\r\n          props.setDelay(e.target.value);\r\n        }}\r\n        errorcondition={props.errorDelay && props.isSubmit}\r\n        errormessage=\"Le délai de livraison doit être compris entre 0 et 10\"\r\n      />\r\n      <InputFileForm\r\n        errorFile={props.errorPicture}\r\n        isSubmit={props.isSubmit}\r\n        setPicture={(e) => props.setPicture(e.target.files)}\r\n        errorMessage=\"Une livraison doit contenir au moins une image sous le format png ou jpg/jpeg\"\r\n        isMultiple={false}\r\n      />\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default DeliveryForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport DeliveryForm from \"./DeliveryForm\";\r\nimport Api from \"../../../Classes/Api/Api\";\r\n\r\nfunction DeliveryFormLogic(props) {\r\n  const [statusMessageForm, setStatusMessageForm] = useState(\"enregistré\");\r\n  const [isSuccess, setIssuccess] = useState(false);\r\n  const [isFailed, setIsFailed] = useState(false);\r\n  const [isFetched, setIsFetched] = useState(false);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [errorTitle, setErrorTitle] = useState(false);\r\n  const [description, setDescription] = useState(\"\");\r\n  const [errorDescription, setErrorDescription] = useState(false);\r\n  const [price, setPrice] = useState(0);\r\n  const [errorPrice, setErrorPrice] = useState(false);\r\n  const [delay, setDelay] = useState(0);\r\n  const [errorDelay, setErrorDelay] = useState(false);\r\n  const [picture, setPicture] = useState(\"\");\r\n  const [errorPicture, setErrorPicture] = useState(\"\");\r\n  const [pictureDisplay, setPictureDisplay] = useState(\"\");\r\n  const [numberErrorForm, setNumberErrorForm] = useState(0);\r\n  const [errorForm, setErrorForm] = useState(false);\r\n  const [isActive, setIsActive] = useState(false);\r\n  const [isSubmit, setIsSubmit] = useState(false);\r\n  const [method, setMethod] = useState(\"POST\");\r\n  const dataform = new FormData();\r\n  const [idParams] = useState(useParams().id);\r\n  const regexp = new RegExp(/^[\\w\\d\\séùàüäîçïèêôö/-_]*$/);\r\n  const ApiLink = Api.endPoint;\r\n\r\n  useEffect(() => {\r\n    // initialize the number of error form\r\n\r\n    setNumberErrorForm(0);\r\n\r\n    // get the data depending if the isFetched state is settled to false and if there are an idParams\r\n\r\n    if (idParams && !isFetched) {\r\n      setMethod(\"PUT\");\r\n      setStatusMessageForm(\"modifié\");\r\n      fetch(`${ApiLink}/carrier/detail/${idParams}`, {\r\n        credentials: \"include\",\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setIsFetched(true);\r\n            setDescription(result.data.description);\r\n            setTitle(result.data.title);\r\n            setPrice(result.data.price);\r\n            setDelay(result.data.delay_delivery);\r\n            setIsActive(result.data.isActive);\r\n            setPictureDisplay(result.data.path_picture);\r\n          } else if (result.error) {\r\n            return props.history.push(\"/admin/deliveries\");\r\n          }\r\n        });\r\n    }\r\n\r\n    if (\r\n      !regexp.test(title) ||\r\n      title === \"\" ||\r\n      title.length < 3 ||\r\n      title.length > 30\r\n    ) {\r\n      setErrorTitle(true);\r\n      setNumberErrorForm((prevNumber) => prevNumber + 1);\r\n    } else {\r\n      setErrorTitle(false);\r\n    }\r\n\r\n    if (\r\n      !regexp.test(description) ||\r\n      description === \"\" ||\r\n      description.length < 10 ||\r\n      description.length > 200\r\n    ) {\r\n      setErrorDescription(true);\r\n      setNumberErrorForm((prevNumber) => prevNumber + 1);\r\n    } else {\r\n      setErrorDescription(false);\r\n    }\r\n\r\n    if (\r\n      price === \"\" ||\r\n      typeof price === String ||\r\n      price > 500 ||\r\n      price < 0\r\n    ) {\r\n      setErrorPrice(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorPrice(false);\r\n    }\r\n\r\n    if (\r\n      delay === 0 ||\r\n      delay === \"\" ||\r\n      typeof delay === String ||\r\n      delay > 10 ||\r\n      delay < 0\r\n    ) {\r\n      setErrorDelay(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorDelay(false);\r\n    }\r\n\r\n    if (Object.keys(picture).length === 1) {\r\n      for (let i = 0; i < picture.length; i++) {\r\n        if (\r\n          picture[i].type !== \"image/png\" &&\r\n          picture[i].type !== \"image/jpeg\"\r\n        ) {\r\n          setErrorPicture(true);\r\n          setNumberErrorForm((prev) => prev + 1);\r\n        } else {\r\n          setErrorPicture(false);\r\n          dataform.append(`file${i}`, picture[i]);\r\n        }\r\n      }\r\n    } else if (method === \"POST\" && !idParams) {\r\n      setErrorPicture(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    }\r\n\r\n    if (numberErrorForm > 0) {\r\n      setErrorForm(true);\r\n    } else {\r\n      setErrorForm(false);\r\n    }\r\n  }, [\r\n    idParams,\r\n    numberErrorForm,\r\n    regexp,\r\n    title,\r\n    description,\r\n    isFetched,\r\n    dataform,\r\n    method,\r\n    picture,\r\n    delay,\r\n    price,\r\n    props.history,\r\n    ApiLink\r\n  ]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    // set the state isSubmit to true in order to display some error in the form\r\n\r\n    setIsSubmit(true);\r\n\r\n    // append the necessary data to the dataform\r\n\r\n    dataform.append(\"title\", title);\r\n    dataform.append(\"description\", description);\r\n    dataform.append(\"price\", price);\r\n    dataform.append(\"delay_delivery\", delay);\r\n    dataform.append(\"isActive\", isActive);\r\n\r\n    const url =\r\n      method === \"POST\"\r\n        ? `${ApiLink}/carrier`\r\n        : `${ApiLink}/carrier/${idParams}`;\r\n\r\n    if (!errorForm) {\r\n      fetch(url, {\r\n        method,\r\n        credentials: \"include\",\r\n        body: dataform,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setIssuccess(true);\r\n            setTimeout(() => {\r\n              setIssuccess(false);\r\n            }, 1500);\r\n            setPicture(\"\");\r\n            if (method === \"POST\") {\r\n              setTitle(\"\");\r\n              setDescription(\"\");\r\n              setPrice(0);\r\n              setDelay(0);\r\n              setIsSubmit(false);\r\n              setIsActive(false);\r\n            } else if (result.picture) {\r\n              setPictureDisplay(result.picture);\r\n            }\r\n          } else {\r\n            setIsFailed(true);\r\n            setTimeout(() => {\r\n              setIsFailed(false);\r\n            }, 1500);\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <DeliveryForm\r\n      titlepage={props.title}\r\n      isFailed={isFailed}\r\n      isSuccess={isSuccess}\r\n      statusMessageForm={statusMessageForm}\r\n      handleSubmit={handleSubmit}\r\n      isActive={isActive}\r\n      setIsActive={setIsActive}\r\n      title={title}\r\n      setTitle={setTitle}\r\n      errorTitle={errorTitle}\r\n      isSubmit={isSubmit}\r\n      errorDescription={errorDescription}\r\n      description={description}\r\n      setDescription={setDescription}\r\n      errorPicture={errorPicture}\r\n      picture={picture}\r\n      setPicture={setPicture}\r\n      pictureDisplay={pictureDisplay}\r\n      price={price}\r\n      setPrice={setPrice}\r\n      errorPrice={errorPrice}\r\n      delay={delay}\r\n      setDelay={setDelay}\r\n      errorDelay={errorDelay}\r\n    />\r\n  );\r\n}\r\n\r\nexport default DeliveryFormLogic;\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport ListDelivery from \"./ListDelivery\";\r\nimport NotFound from \"../../general/NotFound\";\r\nimport DeliveryFormLogic from \"./DeliveryFormLogic\";\r\n\r\nfunction PrivateDelivery() {\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/admin/deliveries\">\r\n        <ListDelivery />\r\n      </Route>\r\n      <Route exact path=\"/admin/deliveries/add\">\r\n        <DeliveryFormLogic title=\"Ajouter\" />\r\n      </Route>\r\n      <Route\r\n        exact\r\n        path=\"/admin/deliveries/:id\"\r\n        render={(props) => <DeliveryFormLogic {...props} title=\"Modifier\" />}\r\n      />\r\n      <Route>\r\n        <NotFound />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default PrivateDelivery;\r\n","import React from \"react\";\r\nimport PageTableList from \"../PageTableList\";\r\nimport Api from \"../../../Classes/Api/Api\";\r\n\r\nfunction ListAdmin() {\r\n  // give the all informations (api etc...) to the PageTableList component in order to display a table of the content\r\n  const ApiLink = Api.endPoint;\r\n  return (\r\n    <PageTableList\r\n      titlepage=\"Liste des Administrateurs\"\r\n      linkapi={`${ApiLink}/admin`}\r\n      th={[\r\n        { adminId: \"ID\" },\r\n        { lastName: \"Nom\" },\r\n        { firstName: \"Prénom\" },\r\n        { adminLevel: \"Role\" },\r\n        { isActive: \"Activer\" },\r\n        { seeMore: \"Voir\" },\r\n        { delete: \"Supprimer\" },\r\n      ]}\r\n      titlebutton=\"Ajouter un Admin\"\r\n      link=\"admins\"\r\n      linkbutton={true}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ListAdmin;\r\n","import React, { useContext } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nfunction PrivateRoute({ component: Component, ...rest }) {\r\n  // get the data of the User from the authcontext\r\n\r\n  const { dataUser } = useContext(AuthContext);\r\n\r\n  // if the admin is not a superadmin return a p with a not authorized message, otherwise send the component\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        return dataUser.adminLevel === \"superadmin\" ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <p className=\"bg-danger text-white p-2\">Non Autorisé</p>\r\n        );\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default PrivateRoute;\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport Form from \"../../general/Form/Form\";\r\nimport DivInputForm from \"../../general/Form/DivInputForm\";\r\nimport InputFileForm from \"../../general/Form/InputFileForm\";\r\nimport Api from '../../../Classes/Api/Api.js';\r\n\r\nfunction AdminForm(props) {\r\n  const ApiLinkImage = Api.endPointImage;\r\n\r\n  return (\r\n    <Form\r\n      handleSubmit={props.handleSubmit}\r\n      titlepage={`${props.titlepage} admin`}\r\n      isFailed={props.isFailed}\r\n      isSuccess={props.isSuccess}\r\n      successMessage={`Utilisateur enregistré avec succés`}\r\n      failMessage=\"Erreur de duplication utilisateur ou champs vide, veuillez vérifier votre formulaire\"\r\n    >\r\n      {props.pictureDisplay !== \"\" && props.pictureDisplay !== undefined ? (\r\n        <div className=\"col-12 m-0 p-0 row d-flex justify-content-between\">\r\n          <div\r\n            className=\"col-4 col-sm-2 p-2 mx-auto\"\r\n            key={props.pictureDisplay}\r\n          >\r\n            <img\r\n              src={`${ApiLinkImage}/${props.pictureDisplay}`}\r\n              className=\"w-100 rounded-circle\"\r\n              alt=\"avatar_image_profil\"\r\n            />\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"col-12 m-0 p-0 row d-flex justify-content-between\">\r\n          <div\r\n            className=\"col-4 col-sm-2 p-2 mx-auto\"\r\n            key={props.pictureDisplay}\r\n          >\r\n            <img\r\n              src={`${ApiLinkImage}/default-avatar.png`}\r\n              className=\"w-100 rounded-circle\"\r\n              alt=\"avatar_image_profil\"\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n      <InputFileForm\r\n        errorPicture={props.errorPicture}\r\n        isSubmit={props.isSubmit}\r\n        setPicture={(e) => props.setPicture(e.target.files)}\r\n        label={\"Photo de profil\"}\r\n        errorMessage=\"Seule une image sous le format png ou jpg/jpeg est accepté\"\r\n        isMultiple={true}\r\n      />\r\n      <div className=\"row form-group my-3 d-flex justify-content-center align-items-center w-100\">\r\n        <label className=\"col-9 col-sm-4 mt-2\">Titre :</label>\r\n        <div className=\"col-12 col-sm-6 col-md-5\">\r\n          <label className=\"col-6 col-sm-5 mt-2\">\r\n            Mr\r\n            <input\r\n              type=\"radio\"\r\n              name=\"gender\"\r\n              className=\"mx-1\"\r\n              checked={props.gender === \"mr\"}\r\n              id=\"mr\"\r\n              key=\"mr\"\r\n              onChange={() => props.setGender(\"mr\")}\r\n            />\r\n          </label>\r\n          <label className=\"col-6 col-sm-5 mt-2\">\r\n            Mrs\r\n            <input\r\n              type=\"radio\"\r\n              name=\"gender\"\r\n              className=\"mx-1\"\r\n              id=\"mrs\"\r\n              key=\"mrs\"\r\n              checked={props.gender === \"mrs\"}\r\n              onChange={() => props.setGender(\"mrs\")}\r\n            />\r\n          </label>\r\n        </div>\r\n      </div>\r\n      {props.location !== \"/admin/my_profil\" && (\r\n        <>\r\n          {props.errorAdminLevel && props.isSubmit && (\r\n          <span className=\"text-danger errormessage text-center\">\r\n            Veuillez sélectionner un rôle\r\n          </span>\r\n          )}\r\n          <div className=\"row form-group my-3 d-flex justify-content-center align-items-center w-100\">\r\n            <label className=\"col-9 col-sm-4 mt-2\">Rôle :</label>\r\n            <select\r\n              name=\"adminlevel\"\r\n              id=\"adminlevel\"\r\n              className=\"p-1 col-9 col-sm-6 col-md-5\"\r\n              value={props.adminLevel}\r\n              onChange={(e) => {\r\n                props.setAdminLevel(e.target.value);\r\n              }}\r\n            >\r\n              <option value=\"\">--Rôle admin--</option>\r\n              <option value=\"superadmin\">superadmin</option>\r\n              <option value=\"admin\">admin</option>\r\n            </select>\r\n          </div>\r\n        </>\r\n      )}\r\n      <DivInputForm\r\n        label={\"Nom :\"}\r\n        name=\"lastname\"\r\n        type=\"text\"\r\n        value={props.lastName}\r\n        change={(e) => {\r\n          props.handleName(e);\r\n        }}\r\n        errorcondition={props.errorLastName && props.isSubmit}\r\n        errormessage=\"Le nom ne peut pas contenir de chiffre ou de caractères spéciaux\"\r\n      />\r\n      <DivInputForm\r\n        label={\"Prénom :\"}\r\n        name=\"firstname\"\r\n        type=\"text\"\r\n        value={props.firstName}\r\n        change={(e) => {\r\n          props.handleName(e);\r\n        }}\r\n        errorcondition={props.errorFirstName && props.isSubmit}\r\n        errormessage=\"Le prénom ne peut pas contenir de chiffre ou de caractères spéciaux\"\r\n      />\r\n      <div className=\"row form-group my-3 d-flex justify-content-center align-items-center col-12 mx-auto\">\r\n        <label className=\"col-9 col-sm-6 mt-2\">Date de naissance :</label>\r\n        <input\r\n          type=\"date\"\r\n          name=\"datebirth\"\r\n          min=\"1940-01-01\"\r\n          max=\"2010-01-01\"\r\n          value={\r\n            props.dateBirth && moment(props.dateBirth).format(\"YYYY-MM-DD\")\r\n          }\r\n          className=\"form-control col-9 col-sm-6 col-md-5\"\r\n          onChange={(e) => {\r\n            if (e.target.value === \"\") {\r\n              props.setDateBirth();\r\n            } else {\r\n              props.setDateBirth(e.target.value);\r\n            }\r\n          }}\r\n        />\r\n      </div>\r\n      <DivInputForm\r\n        label={\"Email :\"}\r\n        name=\"email\"\r\n        type=\"email\"\r\n        value={props.email}\r\n        change={(e) => {\r\n          props.setEmail(e.target.value);\r\n        }}\r\n        errorcondition={props.errorMail && props.isSubmit}\r\n        errormessage=\"L'email doit être au format johndoe@louons.fr\"\r\n      />\r\n      <DivInputForm\r\n        label={\"Mot de passe :\"}\r\n        name=\"password\"\r\n        type=\"password\"\r\n        value={props.password}\r\n        change={(e) => {\r\n          props.setPassword(e.target.value);\r\n        }}\r\n        errorcondition={\r\n          props.method === \"PUT\"\r\n            ? props.errorPassword && props.isSubmit\r\n            : props.errorPassword\r\n        }\r\n        errormessage=\"Le mot de passe doit contenir au moins 8 charactères, une majuscule\r\n        un chiffre et un caractère spécial\"\r\n      />\r\n      <DivInputForm\r\n        label={\"Confirmation :\"}\r\n        name=\"passwordconf\"\r\n        type=\"password\"\r\n        value={props.confirmationPassword}\r\n        change={(e) => {\r\n          props.setConfirmationPassword(e.target.value);\r\n        }}\r\n        errorcondition={\r\n          props.method === \"PUT\"\r\n            ? props.errorConfirmation && props.isSubmit\r\n            : props.errorConfirmation\r\n        }\r\n        errormessage=\"Le mot de passe de confirmation doit être identique\"\r\n      />\r\n    </Form>\r\n  );\r\n}\r\n\r\nAdminForm.defaultProps = {\r\n  dateBirth: \"\",\r\n};\r\n\r\nexport default AdminForm;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport AdminForm from \"./AdminForm\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport Api from '../../../Classes/Api/Api.js';\r\n\r\nfunction AdminFormLogic(props) {\r\n  const [method, setMethod] = useState(\"POST\");\r\n  const [picture, setPicture] = useState(\"\");\r\n  const [gender, setGender] = useState(\"mr\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [dateBirth, setDateBirth] = useState();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [adminLevel, setAdminLevel] = useState(\"\");\r\n  const [confirmationPassword, setConfirmationPassword] = useState(\"\");\r\n  const [pictureDisplay, setPictureDisplay] = useState(\"\");\r\n  const [errorForm, setErrorForm] = useState(false);\r\n  const [numberErrorForm, setNumberErrorForm] = useState(0);\r\n  const [errorLastName, setErrorLastName] = useState(false);\r\n  const [errorFirstName, setErrorFirstName] = useState(false);\r\n  const [errorMail, setErrorMail] = useState(false);\r\n  const [errorPassword, setErrorPassword] = useState(false);\r\n  const [errorConfirmation, setErrorConfirmation] = useState(false);\r\n  const [errorAdminLevel, setErrorAdminLevel] = useState(false);\r\n  const [errorPicture, setErrorPicture] = useState(false);\r\n  const [isSubmit, setIsSubmit] = useState(false);\r\n  const [isSuccess, setIsSuccess] = useState(false);\r\n  const [isFailed, setIsFailed] = useState(false);\r\n  const { dataUser } = useContext(AuthContext);\r\n  const idParams = useParams().id || dataUser._id;\r\n  const dataform = new FormData();\r\n  const ApiLink = Api.endPoint;\r\n\r\n  useEffect(() => {\r\n    setErrorForm(false);\r\n    // if the method is not equal to true and there are an idparams, fetch the data to the api and set the state\r\n\r\n    if (idParams && method !== \"PUT\") {\r\n      const url =\r\n        props.location.pathname === \"/admin/my_profil\"\r\n          ? `${ApiLink}/admin/me`\r\n          : `${ApiLink}/admin/${idParams}`;\r\n      setMethod(\"PUT\");\r\n      fetch(url, {\r\n        credentials: \"include\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      })\r\n        .then((response) => response.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            setGender(result.gender.toLowerCase());\r\n            setAdminLevel(result.adminLevel);\r\n            setLastName(result.lastName);\r\n            setFirstName(result.firstName);\r\n            setEmail(result.email);\r\n            setDateBirth(result.dateBirth);\r\n            setPictureDisplay(result.path_picture);\r\n          } else if (result.error) {\r\n            return props.history.push(\"/admin/admins\");\r\n          }\r\n        });\r\n    }\r\n\r\n    setNumberErrorForm(0);\r\n\r\n    // initialize the regex\r\n\r\n    const regexName = new RegExp(/^[a-zA-Z\\séùàüäîçïèêôö-]+$/);\r\n    const regexMail = new RegExp(\r\n      /^\\w*([.|-]){0,1}\\w*([.|-]){0,1}\\w*[@][a-z]*[.]\\w{2,5}/\r\n    );\r\n    const regexPassword = new RegExp(\r\n      /((?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[#$%^&*()+=!?\\-';,./{}|:<>?~]).{8,20})/\r\n    );\r\n\r\n    // set the error depending the value of the fields\r\n\r\n    if (!regexName.test(lastName) || lastName === \"\") {\r\n      setErrorLastName(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorLastName(false);\r\n    }\r\n\r\n    if (!regexName.test(firstName) || firstName === \"\") {\r\n      setErrorFirstName(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorFirstName(false);\r\n    }\r\n\r\n    if (!regexMail.test(email) || email === \"\") {\r\n      setErrorMail(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorMail(false);\r\n    }\r\n\r\n    if (\r\n      (!regexPassword.test(password) && password !== \"\") ||\r\n      (password === \"\" && method === \"POST\")\r\n    ) {\r\n      setErrorPassword(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorPassword(false);\r\n    }\r\n\r\n    if (\r\n      confirmationPassword !== password ||\r\n      (confirmationPassword === \"\" && method === \"POST\")\r\n    ) {\r\n      setErrorConfirmation(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorConfirmation(false);\r\n    }\r\n\r\n    if (adminLevel !== \"superadmin\" && adminLevel !== \"admin\") {\r\n      setErrorAdminLevel(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    } else {\r\n      setErrorAdminLevel(false);\r\n    }\r\n\r\n    if (Object.keys(picture).length === 1) {\r\n      for (let i = 0; i < picture.length; i++) {\r\n        if (\r\n          picture[i].type !== \"image/png\" &&\r\n          picture[i].type !== \"image/jpeg\"\r\n        ) {\r\n          setErrorPicture(true);\r\n          setNumberErrorForm((prev) => prev + 1);\r\n        } else {\r\n          setErrorPicture(false);\r\n          dataform.append(`file${i}`, picture[i]);\r\n        }\r\n      }\r\n    } else if (Object.keys(picture).length > 1) {\r\n      setErrorPicture(true);\r\n      setNumberErrorForm((prev) => prev + 1);\r\n    }\r\n\r\n    if (numberErrorForm > 0) {\r\n      setErrorForm(true);\r\n    } else {\r\n      setErrorForm(false);\r\n    }\r\n  }, [\r\n    numberErrorForm,\r\n    lastName,\r\n    firstName,\r\n    email,\r\n    password,\r\n    confirmationPassword,\r\n    idParams,\r\n    method,\r\n    adminLevel,\r\n    errorAdminLevel,\r\n    dataform,\r\n    picture,\r\n    pictureDisplay,\r\n    props,\r\n    ApiLink\r\n  ]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault(e);\r\n    setIsSubmit(true);\r\n\r\n    // append the different state to the dataform depending the value of the password and the method\r\n\r\n    dataform.append(\"gender\", gender);\r\n    dataform.append(\"lastName\", lastName);\r\n    dataform.append(\"firstName\", firstName);\r\n    dataform.append(\"date_birth\", dateBirth);\r\n    dataform.append(\"adminLevel\", adminLevel);\r\n    dataform.append(\"email\", email);\r\n    password !== \"\" && dataform.append(\"password\", password);\r\n\r\n    // adapt the link according to the method\r\n    const getLink =\r\n      method === \"POST\"\r\n        ? `${ApiLink}/admin`\r\n        : `${ApiLink}/admin/${idParams}`;\r\n\r\n    // fetch only if there are not errorform\r\n\r\n    if (!errorForm) {\r\n      fetch(getLink, {\r\n        method: method,\r\n        credentials: \"include\",\r\n        body: dataform,\r\n      })\r\n        .then((response) => response.json())\r\n        .then((result) => {\r\n          if (!result.error) {\r\n            // set issuccess to true if there are not error\r\n            setIsSuccess(true);\r\n            setTimeout(() => {\r\n              setIsSuccess(false);\r\n            }, 1500);\r\n            if (method === \"POST\") {\r\n              // reset all value of the form if the value method is equal to POST\r\n              setLastName(\"\");\r\n              setFirstName(\"\");\r\n              setDateBirth(\"\");\r\n              setEmail(\"\");\r\n              setPassword(\"\");\r\n              setConfirmationPassword(\"\");\r\n              setAdminLevel(\"\");\r\n            } else {\r\n              console.log(result);\r\n              setPictureDisplay(result.picture);\r\n              setPassword(\"\");\r\n              setConfirmationPassword(\"\");\r\n            }\r\n            setIsSubmit(false);\r\n          } else if (result.error) {\r\n            // set isfailed to false if there are an error\r\n            setIsFailed(true);\r\n            setTimeout(() => {\r\n              setIsFailed(false);\r\n            }, 1500);\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  // function that set either the lastname or the firstname\r\n  const handleName = (e) => {\r\n    if (e.target.name === \"lastname\") {\r\n      setLastName(e.target.value);\r\n    } else {\r\n      setFirstName(e.target.value);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AdminForm\r\n      isSuccess={isSuccess}\r\n      isFailed={isFailed}\r\n      handleSubmit={handleSubmit}\r\n      gender={gender}\r\n      lastName={lastName}\r\n      firstName={firstName}\r\n      dateBirth={dateBirth}\r\n      email={email}\r\n      password={password}\r\n      confirmationPassword={confirmationPassword}\r\n      setDateBirth={setDateBirth}\r\n      setEmail={setEmail}\r\n      setPassword={setPassword}\r\n      setConfirmationPassword={setConfirmationPassword}\r\n      setGender={setGender}\r\n      handleName={handleName}\r\n      errorLastName={errorLastName}\r\n      errorFirstName={errorFirstName}\r\n      errorMail={errorMail}\r\n      errorPassword={errorPassword}\r\n      errorConfirmation={errorConfirmation}\r\n      titlepage={props.title}\r\n      isSubmit={isSubmit}\r\n      method={method}\r\n      adminLevel={adminLevel}\r\n      errorAdminLevel={errorAdminLevel}\r\n      setAdminLevel={setAdminLevel}\r\n      setPicture={setPicture}\r\n      errorPicture={errorPicture}\r\n      pictureDisplay={pictureDisplay}\r\n      setPictureDisplay={setPictureDisplay}\r\n      location={props.location.pathname}\r\n    />\r\n  );\r\n}\r\n\r\nexport default AdminFormLogic;\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport ListAdmin from \"./ListAdmin\";\r\nimport NotFound from \"../../general/NotFound\";\r\nimport PrivateAccessSuperAdmin from \"../PrivateAccessSuperAdmin\";\r\nimport AdminFormLogic from \"./AdminFormLogic\";\r\n\r\nfunction PrivateAdmin() {\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/admin/admins\">\r\n        <PrivateAccessSuperAdmin component={ListAdmin} />\r\n      </Route>\r\n      <Route exact path=\"/admin/admins/add\">\r\n        <PrivateAccessSuperAdmin title=\"Ajouter un\" component={AdminFormLogic} />\r\n      </Route>\r\n      <Route exact path=\"/admin/admins/:id\">\r\n        <PrivateAccessSuperAdmin title=\"Modifier un\" component={AdminFormLogic} />\r\n      </Route>\r\n      <Route>\r\n        <NotFound />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default PrivateAdmin;\r\n","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Bar from \"../../general/Bar\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\n\r\nfunction RightHeaderPart() {\r\n  // Render the righside part of the header\r\n\r\n  const { dataUser } = useContext(AuthContext);\r\n\r\n  return (\r\n    <div className=\"col-6 col-md-3 d-flex align-items-center justify-content-center\">\r\n      <Link className=\"text-decoration-none\" to=\"/admin/my_profile\">\r\n        {dataUser.adminLevel === \"superadmin\" ? (\r\n          <i className=\"ri-shield-user-line mx-1 mx-sm-2 icon-font22 color3c8ce4\"></i>\r\n        ) : (\r\n          <i className=\"ri-shield-user-line mx-1 mx-sm-2 icon-font22 color3c8ce4\"></i>\r\n        )}\r\n      </Link>\r\n      <i className=\"ri-mail-fill mx-1 mx-sm-2 icon-font22 color3c8ce4\"></i>\r\n      <Link className=\"text-decoration-none\" to=\"/adminlogout\">\r\n        <i className=\"ri-logout-circle-r-line mx-1 mx-sm-2 icon-font22 text-danger\"></i>\r\n      </Link>\r\n      <Bar />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RightHeaderPart;\r\n","import React from \"react\";\r\nimport Logo from \"../../general/Logo\";\r\nimport SearchBar from \"../../general/SearchBar\";\r\nimport RightHeaderPart from \"./RightHeaderPart\";\r\n\r\nfunction Header() {\r\n  // Render the header of the admin\r\n  return (\r\n    <header className=\"row adminheader d-flex justify-content-around align-items-center\">\r\n      <div className=\"d-none d-lg-flex col-md-4 col-lg-2\"></div>\r\n      <div className=\"d-none d-lg-flex col-md-3 col-xl-2 align-items-center\">\r\n        <SearchBar />\r\n      </div>\r\n      <Logo specificclassname=\"col-6 col-md-4 col-xl-5 text-center d-flex justify-content-center align-items-center p-3 logo\" />\r\n      <RightHeaderPart />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { TogglerContext } from \"../../context/TogglerContext\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\n\r\nfunction Menu() {\r\n\r\n  // Initialize the list of the menu\r\n\r\n  const [listMenu] = useState([\r\n    { link: \"\", title: \"Accueil\" },\r\n    { link: \"users\", title: \"Utilisateurs\" },\r\n    { link: \"categories\", title: \"Catégories\" },\r\n    { link: \"articles\", title: \"Article\" },\r\n    { link: \"rentals\", title: \"Location\" },\r\n    { link: \"addresses\", title: \"Adresse\" },\r\n    { link: \"payments\", title: \"Paiement\" },\r\n    { link: \"deliveries\", title: \"Livraison\" },\r\n    { link: \"admins\", title: \"Administrateurs\" },\r\n    { link: \"adminlogout\", title: \"Deconnexion\" },\r\n  ]);\r\n\r\n  // Get the context of the toggler in order to display the menu or no\r\n\r\n  const { isToggle, setToggle } = useContext(TogglerContext);\r\n\r\n  const isShown = isToggle && \"d-flex\";\r\n\r\n  // Map over the listMenu in order to display them\r\n\r\n  const listNav = listMenu.map((elt, index) => (\r\n    <Link\r\n      key={index}\r\n      className=\"text-decoration-none\"\r\n      to={elt.title === 'Deconnexion' ? `/${elt.link}` : `/admin/${elt.link}`}\r\n    >\r\n      <li key={index} className=\"py-2 text-white text-center border-bottom listmenuadmin\" onClick={()=> setToggle(false)}>\r\n        {elt.title}\r\n      </li>\r\n    </Link>\r\n  ));\r\n\r\n  return (\r\n    <CSSTransition\r\n      classNames=\"menuadmin\"\r\n      timeout={600}\r\n      in={isToggle}\r\n    >\r\n      <div\r\n        className={`${isShown} menuadmincontainer d-lg-flex col-6 col-md-4 col-lg-2 bgcolor9cd1ff`}\r\n      >\r\n        <nav className=\"navadmin bg d-flex w-100\">\r\n          <ul className=\"list-unstyled w-100 d-flex flex-column justify-content-center justify-content-lg-start\">{listNav}</ul>\r\n        </nav>\r\n      </div>\r\n    </CSSTransition>\r\n  );\r\n}\r\n\r\nexport default Menu;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  // component that render a simple footer component\r\n  return (\r\n  <footer className=\"row footeradmin p-2 bgcolor3c8ce4 d-flex justify-content-center align-items-center\">\r\n    <p className=\"text-white text-center mb-0\">@copyright - louons.fr - Tous droits réservé</p>\r\n  </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React, { useContext } from \"react\";\r\nimport AdminFormLogic from \"./Admins/AdminFormLogic\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nfunction MyProfile(props) {\r\n  const { dataUser } = useContext(AuthContext);\r\n\r\n  return <AdminFormLogic {...props} id={dataUser._id} title=\"Mon profil\"/>;\r\n}\r\n\r\nexport default MyProfile;\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport Home from \"./Home\";\r\nimport PrivateUser from \"./Users/PrivateUser\";\r\nimport PrivateCategory from \"./Categories/PrivateCategory\";\r\nimport PrivateArticle from \"./Articles/PrivateArticle\";\r\nimport PrivateRental from \"./Rentals/PrivateRental\";\r\nimport PrivateAddress from \"./Addresses/PrivateAddress\";\r\nimport PrivatePayment from \"./Payments/PrivatePayment\";\r\nimport PrivateDelivery from \"./Deliveries/PrivateDelivery\";\r\nimport PrivateAdmin from \"./Admins/PrivateAdmin\";\r\nimport Header from \"./Header\";\r\nimport Menu from \"./Menu\";\r\nimport Footer from \"./Footer.jsx\";\r\nimport NotFound from \"../general/NotFound\";\r\nimport PrivateRoute from \"../general/PrivateRoute\";\r\nimport MyProfile from \"./MyProfile\";\r\nimport \"../../styles/admin/global.css\";\r\nimport \"../../styles/admin/main.css\";\r\nimport { TogglerProvider } from \"../../context/TogglerContext\";\r\nimport { PopupAddProvider } from \"../../context/PopupAddContext\";\r\n\r\nfunction Admin() {\r\n  // This routes are only accessible when the user is logged in (PrivateRoute)\r\n\r\n  return (\r\n    <TogglerProvider>\r\n      <PopupAddProvider>\r\n        <Header />\r\n        <main className=\"row fill\">\r\n          <Menu />\r\n          <div className=\"col-12 col-lg-9\">\r\n            <Switch>\r\n              <Route exact path=\"/admin\">\r\n                <PrivateRoute component={Home} pageifnotauth=\"/adminlogin\" />\r\n              </Route>\r\n              <Route path=\"/admin/users\">\r\n                <PrivateRoute\r\n                  component={PrivateUser}\r\n                  pageifnotauth=\"/adminlogin\"\r\n                />\r\n              </Route>\r\n              <Route path=\"/admin/categories\">\r\n                <PrivateRoute\r\n                  component={PrivateCategory}\r\n                  pageifnotauth=\"/adminlogin\"\r\n                />\r\n              </Route>\r\n              <Route path=\"/admin/articles\">\r\n                <PrivateRoute\r\n                  component={PrivateArticle}\r\n                  pageifnotauth=\"/adminlogin\"\r\n                />\r\n              </Route>\r\n              <Route path=\"/admin/rentals\">\r\n                <PrivateRoute\r\n                  component={PrivateRental}\r\n                  pageifnotauth=\"/adminlogin\"\r\n                />\r\n              </Route>\r\n              <Route path=\"/admin/addresses\">\r\n                <PrivateRoute\r\n                  component={PrivateAddress}\r\n                  pageifnotauth=\"/adminlogin\"\r\n                />\r\n              </Route>\r\n              <Route path=\"/admin/payments\">\r\n                <PrivateRoute\r\n                  component={PrivatePayment}\r\n                  pageifnotauth=\"/adminlogin\"\r\n                />\r\n              </Route>\r\n              <Route path=\"/admin/deliveries\">\r\n                <PrivateRoute\r\n                  component={PrivateDelivery}\r\n                  pageifnotauth=\"/adminlogin\"\r\n                />\r\n              </Route>\r\n              <Route path=\"/admin/admins\">\r\n                <PrivateRoute\r\n                  component={PrivateAdmin}\r\n                  pageifnotauth=\"/adminlogin\"\r\n                />\r\n              </Route>\r\n              <Route path=\"/admin/my_profile\">\r\n                <PrivateRoute\r\n                  component={MyProfile}\r\n                  pageifnotauth=\"/adminlogin\"\r\n                />\r\n              </Route>\r\n\r\n              <Route>\r\n                <NotFound />\r\n              </Route>\r\n            </Switch>\r\n          </div>\r\n        </main>\r\n        <Footer />\r\n      </PopupAddProvider>\r\n    </TogglerProvider>\r\n  );\r\n}\r\n\r\nexport default Admin;\r\n","import React from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"../styles/general.css\";\r\nimport \"../styles/icon/remixicon.css\";\r\nimport Front from \"../components/front/index.jsx\";\r\nimport Admin from \"../components/admin/index.jsx\";\r\nimport Login from \"../components/general/Login\";\r\nimport Logout from \"../components/general/Logout\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport AuthProvider from \"../context/AuthContext\";\r\nimport PrivateRoute from \"../components/general/PrivateRoute\";\r\nimport Api from '../Classes/Api/Api.js';\r\n\r\nfunction App() {\r\n  const ApiLink = Api.endPoint;\r\n  return (\r\n    // Provide context authentication to the entire app and configure the main route admin and / (public)\r\n\r\n    <Router>\r\n      <AuthProvider>\r\n        <Switch>\r\n          <Route\r\n            exact\r\n            path=\"/adminlogin\"\r\n            render={(props) => (\r\n              <Login\r\n                linkapi={`${ApiLink}/authenticationadmin`}\r\n                redirect=\"/admin\"\r\n                {...props}\r\n              />\r\n            )}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/adminlogout\"\r\n            render={(props) => <Logout {...props} redirect=\"/adminlogin\" />}\r\n          />\r\n          <Route path=\"/admin\">\r\n            <PrivateRoute component={Admin} pageifnotauth=\"/adminlogin\" />\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <Front />\r\n          </Route>\r\n        </Switch>\r\n      </AuthProvider>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App/App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n\r\nserviceWorker.unregister();"],"sourceRoot":""}